{"ast":null,"code":"module.exports = function () {\n  var selection = document.getSelection();\n\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n\n  var active = document.activeElement;\n  var ranges = [];\n\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) {\n    // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' && selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function (range) {\n        selection.addRange(range);\n      });\n    }\n\n    active && active.focus();\n  };\n};","map":{"version":3,"sources":["/Users/leon/lib-test/liraz-test/node_modules/toggle-selection/index.js"],"names":["module","exports","selection","document","getSelection","rangeCount","active","activeElement","ranges","i","push","getRangeAt","tagName","toUpperCase","blur","removeAllRanges","type","forEach","range","addRange","focus"],"mappings":"AACAA,MAAM,CAACC,OAAP,GAAiB,YAAY;AAC3B,MAAIC,SAAS,GAAGC,QAAQ,CAACC,YAAT,EAAhB;;AACA,MAAI,CAACF,SAAS,CAACG,UAAf,EAA2B;AACzB,WAAO,YAAY,CAAE,CAArB;AACD;;AACD,MAAIC,MAAM,GAAGH,QAAQ,CAACI,aAAtB;AAEA,MAAIC,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,SAAS,CAACG,UAA9B,EAA0CI,CAAC,EAA3C,EAA+C;AAC7CD,IAAAA,MAAM,CAACE,IAAP,CAAYR,SAAS,CAACS,UAAV,CAAqBF,CAArB,CAAZ;AACD;;AAED,UAAQH,MAAM,CAACM,OAAP,CAAeC,WAAf,EAAR;AAAwC;AACtC,SAAK,OAAL;AACA,SAAK,UAAL;AACEP,MAAAA,MAAM,CAACQ,IAAP;AACA;;AAEF;AACER,MAAAA,MAAM,GAAG,IAAT;AACA;AARJ;;AAWAJ,EAAAA,SAAS,CAACa,eAAV;AACA,SAAO,YAAY;AACjBb,IAAAA,SAAS,CAACc,IAAV,KAAmB,OAAnB,IACAd,SAAS,CAACa,eAAV,EADA;;AAGA,QAAI,CAACb,SAAS,CAACG,UAAf,EAA2B;AACzBG,MAAAA,MAAM,CAACS,OAAP,CAAe,UAASC,KAAT,EAAgB;AAC7BhB,QAAAA,SAAS,CAACiB,QAAV,CAAmBD,KAAnB;AACD,OAFD;AAGD;;AAEDZ,IAAAA,MAAM,IACNA,MAAM,CAACc,KAAP,EADA;AAED,GAZD;AAaD,CArCD","sourcesContent":["\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n"]},"metadata":{},"sourceType":"script"}