{"ast":null,"code":"import React__default, { useState, useEffect, createElement } from 'react';\nimport { Select as Select$1, MenuItem, makeStyles, Tooltip as Tooltip$1, Fade } from '@material-ui/core';\nimport { makeStyles as makeStyles$1, createStyles } from '@material-ui/core/styles';\n\nconst Bla = () => React__default.createElement(\"div\", null, \"aaaa\");\n\nvar style = {\n  \"loadingOverlayContainer\": \"_LoadingOverlay-module__loadingOverlayContainer__3eijD\",\n  \"loadingOverlaySpinner\": \"_LoadingOverlay-module__loadingOverlaySpinner__bGElx\",\n  \"rotation\": \"_LoadingOverlay-module__rotation__1jTYC\"\n};\nconsole.log(React__default);\nconst SpinnerShowDelayMs = 350;\n\nconst LoadingOverlay = _ref => {\n  let {\n    delay\n  } = _ref;\n  const [isVisible, setIsVisible] = useState(false);\n  useEffect(() => {\n    let isRelevant = true;\n    setTimeout(() => {\n      if (isRelevant) setIsVisible(true);\n    }, delay || SpinnerShowDelayMs);\n    return () => isRelevant = false;\n  }, [delay]);\n  return React__default.createElement(\"div\", {\n    className: style.loadingOverlayContainer,\n    hidden: !isVisible\n  }, React__default.createElement(\"div\", {\n    className: style.loadingOverlaySpinner\n  }));\n};\n\nvar _path;\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction SvgDefaultIconDown(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 7.237,\n    height: 7.237,\n    fill: \"#fff\"\n  }, props), _path || (_path = /*#__PURE__*/createElement(\"path\", {\n    d: \"M7.236 3.618L5.789 2.171 3.618 4.34l-2.171-2.17L0 3.618l3.618 3.618 3.618-3.618z\"\n  })));\n}\n\nvar styles = {\n  \"icon\": \"_Select-module__icon__1lwMT\",\n  \"list\": \"_Select-module__list__i01OB\"\n};\nconst ALL_KEY = 'All';\nconst menuProps = {\n  anchorOrigin: {\n    vertical: \"bottom\",\n    horizontal: \"left\"\n  },\n  transformOrigin: {\n    vertical: \"top\",\n    horizontal: \"left\"\n  },\n  getContentAnchorEl: null\n};\nconst classes = {\n  icon: styles.icon,\n  selectMenu: styles.list\n};\nconst defaultProps = {\n  MenuProps: menuProps,\n  IconComponent: SvgDefaultIconDown\n};\n\nconst Select = _ref2 => {\n  let {\n    label,\n    value,\n    onChangecb,\n    transformDisplay,\n    ellipsis: _ellipsis = true,\n    multiple,\n    labelOnTop: _labelOnTop = false,\n    children,\n    className,\n    labelClassName,\n    trimItemsWhenMultiple,\n    ...props\n  } = _ref2;\n  let _value = value;\n\n  const _onChange = (_, item) => {\n    const value = item.props.value;\n    value === ALL_KEY ? onChangecb(ALL_KEY) : onChangecb(value);\n  };\n\n  if (multiple && (!_value || _value.length === 0)) _value = [ALL_KEY];\n  const transformItem = transformDisplay ? transformDisplay : i => i;\n  const renderValue = multiple ? item => React__default.createElement(\"span\", {\n    className: _ellipsis ? 'ellipsis' : ''\n  }, trimItemsWhenMultiple && item.length > 1 ? transformItem(`${item[item.length - 1]} (+${item.length - 1})`) : item === null || item === void 0 ? void 0 : item.map(transformItem).join(\",\")) : null;\n  return React__default.createElement(\"div\", {\n    className: `select ${_labelOnTop ? 'labelOnTop' : ''} ${className ? className : ''}`\n  }, label && React__default.createElement(\"div\", {\n    className: `selectLabel ${labelClassName ? labelClassName : ''}`\n  }, label), React__default.createElement(Select$1, Object.assign({}, Object.assign({}, defaultProps, props, {\n    classes,\n    value: _value,\n    renderValue,\n    multiple,\n    onChange: _onChange\n  })), multiple && React__default.createElement(MenuItem, {\n    key: ALL_KEY,\n    value: ALL_KEY\n  }, transformItem(ALL_KEY)), children));\n};\n\nconst styles$1 = {\n  default: {\n    maxWidth: 300\n  },\n  wide: {\n    maxWidth: 700\n  },\n  fit: {\n    maxWidth: '100%'\n  }\n};\nconst useStyles = makeStyles(theme => styles$1);\n\nconst Tooltip = props => {\n  const {\n    isSimple,\n    ..._props\n  } = props;\n  const classes = useStyles(props.variant);\n  const variant = props.variant || 'default';\n  const backgroundClass = isSimple ? \"\" : \"noBackground\";\n  return React__default.createElement(Tooltip$1, Object.assign({\n    classes: {\n      tooltip: `${backgroundClass} ` + classes[variant]\n    },\n    interactive: true,\n    enterDelay: 200,\n    TransitionComponent: Fade\n  }, _props), props.children || React__default.createElement(\"div\", null));\n};\n\nvar variables = {\n  \"mainBackgroundColor\": \"white\",\n  \"headerBackgroundColor\": \"#F7F9FC\",\n  \"fontColor\": \"#0C0B1A\",\n  \"secondaryFontColor\": \"rgba(0, 0, 0, 0.5)\",\n  \"blueColor\": \"#205CF5\",\n  \"lightBlueColor\": \"#BCCEFD\",\n  \"successColor\": \"#27AE60\",\n  \"failureColor\": \"#EB5757\",\n  \"blueGray\": \"#494677\",\n  \"lightGray\": \"#8F9BB2\"\n};\nconst useTabsStyles = makeStyles$1(theme => createStyles({\n  root: {\n    height: 40,\n    paddingTop: 15\n  },\n  tab: {\n    display: 'inline-block',\n    textTransform: 'uppercase',\n    color: variables.blueColor,\n    cursor: 'pointer'\n  },\n  tabsAlignLeft: {\n    textAlign: 'left'\n  },\n  active: {\n    fontWeight: 400,\n    color: variables.fontColor,\n    cursor: 'unset',\n    borderBottom: \"2px solid \" + variables.fontColor,\n    paddingBottom: 6,\n    \"&.dark\": {\n      color: theme.palette.common.black,\n      borderBottom: \"2px solid \" + theme.palette.common.black\n    }\n  },\n  disabled: {\n    color: theme.palette.primary.dark,\n    cursor: 'unset'\n  },\n  highlight: {\n    color: theme.palette.primary.light\n  },\n  separator: {\n    borderRight: \"1px solid \" + theme.palette.primary.dark,\n    height: 20,\n    verticalAlign: 'middle',\n    margin: '0 20px',\n    cursor: 'unset'\n  }\n}));\n\nconst Tabs = _ref3 => {\n  let {\n    classes: _classes2 = {},\n    tabs,\n    currentTab,\n    color,\n    onChange,\n    leftAligned,\n    dark\n  } = _ref3;\n  const _classes = { ...useTabsStyles(),\n    ..._classes2\n  };\n  return React__default.createElement(\"div\", {\n    className: `${_classes.root} ${leftAligned ? _classes.tabsAlignLeft : ''}`\n  }, tabs.map((_ref4, index) => {\n    let {\n      tab,\n      disabled,\n      disabledMessage,\n      highlight,\n      badge\n    } = _ref4;\n    const active = currentTab === tab;\n    const tabLink = React__default.createElement(\"span\", {\n      key: tab,\n      className: `${_classes.tab} ${active ? _classes.active : ''} ${disabled ? _classes.disabled : ''} ${highlight ? _classes.highlight : ''} ${dark ? 'dark' : ''}`,\n      onClick: () => !disabled && onChange(tab),\n      style: {\n        color: color\n      }\n    }, tab, React__default.isValidElement(badge) && badge);\n    return React__default.createElement(\"span\", {\n      key: tab\n    }, disabled && disabledMessage ? React__default.createElement(Tooltip, {\n      title: disabledMessage,\n      isSimple: true\n    }, tabLink) : tabLink, index < tabs.length - 1 && React__default.createElement(\"span\", {\n      className: _classes.tab + ' ' + _classes.separator,\n      key: tab + '_sepparator'\n    }));\n  }));\n};\n\nvar index = {\n  __proto__: null,\n  LoadingOverlay: LoadingOverlay,\n  Select: Select,\n  Tabs: Tabs,\n  Tooltip: Tooltip\n};\nexport default Bla;\nexport { index as UI };","map":{"version":3,"mappings":"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","names":["Bla","React","console","log","SpinnerShowDelayMs","LoadingOverlay","delay","isVisible","setIsVisible","useState","useEffect","isRelevant","setTimeout","className","style","loadingOverlayContainer","hidden","loadingOverlaySpinner","ALL_KEY","menuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","classes","icon","styles","selectMenu","list","defaultProps","MenuProps","IconComponent","DefaultIconDown","Select","label","value","onChangecb","transformDisplay","ellipsis","multiple","labelOnTop","children","labelClassName","trimItemsWhenMultiple","props","_value","_onChange","_","item","length","transformItem","i","renderValue","map","join","MUISelect","Object","assign","onChange","MenuItem","key","default","maxWidth","wide","fit","useStyles","makeStyles","theme","Tooltip","isSimple","_props","variant","backgroundClass","MUITooltip","tooltip","interactive","enterDelay","TransitionComponent","Fade","useTabsStyles","createStyles","root","height","paddingTop","tab","display","textTransform","color","variables","blueColor","cursor","tabsAlignLeft","textAlign","active","fontWeight","fontColor","borderBottom","paddingBottom","palette","common","black","disabled","primary","dark","highlight","light","separator","borderRight","verticalAlign","margin","Tabs","tabs","currentTab","leftAligned","_classes","index","disabledMessage","badge","tabLink","onClick","isValidElement","title"],"sources":["../src/components/TrafficViewer/TrafficViewer.tsx","../src/components/UI/LoadingOverlay.tsx","../src/components/UI/Select.tsx","../src/components/UI/Tooltip.tsx","../src/components/UI/Tabs.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\n// import { Filters } from \"./Filters\";\n// import { EntriesList } from \"./EntriesList\";\n// import { makeStyles } from \"@material-ui/core\";\n// import TrafficViwerStyles from \"./TrafficViewer.module.sass\";\n// import styles from '../style/EntriesList.module.sass';\n// import {EntryDetailed} from \"./EntryDetailed\";\n// import playIcon from 'assets/run.svg';\n// import pauseIcon from 'assets/pause.svg';\n// import variables from '../../variables.module.scss';\n// import {StatusBar} from \"../UI/StatusBar\";\n// import { toast } from 'react-toastify';\n// import debounce from 'lodash/debounce';\n// import { RecoilRoot, RecoilState, useRecoilState, useRecoilValue, useSetRecoilState} from \"recoil\";\n// import tappingStatusAtom from \"../../recoil/tappingStatus\";\n// import entriesAtom from \"../../recoil/entries\";\n// import focusedEntryIdAtom from \"../../recoil/focusedEntryId\";\n// import websocketConnectionAtom, {WsConnectionStatus} from \"../../recoil/wsConnection\";\n// import queryAtom from \"../../recoil/query\";\n// import {TLSWarning} from \"../TLSWarning/TLSWarning\";\n// import { closeWsConnectionCallbackAtom } from \"../../recoil/wsConnection/atom\";\n// import trafficViewerApiAtom from \"../../recoil/TrafficViewerApi\"\n// import ITrafficViewerApi from \"./ITrafficViewerApi\";\n\n\n// const useLayoutStyles = makeStyles(() => ({\n//   details: {\n//     flex: \"0 0 50%\",\n//     width: \"45vw\",\n//     padding: \"12px 24px\",\n//     borderRadius: 4,\n//     marginTop: 15,\n//     background: variables.headerBackgroundColor,\n//   },\n\n//   viewer: {\n//     display: \"flex\",\n//     overflowY: \"auto\",\n//     height: \"calc(100% - 70px)\",\n//     padding: 5,\n//     paddingBottom: 0,\n//     overflow: \"auto\",\n//   },\n// }));\n\n// interface TrafficViewerProps {\n//   setAnalyzeStatus?: (status: any) => void;\n//   api? :any\n//   message :{}\n//   error? :{}\n//   isOpen : boolean\n//   closeWs : () => void\n//   sendQuery : (query : string) => void\n//   openSocket : () => void\n//   trafficViewerApiProp : ITrafficViewerApi\n// }\n\n// const TrafficViewer: React.FC<TrafficViewerProps> = ({setAnalyzeStatus, message, error, isOpen, closeWs, sendQuery, openSocket, trafficViewerApiProp}) => {\n//     const classes = useLayoutStyles();\n//     const [tappingStatus, setTappingStatus] = useRecoilState(tappingStatusAtom);\n//     const [entries, setEntries] = useRecoilState(entriesAtom);\n//     const [focusedEntryId, setFocusedEntryId] = useRecoilState(focusedEntryIdAtom);\n//     const [wsConnection, setWsConnection] = useRecoilState(websocketConnectionAtom);\n//     const setCloseWsCallback = useSetRecoilState(closeWsConnectionCallbackAtom)\n//     const query = useRecoilValue(queryAtom);\n//     const [queryToSend, setQueryToSend] = useState(\"\")\n//     const [trafficViewerApiState, setTrafficViewerApiState] = useRecoilState(trafficViewerApiAtom as RecoilState<ITrafficViewerApi>)\n    \n\n//     const [noMoreDataTop, setNoMoreDataTop] = useState(false);\n//     const [isSnappedToBottom, setIsSnappedToBottom] = useState(true);\n\n//     const [queryBackgroundColor, setQueryBackgroundColor] = useState(\"#f5f5f5\");\n\n//     const [queriedCurrent, setQueriedCurrent] = useState(0);\n//     const [queriedTotal, setQueriedTotal] = useState(0);\n//     const [leftOffBottom, setLeftOffBottom] = useState(0);\n//     const [leftOffTop, setLeftOffTop] = useState(null);\n//     const [truncatedTimestamp, setTruncatedTimestamp] = useState(0);\n\n//     const [startTime, setStartTime] = useState(0);\n//     const scrollableRef = useRef(null);\n\n//     const [showTLSWarning, setShowTLSWarning] = useState(false);\n//     const [userDismissedTLSWarning, setUserDismissedTLSWarning] = useState(false);\n//     const [addressesWithTLS, setAddressesWithTLS] = useState(new Set<string>());\n\n//     const handleQueryChange = useMemo(\n//       () =>\n//         debounce(async (query: string) => {\n//           if (!query) {\n//             setQueryBackgroundColor(\"#f5f5f5\");\n//           } else {\n//             const data = await trafficViewerApiProp.validateQuery(query);\n//             if (!data) {\n//               return;\n//             }\n//             if (data.valid) {\n//               setQueryBackgroundColor(\"#d2fad2\");\n//             } else {\n//               setQueryBackgroundColor(\"#fad6dc\");\n//             }\n//           }\n//         }, 500),\n//       []\n//     ) as (query: string) => void;\n\n//     useEffect(() => {\n//         handleQueryChange(query);\n//     }, [query, handleQueryChange]);\n    \n\n//     const listEntry = useRef(null);\n//     const openWebSocket = (query: string, resetEntries: boolean) => {\n//         if (resetEntries) {\n//             setFocusedEntryId(null);\n//             setEntries([]);\n//             setQueriedCurrent(0);\n//             setLeftOffTop(null);\n//             setNoMoreDataTop(false);\n//         }\n//         setQueryToSend(query)\n//         openSocket();\n//     }\n\n//     const onmessage = useCallback((e) => {\n//       if (!e?.data) return;\n//       const message = JSON.parse(e.data);\n//       switch (message.messageType) {\n//         case \"entry\":\n//           const entry = message.data;\n//           if (!focusedEntryId) setFocusedEntryId(entry.id.toString());\n//           const newEntries = [...entries, entry];\n//           if (newEntries.length === 10001) {\n//             setLeftOffTop(newEntries[0].entry.id);\n//             newEntries.shift();\n//             setNoMoreDataTop(false);\n//           }\n//           setEntries(newEntries);\n//           break;\n//         case \"status\":\n//           setTappingStatus(message.tappingStatus);\n//           break;\n//         case \"analyzeStatus\":\n//           setAnalyzeStatus(message.analyzeStatus);\n//           break;\n//         case \"outboundLink\":\n//           onTLSDetected(message.Data.DstIP);\n//           break;\n//         case \"toast\":\n//           toast[message.data.type](message.data.text, {\n//             position: \"bottom-right\",\n//             theme: \"colored\",\n//             autoClose: message.data.autoClose,\n//             hideProgressBar: false,\n//             closeOnClick: true,\n//             pauseOnHover: true,\n//             draggable: true,\n//             progress: undefined,\n//           });\n//           break;\n//         case \"queryMetadata\":\n//           setQueriedCurrent(queriedCurrent + message.data.current);\n//           setQueriedTotal(message.data.total);\n//           setLeftOffBottom(message.data.leftOff);\n//           setTruncatedTimestamp(message.data.truncatedTimestamp);\n//           if (leftOffTop === null) {\n//             setLeftOffTop(message.data.leftOff - 1);\n//           }\n//           break;\n//         case \"startTime\":\n//           setStartTime(message.data);\n//           break;\n//         default:\n//           console.error(\n//             `unsupported websocket message type, Got: ${message.messageType}`\n//           );\n//       }\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\n//     },[message]);\n\n//     useEffect(() =>{\n//       onmessage(message)\n//     },[message, onmessage])\n\n\n//     useEffect(()=>{\n//       isOpen ? setWsConnection(WsConnectionStatus.Connected) : setWsConnection(WsConnectionStatus.Closed)\n//       sendQuery(queryToSend)\n//     },[isOpen, queryToSend, sendQuery, setWsConnection])\n\n    \n\n//     // const onerror = (event) => {\n//     //     console.error(\"WebSocket error:\", event);\n//     //     if (query) {\n//     //         openWebSocket(`(${query}) and leftOff(${leftOffBottom})`, false);\n//     //     } else {\n//     //         openWebSocket(`leftOff(${leftOffBottom})`, false);\n//     //     }\n//     // }\n\n//     useEffect(() => {(async () => {\n//         setTrafficViewerApiState(trafficViewerApiProp)\n//         openWebSocket(\"leftOff(-1)\", true);\n//         try{\n//             const tapStatusResponse = await trafficViewerApiProp.tapStatus();\n//             setTappingStatus(tapStatusResponse);\n//             if(setAnalyzeStatus) {\n//                 const analyzeStatusResponse = await trafficViewerApiProp.analyzeStatus();\n//                 setAnalyzeStatus(analyzeStatusResponse);\n//             }\n//         } catch (error) {\n//             console.error(error);\n//         }\n//       })()\n//     // eslint-disable-next-line\n//     }, []);\n\n\n//     const closeCallback = () => {wsConnection === WsConnectionStatus.Connected && closeWs()}\n//     setCloseWsCallback({closeCallback : closeCallback})\n\n//     const toggleConnection = () => {  \n//       if (wsConnection === WsConnectionStatus.Closed) {\n          \n//           if (query) {\n//               openWebSocket(`(${query}) and leftOff(-1)`, true);\n//           } else {\n//               openWebSocket(`leftOff(-1)`, true);\n//           }\n//           scrollableRef.current.jumpToBottom();\n//           setIsSnappedToBottom(true);\n//       }\n//       else if(wsConnection === WsConnectionStatus.Connected)\n//         {\n//           closeWs()\n//           setWsConnection(WsConnectionStatus.Closed);\n//         }\n//     }\n\n//     const onTLSDetected = (destAddress: string) => {\n//         addressesWithTLS.add(destAddress);\n//         setAddressesWithTLS(new Set(addressesWithTLS));\n\n//         if (!userDismissedTLSWarning) {\n//             setShowTLSWarning(true);\n//         }\n//     };\n\n//     const getConnectionIndicator = () => {\n//         switch (wsConnection) {\n//             case WsConnectionStatus.Connected:\n//                 return <div className={`${TrafficViwerStyles.indicatorContainer} ${TrafficViwerStyles.greenIndicatorContainer}`}>\n//                 <div className={`${TrafficViwerStyles.indicator} ${TrafficViwerStyles.greenIndicator}`} />\n//               </div>\n//             default:\n//                 return <div className={`${TrafficViwerStyles.indicatorContainer} ${TrafficViwerStyles.redIndicatorContainer}`}>\n//                 <div className={`${TrafficViwerStyles.indicator} ${TrafficViwerStyles.redIndicator}`} />\n//               </div>\n//         }\n//     }\n\n//     const getConnectionTitle = () => {\n//         switch (wsConnection) {\n//             case WsConnectionStatus.Connected:\n//                 return \"streaming live traffic\"\n//             default:\n//                 return \"streaming paused\";\n//         }\n//     }\n\n//     const onSnapBrokenEvent = () => {\n//         setIsSnappedToBottom(false);\n//         if (wsConnection === WsConnectionStatus.Connected) {\n//           closeWs()\n//         }\n//     }\n\n\n\n\n//   return (\n//     <div className={TrafficViwerStyles.TrafficPage}>\n//       <div className={TrafficViwerStyles.TrafficPageHeader}>\n//         <div className={TrafficViwerStyles.TrafficPageStreamStatus}>\n//           <img className={TrafficViwerStyles.playPauseIcon} style={{ visibility: wsConnection === WsConnectionStatus.Connected ? \"visible\" : \"hidden\" }} alt=\"pause\"\n//             src={pauseIcon} onClick={toggleConnection} />\n//           <img className={TrafficViwerStyles.playPauseIcon} style={{ position: \"absolute\", visibility: wsConnection === WsConnectionStatus.Connected ? \"hidden\" : \"visible\" }} alt=\"play\"\n//             src={playIcon} onClick={toggleConnection} />\n//           <div className={TrafficViwerStyles.connectionText}>\n//             {getConnectionTitle()}\n//             {getConnectionIndicator()}\n//           </div>\n//         </div>\n//       </div>\n//       {<div className={TrafficViwerStyles.TrafficPageContainer}>\n//         <div className={TrafficViwerStyles.TrafficPageListContainer}>\n//           <Filters\n//             backgroundColor={queryBackgroundColor}\n//             openWebSocket={openWebSocket}\n            \n//           />\n//           <div className={styles.container}>\n//             <EntriesList\n//               listEntryREF={listEntry}\n//               onSnapBrokenEvent={onSnapBrokenEvent}\n//               isSnappedToBottom={isSnappedToBottom}\n//               setIsSnappedToBottom={setIsSnappedToBottom}\n//               queriedCurrent={queriedCurrent}\n//               setQueriedCurrent={setQueriedCurrent}\n//               queriedTotal={queriedTotal}\n//               setQueriedTotal={setQueriedTotal}\n//               startTime={startTime}\n//               noMoreDataTop={noMoreDataTop}\n//               setNoMoreDataTop={setNoMoreDataTop}\n//               leftOffTop={leftOffTop}\n//               setLeftOffTop={setLeftOffTop}\n//               openWebSocket={openWebSocket}\n//               leftOffBottom={leftOffBottom}\n//               truncatedTimestamp={truncatedTimestamp}\n//               setTruncatedTimestamp={setTruncatedTimestamp}\n//               scrollableRef={scrollableRef}\n//             />\n//           </div>\n//         </div>\n//         <div className={classes.details} id=\"rightSideContainer\">\n//           {focusedEntryId && <EntryDetailed />}\n//         </div>\n//       </div>}\n//       {tappingStatus && <StatusBar />}\n//        <TLSWarning showTLSWarning={showTLSWarning}\n//                    setShowTLSWarning={setShowTLSWarning}\n//                    addressesWithTLS={addressesWithTLS}\n//                    setAddressesWithTLS={setAddressesWithTLS}\n//                    userDismissedTLSWarning={userDismissedTLSWarning}\n//                    setUserDismissedTLSWarning={setUserDismissedTLSWarning} />\n//     </div>\n//   );\n// };\n\n// const MemoiedTrafficViwer =  React.memo(TrafficViewer)\n// const TrafficViewerContainer = ({setAnalyzeStatus, message, isOpen, closeWs, sendQuery, openSocket, trafficViewerApiProp}) => \n// {\n//   return <RecoilRoot>\n//     <MemoiedTrafficViwer message={message} isOpen={isOpen} closeWs={closeWs} sendQuery={sendQuery } openSocket={ openSocket}\n//                        trafficViewerApiProp={trafficViewerApiProp} setAnalyzeStatus={setAnalyzeStatus}/>\n//   </RecoilRoot>\n// }\n\nconst Bla = () => <div>aaaa</div>\n\nexport default Bla;\n","import React, {useEffect, useState} from \"react\";\nimport style from '../style/LoadingOverlay.module.sass';\n\nconsole.log(React);\nconst SpinnerShowDelayMs = 350;\n\ninterface LoadingOverlayProps {\n    delay?: number\n}\n\nconst LoadingOverlay: React.FC<LoadingOverlayProps> = ({delay}) => {\n\n    const [isVisible, setIsVisible] = useState(false);\n\n    // @ts-ignore\n    useEffect(() => {\n        let isRelevant = true;\n\n        setTimeout(() => {\n            if(isRelevant)\n                setIsVisible(true);\n        }, delay || SpinnerShowDelayMs);\n\n        return () => isRelevant = false;\n    }, [delay]);\n\n    return <div className={style.loadingOverlayContainer} hidden={!isVisible}>\n        <div className={style.loadingOverlaySpinner}/>\n    </div>\n};\n\nexport default LoadingOverlay;\n","import {ReactComponent as DefaultIconDown} from './assets/default_icon_down.svg';\nimport {MenuItem, Select as MUISelect} from '@material-ui/core';\nimport React from 'react';\nimport {SelectProps as MUISelectProps} from '@material-ui/core/Select/Select';\nimport styles from './style/Select.module.sass';\n\nexport const ALL_KEY= 'All';\n\nconst menuProps: any = {\n    anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"left\"\n    },\n    transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"left\"\n    },\n    getContentAnchorEl: null\n};\n\n// icons styles are not overwritten from the Props, only as a separate object\nconst classes = {icon: styles.icon, selectMenu: styles.list};\n\nconst defaultProps = {\n    MenuProps: menuProps,\n    IconComponent: DefaultIconDown\n};\n\nexport interface SelectProps extends MUISelectProps {\n    onChangecb: (arg0: string) => void;\n    value: string | string[];\n    ellipsis?: boolean;\n    labelOnTop?: boolean;\n    className?: string;\n    labelClassName?: string;\n    trimItemsWhenMultiple?: boolean;\n    transformDisplay?: (arg0: string) => string;\n}\n\nexport const Select: React.FC<SelectProps> = ({\n                                                  label,\n                                                  value,\n                                                  onChangecb,\n                                                  transformDisplay,\n                                                  ellipsis = true,\n                                                  multiple,\n                                                  labelOnTop = false,\n                                                  children,\n                                                  className,\n                                                  labelClassName,\n                                                  trimItemsWhenMultiple,\n                                                  ...props\n                                              }) => {\n    let _value = value;\n\n    const _onChange = (_: any, item: { props: { value: any; }; }) => {\n        const value = item.props.value;\n        value === ALL_KEY ? onChangecb(ALL_KEY) : onChangecb(value);\n    }\n\n    if (multiple && (!_value || _value.length === 0)) _value = [ALL_KEY];\n\n    const transformItem: (i: string) => string = transformDisplay ? transformDisplay : i => i;\n\n    const renderValue = multiple\n        ? (item: any[]) => <span className={ellipsis ? 'ellipsis' : ''}>{\n            trimItemsWhenMultiple && item.length > 1 ?\n                transformItem(`${item[item.length-1]} (+${item.length - 1})`):\n                item?.map(transformItem).join(\",\")\n        }</span>\n        : null;\n\n    return <div className={`select ${labelOnTop ? 'labelOnTop' : ''} ${className ? className : ''}`}>\n        {label && <div className={`selectLabel ${labelClassName ? labelClassName : ''}`}>{label}</div>}\n        <MUISelect\n            {...Object.assign({}, defaultProps, props, {\n                classes,\n                value: _value,\n                renderValue,\n                multiple,\n                onChange: _onChange,\n            })}\n        >\n            {multiple && <MenuItem key={ALL_KEY} value={ALL_KEY}>{transformItem(ALL_KEY)}</MenuItem>}\n            {children}\n        </MUISelect>\n    </div>\n}\n","import {Tooltip as MUITooltip, Fade, TooltipProps as MUITooltipProps, makeStyles} from \"@material-ui/core\";\nimport React from \"react\";\n\nexport interface TooltipProps extends MUITooltipProps {\n    variant?: 'default' | 'wide' | 'fit';\n    isSimple?: boolean;\n    classes?: any;\n}\n\nexport type TooltipPlacement = 'bottom-end' | 'bottom-start' | 'bottom' | 'left-end' | 'left-start' | 'left' | 'right-end' | 'right-start' | 'right' | 'top-end' | 'top-start' | 'top';\n\nconst styles = {\n    default: {\n        maxWidth: 300\n    },\n    wide: {\n        maxWidth: 700\n    },\n    fit: {\n        maxWidth: '100%'\n    }\n};\n\nconst useStyles = makeStyles((theme) => styles);\n\nconst Tooltip: React.FC<TooltipProps> = (props) => {\n\n    const {isSimple, ..._props} = props;\n\n    const classes = useStyles(props.variant);\n\n    const variant = props.variant || 'default';\n\n    const backgroundClass = isSimple ? \"\" : \"noBackground\"\n\n    return (\n        <MUITooltip\n            classes={{tooltip: `${backgroundClass} ` + classes[variant]}}\n            interactive={true}\n            enterDelay={200}\n            TransitionComponent={Fade}\n            {..._props}\n        >\n            {props.children || <div/>}\n        </MUITooltip>\n    );\n};\n\nexport default Tooltip;","import Tooltip from \"./Tooltip\";\nimport React from \"react\";\nimport { makeStyles, Theme,createStyles } from '@material-ui/core/styles';\nimport variables from '../../variables.module.scss';\n\ninterface Tab {\n    tab: string,\n    disabled?: boolean,\n    disabledMessage?: string,\n    highlight?: boolean,\n    badge?: any,\n}\n\ninterface Props {\n    classes?: any,\n    tabs: Tab[],\n    currentTab: string,\n    color: string,\n    onChange: (string) => void,\n    leftAligned?: boolean,\n    dark?: boolean,\n}\n\nconst useTabsStyles = makeStyles((theme : Theme) => createStyles({\n    root: {\n        height: 40,\n        paddingTop: 15\n    },\n\n    tab: {\n        display: 'inline-block',\n        textTransform: 'uppercase',\n        color: variables.blueColor,\n        cursor: 'pointer',\n    },\n\n    tabsAlignLeft: {\n        textAlign: 'left'\n    },\n\n    active: {\n        fontWeight: 400,\n        color: variables.fontColor,\n        cursor: 'unset',\n        borderBottom: \"2px solid \" + variables.fontColor,\n        paddingBottom: 6,\n\n        \"&.dark\": {\n            color: theme.palette.common.black,\n            borderBottom: \"2px solid \" + theme.palette.common.black,\n        }\n    },\n\n    disabled: {\n        color: theme.palette.primary.dark,\n        cursor: 'unset'\n    },\n\n    highlight: {\n        color: theme.palette.primary.light,\n    },\n\n    separator: {\n        borderRight: \"1px solid \" + theme.palette.primary.dark,\n        height: 20,\n        verticalAlign: 'middle',\n        margin: '0 20px',\n        cursor: 'unset',\n    }\n}));\n\n\nconst Tabs: React.FC<Props> = ({classes={}, tabs, currentTab, color, onChange, leftAligned, dark}) => {\n    const _classes = {...useTabsStyles(), ...classes};\n    return <div className={`${_classes.root} ${leftAligned ? _classes.tabsAlignLeft : ''}`}>\n        {tabs.map(({tab, disabled, disabledMessage, highlight, badge}, index) => {\n            const active = currentTab === tab;\n            const tabLink = <span\n                key={tab}\n                className={`${_classes.tab} ${active ? _classes.active : ''} ${disabled ? _classes.disabled : ''} ${highlight ? _classes.highlight : ''} ${dark ? 'dark' : ''}`}\n                onClick={() => !disabled && onChange(tab)}\n                style={{color: color}}\n            >\n                {tab}\n\n                {React.isValidElement(badge) && badge}\n            </span>;\n\n            return <span key={tab}>\n                {disabled && disabledMessage ? <Tooltip title={disabledMessage} isSimple>{tabLink}</Tooltip> : tabLink}\n                {index < tabs.length - 1 && <span className={_classes.tab + ' ' + _classes.separator} key={tab + '_sepparator'}></span>}\n            </span>;\n        })}\n    </div>;\n}\n\nexport default Tabs;\n"]},"metadata":{},"sourceType":"module"}