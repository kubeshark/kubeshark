{"ast":null,"code":"import React__default, { useRef, useLayoutEffect, useCallback, useEffect, useState, useMemo, createElement } from 'react';\nimport { Grid, Button, Modal, Backdrop, Fade, Box, Typography, Divider, makeStyles, Tooltip as Tooltip$1, Snackbar, Select as Select$1, MenuItem } from '@material-ui/core';\nimport CodeEditor from '@uiw/react-textarea-code-editor';\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\nimport Lowlight from 'react-lowlight';\nimport 'highlight.js/styles/atom-one-light.css';\nimport xml from 'highlight.js/lib/languages/xml';\nimport json from 'highlight.js/lib/languages/json';\nimport protobuf from 'highlight.js/lib/languages/protobuf';\nimport javascript from 'highlight.js/lib/languages/javascript';\nimport actionscript from 'highlight.js/lib/languages/actionscript';\nimport wasm from 'highlight.js/lib/languages/wasm';\nimport handlebars from 'highlight.js/lib/languages/handlebars';\nimport yaml from 'highlight.js/lib/languages/yaml';\nimport python from 'highlight.js/lib/languages/python';\nimport filterUIExample1 from './filter-ui-example-1~blRIeMjR.png';\nimport filterUIExample2 from './filter-ui-example-2~TNqHmXhH.png';\nimport { atom, useRecoilState, useRecoilValue, selector, RecoilRoot, useSetRecoilState } from 'recoil';\nimport ScrollableFeedVirtualized from 'react-scrollable-feed-virtualized';\nimport Moment from 'moment';\nimport SwapHorizIcon from '@material-ui/icons/SwapHoriz';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport ingoingIconSuccess from './ingoing-traffic-success~EObaMWtq.svg';\nimport ingoingIconFailure from './ingoing-traffic-failure~EYOFZQfa.svg';\nimport ingoingIconNeutral from './ingoing-traffic-neutral~bjOAwlSF.svg';\nimport outgoingIconSuccess from './outgoing-traffic-success~QiFlyOil.svg';\nimport outgoingIconFailure from './outgoing-traffic-failure~boIYJAYg.svg';\nimport outgoingIconNeutral from './outgoing-traffic-neutral~BrZHGZUI.svg';\nimport down from './downImg~RiQoMJyo.svg';\nimport { makeStyles as makeStyles$1, createStyles } from '@material-ui/core/styles';\nimport collapsedImg from './collapsed~jQCycvry.svg';\nimport expandedImg from './expanded~EPlOjOeT.svg';\nimport duplicateImg from './duplicate~belDmfOt.svg';\nimport ProtobufDecoder from 'protobuf-decoder';\nimport jsonBeautify from 'json-beautify';\nimport xmlBeautify from 'xml-formatter';\nimport { toast } from 'react-toastify';\nimport playIcon from './run~HQBkkOVV.svg';\nimport pauseIcon from './pause~bnWETGzB.svg';\nimport warningIcon from './warning_icon~biNkjgls.svg';\nimport failIcon from './failed~UgUtqrYv.svg';\nimport successIcon from './success~SJqhqGpJ.svg';\nimport MuiAlert from '@material-ui/lab/Alert'; // A type of promise-like that resolves synchronously and supports only one observer\n\nconst _iteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\")) : \"@@iterator\";\n\nconst _asyncIteratorSymbol = /*#__PURE__*/typeof Symbol !== \"undefined\" ? Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\")) : \"@@asyncIterator\"; // Asynchronously call a function and send errors to recovery continuation\n\n\nfunction _catch(body, recover) {\n  try {\n    var result = body();\n  } catch (e) {\n    return recover(e);\n  }\n\n  if (result && result.then) {\n    return result.then(void 0, recover);\n  }\n\n  return result;\n}\n\nvar styles = {\n  \"mainBackgroundColor\": \"white\",\n  \"headerBackgroundColor\": \"#F7F9FC\",\n  \"fontColor\": \"#0C0B1A\",\n  \"secondaryFontColor\": \"rgba(0, 0, 0, 0.5)\",\n  \"blueColor\": \"#205CF5\",\n  \"lightBlueColor\": \"#BCCEFD\",\n  \"successColor\": \"#27AE60\",\n  \"failureColor\": \"#EB5757\",\n  \"blueGray\": \"#494677\",\n  \"lightGray\": \"#8F9BB2\",\n  \"container\": \"_bDoWi\",\n  \"filterLabel\": \"_3TLXM\",\n  \"icon\": \"_38Jcc\",\n  \"filterContainer\": \"_2IE09\",\n  \"filterText\": \"_Lj7Op\",\n  \"divider1\": \"_2wmLq\",\n  \"divider2\": \"_2hFpj\"\n};\nLowlight.registerLanguage('python', python);\nLowlight.registerLanguage('xml', xml);\nLowlight.registerLanguage('json', json);\nLowlight.registerLanguage('yaml', yaml);\nLowlight.registerLanguage('protobuf', protobuf);\nLowlight.registerLanguage('javascript', javascript);\nLowlight.registerLanguage('actionscript', actionscript);\nLowlight.registerLanguage('wasm', wasm);\nLowlight.registerLanguage('handlebars', handlebars);\n\nvar SyntaxHighlighter = function SyntaxHighlighter(_ref) {\n  var code = _ref.code,\n      _ref$showLineNumbers = _ref.showLineNumbers,\n      showLineNumbers = _ref$showLineNumbers === void 0 ? false : _ref$showLineNumbers,\n      _ref$language = _ref.language,\n      language = _ref$language === void 0 ? null : _ref$language;\n  var markers = showLineNumbers ? code.split(\"\\n\").map(function (item, i) {\n    return {\n      line: i + 1,\n      className: 'hljs-marker-line'\n    };\n  }) : [];\n  return React__default.createElement(\"div\", {\n    style: {\n      fontSize: \".75rem\"\n    }\n  }, React__default.createElement(Lowlight, {\n    language: language ? language : \"\",\n    value: code,\n    markers: markers\n  }));\n};\n\nvar variables = {\n  \"mainBackgroundColor\": \"white\",\n  \"headerBackgroundColor\": \"#F7F9FC\",\n  \"fontColor\": \"#0C0B1A\",\n  \"secondaryFontColor\": \"rgba(0, 0, 0, 0.5)\",\n  \"blueColor\": \"#205CF5\",\n  \"lightBlueColor\": \"#BCCEFD\",\n  \"successColor\": \"#27AE60\",\n  \"failureColor\": \"#EB5757\",\n  \"blueGray\": \"#494677\",\n  \"lightGray\": \"#8F9BB2\"\n};\nvar queryAtom = atom({\n  key: \"queryAtom\",\n  \"default\": \"\"\n});\n\nvar useKeyPress = function useKeyPress(eventConfigs, callback, node) {\n  if (node === void 0) {\n    node = null;\n  }\n\n  var callbackRef = useRef(callback);\n  useLayoutEffect(function () {\n    callbackRef.current = callback;\n  });\n  var handleKeyPress = useCallback(function (event) {\n    if (eventConfigs.some(function (eventConfig) {\n      return Object.keys(eventConfig).every(function (nameKey) {\n        return eventConfig[nameKey] === event[nameKey];\n      });\n    })) {\n      event.stopPropagation();\n      event.preventDefault();\n      callbackRef.current(event);\n    }\n  }, [eventConfigs]);\n  useEffect(function () {\n    var targetNode = node || document;\n    targetNode && targetNode.addEventListener(\"keydown\", handleKeyPress);\n    return function () {\n      return targetNode && targetNode.removeEventListener(\"keydown\", handleKeyPress);\n    };\n  }, [handleKeyPress, node]);\n};\n\nvar dictionary = {\n  ctrlEnter: [{\n    metaKey: true,\n    code: \"Enter\"\n  }, {\n    ctrlKey: true,\n    code: \"Enter\"\n  }],\n  enter: [{\n    code: \"Enter\"\n  }]\n};\nvar wsConnectionAtom = atom({\n  key: \"wsConnectionAtom\",\n  \"default\": 0\n});\nvar closeWsConnectionCallbackAtom = atom({\n  key: \"closeWsConnectionCallbackAtom\",\n  \"default\": {}\n});\n\nvar Filters = function Filters(_ref) {\n  var backgroundColor = _ref.backgroundColor,\n      openWebSocket = _ref.openWebSocket;\n  return React__default.createElement(\"div\", {\n    className: styles.container\n  }, React__default.createElement(QueryForm, {\n    backgroundColor: backgroundColor,\n    openWebSocket: openWebSocket\n  }));\n};\n\nvar modalStyle = {\n  position: 'absolute',\n  top: '10%',\n  left: '50%',\n  transform: 'translate(-50%, 0%)',\n  width: '80vw',\n  bgcolor: 'background.paper',\n  borderRadius: '5px',\n  boxShadow: 24,\n  outline: \"none\",\n  p: 4,\n  color: '#000'\n};\n\nvar QueryForm = function QueryForm(_ref2) {\n  var backgroundColor = _ref2.backgroundColor,\n      openWebSocket = _ref2.openWebSocket;\n  var formRef = useRef(null);\n\n  var _useRecoilState = useRecoilState(queryAtom),\n      query = _useRecoilState[0],\n      setQuery = _useRecoilState[1];\n\n  var closeWsConnectionObj = useRecoilValue(closeWsConnectionCallbackAtom);\n\n  var _useState = useState(false),\n      openModal = _useState[0],\n      setOpenModal = _useState[1];\n\n  var handleOpenModal = function handleOpenModal() {\n    return setOpenModal(true);\n  };\n\n  var handleCloseModal = function handleCloseModal() {\n    return setOpenModal(false);\n  };\n\n  var handleChange = function handleChange(e) {\n    try {\n      setQuery(e.target.value.trim());\n      return Promise.resolve();\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    if (query) {\n      openWebSocket(\"(\" + query + \") and leftOff(-1)\", true);\n    } else {\n      openWebSocket(\"leftOff(-1)\", true);\n    }\n\n    e.preventDefault();\n  };\n\n  useKeyPress(dictionary.ctrlEnter, handleSubmit, formRef.current);\n  return React__default.createElement(React__default.Fragment, null, React__default.createElement(\"form\", {\n    ref: formRef,\n    onSubmit: handleSubmit,\n    style: {\n      width: '100%'\n    }\n  }, React__default.createElement(Grid, {\n    container: true,\n    spacing: 2\n  }, React__default.createElement(Grid, {\n    item: true,\n    xs: 8,\n    style: {\n      maxHeight: '25vh',\n      overflowY: 'auto'\n    }\n  }, React__default.createElement(\"label\", null, React__default.createElement(CodeEditor, {\n    value: query,\n    language: \"py\",\n    placeholder: \"Mizu Filter Syntax\",\n    onChange: handleChange,\n    padding: 8,\n    style: {\n      fontSize: 14,\n      backgroundColor: \"\" + backgroundColor,\n      fontFamily: 'ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace'\n    }\n  }))), React__default.createElement(Grid, {\n    item: true,\n    xs: 4\n  }, React__default.createElement(Button, {\n    type: \"submit\",\n    variant: \"contained\",\n    style: {\n      margin: \"2px 0px 0px 0px\",\n      backgroundColor: variables.blueColor,\n      fontWeight: 600,\n      borderRadius: \"4px\",\n      color: \"#fff\",\n      textTransform: \"none\"\n    }\n  }, \"Apply\"), React__default.createElement(Button, {\n    title: \"Open Filtering Guide (Cheatsheet)\",\n    variant: \"contained\",\n    color: \"primary\",\n    style: {\n      margin: \"2px 0px 0px 10px\",\n      minWidth: \"26px\",\n      backgroundColor: variables.blueColor,\n      fontWeight: 600,\n      borderRadius: \"4px\",\n      color: \"#fff\",\n      textTransform: \"none\"\n    },\n    onClick: handleOpenModal\n  }, React__default.createElement(MenuBookIcon, {\n    fontSize: \"inherit\"\n  }))))), React__default.createElement(Modal, {\n    \"aria-labelledby\": \"transition-modal-title\",\n    \"aria-describedby\": \"transition-modal-description\",\n    open: openModal,\n    onClose: handleCloseModal,\n    closeAfterTransition: true,\n    BackdropComponent: Backdrop,\n    BackdropProps: {\n      timeout: 500\n    },\n    style: {\n      overflow: 'auto'\n    }\n  }, React__default.createElement(Fade, {\n    \"in\": openModal\n  }, React__default.createElement(Box, {\n    sx: modalStyle\n  }, React__default.createElement(Typography, {\n    id: \"modal-modal-title\",\n    variant: \"h5\",\n    component: \"h2\",\n    style: {\n      textAlign: 'center'\n    }\n  }, \"Filtering Guide (Cheatsheet)\"), React__default.createElement(Typography, {\n    component: 'span',\n    id: \"modal-modal-description\"\n  }, React__default.createElement(\"p\", null, \"Mizu has a rich filtering syntax that let's you query the results both flexibly and efficiently.\"), React__default.createElement(\"p\", null, \"Here are some examples that you can try;\")), React__default.createElement(Grid, {\n    container: true\n  }, React__default.createElement(Grid, {\n    item: true,\n    xs: true,\n    style: {\n      margin: \"10px\"\n    }\n  }, React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"This is a simple query that matches to HTTP packets with request path \\\"/catalogue\\\":\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"http and request.path == \\\"/catalogue\\\"\",\n    language: \"python\"\n  }), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"The same query can be negated for HTTP path and written like this:\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"http and request.path != \\\"/catalogue\\\"\",\n    language: \"python\"\n  }), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"The syntax supports regular expressions. Here is a query that matches the HTTP requests that send JSON to a server:\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"http and request.headers[\\\"Accept\\\"] == r\\\"application/json.*\\\"\",\n    language: \"python\"\n  }), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"Here is another query that matches HTTP responses with status code 4xx:\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"http and response.status == r\\\"4.*\\\"\",\n    language: \"python\"\n  }), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"The same exact query can be as integer comparison:\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"http and response.status >= 400\",\n    language: \"python\"\n  }), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"The results can be queried based on their timestamps:\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"timestamp < datetime(\\\"10/28/2021, 9:13:02.905 PM\\\")\",\n    language: \"python\"\n  })), React__default.createElement(Divider, {\n    className: styles.divider1,\n    orientation: \"vertical\",\n    flexItem: true\n  }), React__default.createElement(Grid, {\n    item: true,\n    xs: true,\n    style: {\n      margin: \"10px\"\n    }\n  }, React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"Since Mizu supports various protocols like gRPC, AMQP, Kafka and Redis. It's possible to write complex queries that match multiple protocols like this:\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"(http and request.method == \\\"PUT\\\") or (amqp and request.queue.startsWith(\\\"test\\\"))\\n or (kafka and response.payload.errorCode == 2) or (redis and request.key == \\\"example\\\")\\n or (grpc and request.headers[\\\":path\\\"] == r\\\".*foo.*\\\")\",\n    language: \"python\"\n  }), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"By clicking the plus icon that appears beside the queryable UI elements on hovering in both left-pane and right-pane, you can automatically select a field and update the query:\"), React__default.createElement(\"img\", {\n    src: filterUIExample1,\n    width: 600,\n    alt: \"Clicking to UI elements (left-pane)\",\n    title: \"Clicking to UI elements (left-pane)\"\n  }), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"Such that; clicking this icon in left-pane, would append the query below:\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"and dst.name == \\\"carts.sock-shop\\\"\",\n    language: \"python\"\n  }), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"Another queriable UI element example, this time from the right-pane:\"), React__default.createElement(\"img\", {\n    src: filterUIExample2,\n    width: 300,\n    alt: \"Clicking to UI elements (right-pane)\",\n    title: \"Clicking to UI elements (right-pane)\"\n  }), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"A query that compares one selector to another is also a valid query:\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"http and (request.query[\\\"x\\\"] == response.headers[\\\"y\\\"]\\n or response.content.text.contains(request.query[\\\"x\\\"]))\",\n    language: \"python\"\n  })), React__default.createElement(Divider, {\n    className: styles.divider2,\n    orientation: \"vertical\",\n    flexItem: true\n  }), React__default.createElement(Grid, {\n    item: true,\n    xs: true,\n    style: {\n      margin: \"10px\"\n    }\n  }, React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"There are a few helper methods included the in the filter language* to help building queries more easily.\"), React__default.createElement(\"br\", null), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"true if the given selector's value starts with (similarly \", React__default.createElement(\"code\", {\n    style: {\n      fontSize: \"14px\"\n    }\n  }, \"endsWith\"), \", \", React__default.createElement(\"code\", {\n    style: {\n      fontSize: \"14px\"\n    }\n  }, \"contains\"), \") the string:\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"request.path.startsWith(\\\"something\\\")\",\n    language: \"python\"\n  }), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"a field that contains a JSON encoded string can be filtered based a JSONPath:\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"response.content.text.json().some.path == \\\"somevalue\\\"\",\n    language: \"python\"\n  }), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"fields that contain sensitive information can be redacted:\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"and redact(\\\"request.path\\\", \\\"src.name\\\")\",\n    language: \"python\"\n  }), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"returns the UNIX timestamp which is the equivalent of the time that's provided by the string. Invalid input evaluates to false:\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"timestamp >= datetime(\\\"10/19/2021, 6:29:02.593 PM\\\")\",\n    language: \"python\"\n  }), React__default.createElement(Typography, {\n    id: \"modal-modal-description\"\n  }, \"limits the number of records that are streamed back as a result of a query. Always evaluates to true:\"), React__default.createElement(SyntaxHighlighter, {\n    showLineNumbers: false,\n    code: \"and limit(100)\",\n    language: \"python\"\n  }))), React__default.createElement(\"br\", null), React__default.createElement(Typography, {\n    id: \"modal-modal-description\",\n    style: {\n      fontSize: 12,\n      fontStyle: 'italic'\n    }\n  }, \"*The filtering functionality is provided through \", React__default.createElement(\"b\", null, \"Basenine\"), \" database server. Please refer to \", React__default.createElement(\"a\", {\n    href: \"https://github.com/up9inc/basenine/wiki/BFL-Syntax-Reference\"\n  }, React__default.createElement(\"b\", null, \"BFL Syntax Reference\")), \" for more information.\")))));\n};\n\nvar styles$1 = {\n  \"mainBackgroundColor\": \"white\",\n  \"headerBackgroundColor\": \"#F7F9FC\",\n  \"fontColor\": \"#0C0B1A\",\n  \"secondaryFontColor\": \"rgba(0, 0, 0, 0.5)\",\n  \"blueColor\": \"#205CF5\",\n  \"lightBlueColor\": \"#BCCEFD\",\n  \"successColor\": \"#27AE60\",\n  \"failureColor\": \"#EB5757\",\n  \"blueGray\": \"#494677\",\n  \"lightGray\": \"#8F9BB2\",\n  \"list\": \"_2PiXR\",\n  \"container\": \"_2Wpee\",\n  \"footer\": \"_2Lj6K\",\n  \"styledButton\": \"_2b3l1\",\n  \"spinnerContainer\": \"_1EM1d\",\n  \"noMoreDataAvailable\": \"_DuOfY\",\n  \"btnOld\": \"_F9W2b\",\n  \"btnLive\": \"_WTK-j\",\n  \"hideButton\": \"_qTNt5\",\n  \"showButton\": \"_3p5uQ\"\n};\nvar styles$2 = {\n  \"mainBackgroundColor\": \"white\",\n  \"headerBackgroundColor\": \"#F7F9FC\",\n  \"fontColor\": \"#0C0B1A\",\n  \"secondaryFontColor\": \"rgba(0, 0, 0, 0.5)\",\n  \"blueColor\": \"#205CF5\",\n  \"lightBlueColor\": \"#BCCEFD\",\n  \"successColor\": \"#27AE60\",\n  \"failureColor\": \"#EB5757\",\n  \"blueGray\": \"#494677\",\n  \"lightGray\": \"#8F9BB2\",\n  \"row\": \"_1P32u\",\n  \"rowSelected\": \"_3D_iP\",\n  \"ruleSuccessRow\": \"_17F-S\",\n  \"ruleSuccessRowSelected\": \"_2uMZ6\",\n  \"ruleFailureRow\": \"_2OZDQ\",\n  \"ruleFailureRowSelected\": \"_2G2JV\",\n  \"ruleNumberText\": \"_2nlT3\",\n  \"ruleNumberTextFailure\": \"_1G-JA\",\n  \"ruleNumberTextSuccess\": \"_1SztU\",\n  \"resolvedName\": \"_3VKbU\",\n  \"timestamp\": \"_3tTea\",\n  \"endpointServiceContainer\": \"_2lfnZ\",\n  \"separatorRight\": \"_3CpgE\",\n  \"separatorLeft\": \"_jjZcc\",\n  \"tcpInfo\": \"_2VIVM\",\n  \"port\": \"_1DqJg\",\n  \"ip\": \"_1cpR5\"\n};\nvar styles$3 = {\n  \"mainBackgroundColor\": \"white\",\n  \"headerBackgroundColor\": \"#F7F9FC\",\n  \"fontColor\": \"#0C0B1A\",\n  \"secondaryFontColor\": \"rgba(0, 0, 0, 0.5)\",\n  \"blueColor\": \"#205CF5\",\n  \"lightBlueColor\": \"#BCCEFD\",\n  \"successColor\": \"#27AE60\",\n  \"failureColor\": \"#EB5757\",\n  \"blueGray\": \"#494677\",\n  \"lightGray\": \"#8F9BB2\",\n  \"base\": \"_2q9kG\",\n  \"neutral\": \"_2KoKn\",\n  \"success\": \"_Q9KgG\",\n  \"failure\": \"_DQ-SD\"\n};\nvar QueryableStyle = {\n  \"QueryableContainer\": \"_2UQ5q\",\n  \"displayIconOnMouseOver\": \"_2-s4J\",\n  \"QueryableIcon\": \"_kCbWQ\",\n  \"QueryableAddNotifier\": \"_1quUB\",\n  \"QueryableTooltip\": \"_2RwBJ\"\n};\n\nvar Queryable = function Queryable(_ref) {\n  var query = _ref.query,\n      style = _ref.style,\n      iconStyle = _ref.iconStyle,\n      className = _ref.className,\n      _ref$useTooltip = _ref.useTooltip,\n      useTooltip = _ref$useTooltip === void 0 ? true : _ref$useTooltip,\n      _ref$displayIconOnMou = _ref.displayIconOnMouseOver,\n      displayIconOnMouseOver = _ref$displayIconOnMou === void 0 ? false : _ref$displayIconOnMou,\n      _ref$flipped = _ref.flipped,\n      flipped = _ref$flipped === void 0 ? false : _ref$flipped,\n      children = _ref.children;\n\n  var _useState = useState(false),\n      showAddedNotification = _useState[0],\n      setAdded = _useState[1];\n\n  var _useState2 = useState(false),\n      showTooltip = _useState2[0],\n      setShowTooltip = _useState2[1];\n\n  var _useRecoilState = useRecoilState(queryAtom),\n      queryState = _useRecoilState[0],\n      setQuery = _useRecoilState[1];\n\n  var onCopy = function onCopy() {\n    setAdded(true);\n  };\n\n  useEffect(function () {\n    var timer;\n\n    if (showAddedNotification) {\n      setQuery(queryState ? queryState + \" and \" + query : query);\n      timer = setTimeout(function () {\n        setAdded(false);\n      }, 1000);\n    }\n\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [showAddedNotification, query, setQuery]);\n  var addButton = query ? React__default.createElement(CopyToClipboard, {\n    text: query,\n    onCopy: onCopy\n  }, React__default.createElement(\"span\", {\n    className: QueryableStyle.QueryableIcon,\n    title: \"Add \\\"\" + query + \"\\\" to the filter\",\n    style: iconStyle\n  }, React__default.createElement(AddCircleIcon, {\n    fontSize: \"small\",\n    color: \"inherit\"\n  }), showAddedNotification && React__default.createElement(\"span\", {\n    className: QueryableStyle.QueryableAddNotifier\n  }, \"Added\"))) : null;\n  return React__default.createElement(\"div\", {\n    className: QueryableStyle.QueryableContainer + \" \" + QueryableStyle.displayIconOnMouseOver + \" \" + (className ? className : '') + \" \" + (displayIconOnMouseOver ? QueryableStyle.displayIconOnMouseOver : ''),\n    style: style,\n    onMouseOver: function onMouseOver(e) {\n      return setShowTooltip(true);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setShowTooltip(false);\n    }\n  }, flipped && addButton, children, !flipped && addButton, useTooltip && showTooltip && React__default.createElement(\"span\", {\n    className: QueryableStyle.QueryableTooltip\n  }, query));\n};\n\nvar StatusCodeClassification;\n\n(function (StatusCodeClassification) {\n  StatusCodeClassification[\"SUCCESS\"] = \"success\";\n  StatusCodeClassification[\"FAILURE\"] = \"failure\";\n  StatusCodeClassification[\"NEUTRAL\"] = \"neutral\";\n})(StatusCodeClassification || (StatusCodeClassification = {}));\n\nvar StatusCode = function StatusCode(_ref) {\n  var statusCode = _ref.statusCode;\n  var classification = getClassification(statusCode);\n  return React__default.createElement(Queryable, {\n    query: \"response.status == \" + statusCode,\n    displayIconOnMouseOver: true,\n    flipped: true,\n    iconStyle: {\n      marginTop: \"40px\",\n      paddingLeft: \"10px\"\n    }\n  }, React__default.createElement(\"span\", {\n    title: \"Status Code\",\n    className: styles$3[classification] + \" \" + styles$3.base\n  }, statusCode));\n};\n\nfunction getClassification(statusCode) {\n  var classification = StatusCodeClassification.NEUTRAL;\n\n  if (statusCode >= 200 && statusCode <= 399 || statusCode === 0) {\n    classification = StatusCodeClassification.SUCCESS;\n  } else if (statusCode >= 400 || statusCode >= 1 && statusCode <= 16) {\n    classification = StatusCodeClassification.FAILURE;\n  }\n\n  return classification;\n}\n\nvar styles$4 = {\n  \"base\": \"_2RtmJ\",\n  \"vertical\": \"_3QV4X\",\n  \"horizontal\": \"_hLa_N\"\n};\n\nvar Protocol = function Protocol(_ref) {\n  var protocol = _ref.protocol,\n      horizontal = _ref.horizontal;\n\n  if (horizontal) {\n    return React__default.createElement(Queryable, {\n      query: protocol.macro,\n      displayIconOnMouseOver: true\n    }, React__default.createElement(\"a\", {\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      href: protocol.referenceLink\n    }, React__default.createElement(\"span\", {\n      className: styles$4.base + \" \" + styles$4.horizontal,\n      style: {\n        backgroundColor: protocol.backgroundColor,\n        color: protocol.foregroundColor,\n        fontSize: 13\n      },\n      title: protocol.abbr\n    }, protocol.longName)));\n  } else {\n    return React__default.createElement(Queryable, {\n      query: protocol.macro,\n      displayIconOnMouseOver: true,\n      flipped: false,\n      iconStyle: {\n        marginTop: \"52px\",\n        marginRight: \"10px\",\n        zIndex: 1000\n      }\n    }, React__default.createElement(\"span\", {\n      className: styles$4.base + \" \" + styles$4.vertical,\n      style: {\n        backgroundColor: protocol.backgroundColor,\n        color: protocol.foregroundColor,\n        fontSize: protocol.fontSize,\n        marginRight: \"-20px\"\n      },\n      title: protocol.longName\n    }, protocol.abbr));\n  }\n};\n\nvar miscStyles = {\n  \"mainBackgroundColor\": \"white\",\n  \"headerBackgroundColor\": \"#F7F9FC\",\n  \"fontColor\": \"#0C0B1A\",\n  \"secondaryFontColor\": \"rgba(0, 0, 0, 0.5)\",\n  \"blueColor\": \"#205CF5\",\n  \"lightBlueColor\": \"#BCCEFD\",\n  \"successColor\": \"#27AE60\",\n  \"failureColor\": \"#EB5757\",\n  \"blueGray\": \"#494677\",\n  \"lightGray\": \"#8F9BB2\",\n  \"protocol\": \"_xHb5a\",\n  \"method\": \"_47gi3\",\n  \"filterPlate\": \"_rRcPb\",\n  \"noSelect\": \"_2tn4S\"\n};\nvar styles$5 = {\n  \"container\": \"_2SgD4\",\n  \"summary\": \"_1bYOK\"\n};\n\nvar Summary = function Summary(_ref) {\n  var method = _ref.method,\n      summary = _ref.summary;\n  return React__default.createElement(\"div\", {\n    className: styles$5.container\n  }, method && React__default.createElement(Queryable, {\n    query: \"method == \\\"\" + method + \"\\\"\",\n    className: miscStyles.protocol + \" \" + miscStyles.method,\n    displayIconOnMouseOver: true,\n    style: {\n      whiteSpace: \"nowrap\"\n    },\n    flipped: true,\n    iconStyle: {\n      zIndex: \"5\",\n      position: \"relative\",\n      right: \"22px\"\n    }\n  }, React__default.createElement(\"span\", null, method)), summary && React__default.createElement(Queryable, {\n    query: \"summary == \\\"\" + summary + \"\\\"\",\n    displayIconOnMouseOver: true,\n    flipped: true,\n    iconStyle: {\n      zIndex: \"5\",\n      position: \"relative\",\n      right: \"14px\"\n    }\n  }, React__default.createElement(\"div\", {\n    className: \"\" + styles$5.summary\n  }, summary)));\n};\n\nvar focusedEntryIdAtom = atom({\n  key: \"focusedEntryIdAtom\",\n  \"default\": null\n});\n\nvar EntryItem = function EntryItem(_ref) {\n  var _Moment, _Moment2;\n\n  var entry = _ref.entry,\n      style = _ref.style,\n      headingMode = _ref.headingMode;\n\n  var _useRecoilState = useRecoilState(focusedEntryIdAtom),\n      focusedEntryId = _useRecoilState[0],\n      setFocusedEntryId = _useRecoilState[1];\n\n  var _useRecoilState2 = useRecoilState(queryAtom),\n      queryState = _useRecoilState2[0],\n      setQuery = _useRecoilState2[1];\n\n  var isSelected = focusedEntryId === entry.id.toString();\n  var classification = getClassification(entry.status);\n  var numberOfRules = entry.rules.numberOfRules;\n  var ingoingIcon;\n  var outgoingIcon;\n\n  switch (classification) {\n    case StatusCodeClassification.SUCCESS:\n      {\n        ingoingIcon = ingoingIconSuccess;\n        outgoingIcon = outgoingIconSuccess;\n        break;\n      }\n\n    case StatusCodeClassification.FAILURE:\n      {\n        ingoingIcon = ingoingIconFailure;\n        outgoingIcon = outgoingIconFailure;\n        break;\n      }\n\n    case StatusCodeClassification.NEUTRAL:\n      {\n        ingoingIcon = ingoingIconNeutral;\n        outgoingIcon = outgoingIconNeutral;\n        break;\n      }\n  }\n\n  var additionalRulesProperties = \"\";\n  var ruleSuccess = true;\n  var rule = ('latency' in entry.rules);\n\n  if (rule) {\n    if (entry.rules.latency !== -1) {\n      if (entry.rules.latency >= entry.latency || !('latency' in entry)) {\n        additionalRulesProperties = styles$2.ruleSuccessRow;\n        ruleSuccess = true;\n      } else {\n        additionalRulesProperties = styles$2.ruleFailureRow;\n        ruleSuccess = false;\n      }\n\n      if (isSelected) {\n        additionalRulesProperties += \" \" + (entry.rules.latency >= entry.latency ? styles$2.ruleSuccessRowSelected : styles$2.ruleFailureRowSelected);\n      }\n    } else {\n      if (entry.rules.status) {\n        additionalRulesProperties = styles$2.ruleSuccessRow;\n        ruleSuccess = true;\n      } else {\n        additionalRulesProperties = styles$2.ruleFailureRow;\n        ruleSuccess = false;\n      }\n\n      if (isSelected) {\n        additionalRulesProperties += \" \" + (entry.rules.status ? styles$2.ruleSuccessRowSelected : styles$2.ruleFailureRowSelected);\n      }\n    }\n  }\n\n  var contractEnabled = true;\n  var contractText = \"\";\n\n  switch (entry.contractStatus) {\n    case 0:\n      contractEnabled = false;\n      break;\n\n    case 1:\n      additionalRulesProperties = styles$2.ruleSuccessRow;\n      ruleSuccess = true;\n      contractText = \"No Breaches\";\n      break;\n\n    case 2:\n      additionalRulesProperties = styles$2.ruleFailureRow;\n      ruleSuccess = false;\n      contractText = \"Breach\";\n      break;\n  }\n\n  var isStatusCodeEnabled = entry.proto.name === \"http\" && \"status\" in entry || entry.status !== 0;\n  var endpointServiceContainer = \"10px\";\n  if (!isStatusCodeEnabled) endpointServiceContainer = \"20px\";\n  return React__default.createElement(React__default.Fragment, null, React__default.createElement(\"div\", {\n    id: \"entry-\" + entry.id.toString(),\n    className: styles$2.row + \"\\n            \" + (isSelected && !rule && !contractEnabled ? styles$2.rowSelected : additionalRulesProperties),\n    onClick: function onClick() {\n      if (!setFocusedEntryId) return;\n      setFocusedEntryId(entry.id.toString());\n    },\n    style: {\n      border: isSelected && !headingMode ? \"1px \" + entry.proto.backgroundColor + \" solid\" : \"1px transparent solid\",\n      position: !headingMode ? \"absolute\" : \"unset\",\n      top: style['top'],\n      marginTop: !headingMode ? style['marginTop'] : \"10px\",\n      width: !headingMode ? \"calc(100% - 25px)\" : \"calc(100% - 18px)\"\n    }\n  }, !headingMode ? React__default.createElement(Protocol, {\n    protocol: entry.proto,\n    horizontal: false\n  }) : null, isStatusCodeEnabled && React__default.createElement(\"div\", null, React__default.createElement(StatusCode, {\n    statusCode: entry.status\n  })), React__default.createElement(\"div\", {\n    className: styles$2.endpointServiceContainer,\n    style: {\n      paddingLeft: endpointServiceContainer\n    }\n  }, React__default.createElement(Summary, {\n    method: entry.method,\n    summary: entry.summary\n  }), React__default.createElement(\"div\", {\n    className: styles$2.resolvedName\n  }, React__default.createElement(Queryable, {\n    query: \"src.name == \\\"\" + entry.src.name + \"\\\"\",\n    displayIconOnMouseOver: true,\n    flipped: true,\n    style: {\n      marginTop: \"-4px\",\n      overflow: \"visible\"\n    },\n    iconStyle: !headingMode ? {\n      marginTop: \"4px\",\n      right: \"16px\",\n      position: \"relative\"\n    } : entry.proto.name === \"http\" ? {\n      marginTop: \"4px\",\n      left: \"calc(50vw + 41px)\",\n      position: \"absolute\"\n    } : {\n      marginTop: \"4px\",\n      left: \"calc(50vw - 9px)\",\n      position: \"absolute\"\n    }\n  }, React__default.createElement(\"span\", {\n    title: \"Source Name\"\n  }, entry.src.name ? entry.src.name : \"[Unresolved]\")), React__default.createElement(SwapHorizIcon, {\n    style: {\n      color: entry.proto.backgroundColor,\n      marginTop: \"-2px\",\n      marginLeft: \"5px\",\n      marginRight: \"5px\"\n    }\n  }), React__default.createElement(Queryable, {\n    query: \"dst.name == \\\"\" + entry.dst.name + \"\\\"\",\n    displayIconOnMouseOver: true,\n    flipped: true,\n    style: {\n      marginTop: \"-4px\"\n    },\n    iconStyle: {\n      marginTop: \"4px\",\n      marginLeft: \"-2px\",\n      right: \"11px\",\n      position: \"relative\"\n    }\n  }, React__default.createElement(\"span\", {\n    title: \"Destination Name\"\n  }, entry.dst.name ? entry.dst.name : \"[Unresolved]\")))), rule ? React__default.createElement(\"div\", {\n    className: styles$2.ruleNumberText + \" \" + (ruleSuccess ? styles$2.ruleNumberTextSuccess : styles$2.ruleNumberTextFailure) + \" \" + (rule && contractEnabled ? styles$2.separatorRight : \"\")\n  }, \"Rules (\" + numberOfRules + \")\") : \"\", contractEnabled ? React__default.createElement(\"div\", {\n    className: styles$2.ruleNumberText + \" \" + (ruleSuccess ? styles$2.ruleNumberTextSuccess : styles$2.ruleNumberTextFailure) + \" \" + (rule && contractEnabled ? styles$2.separatorLeft : \"\")\n  }, contractText) : \"\", React__default.createElement(\"div\", {\n    className: styles$2.separatorRight\n  }, React__default.createElement(Queryable, {\n    query: \"src.ip == \\\"\" + entry.src.ip + \"\\\"\",\n    displayIconOnMouseOver: true,\n    flipped: true,\n    iconStyle: {\n      marginRight: \"16px\"\n    }\n  }, React__default.createElement(\"span\", {\n    className: styles$2.tcpInfo + \" \" + styles$2.ip,\n    title: \"Source IP\"\n  }, entry.src.ip)), React__default.createElement(\"span\", {\n    className: \"\" + styles$2.tcpInfo,\n    style: {\n      marginTop: \"18px\"\n    }\n  }, entry.src.port ? \":\" : \"\"), React__default.createElement(Queryable, {\n    query: \"src.port == \\\"\" + entry.src.port + \"\\\"\",\n    displayIconOnMouseOver: true,\n    flipped: true,\n    iconStyle: {\n      marginTop: \"28px\"\n    }\n  }, React__default.createElement(\"span\", {\n    className: styles$2.tcpInfo + \" \" + styles$2.port,\n    title: \"Source Port\"\n  }, entry.src.port)), entry.isOutgoing ? React__default.createElement(Queryable, {\n    query: \"outgoing == true\",\n    displayIconOnMouseOver: true,\n    flipped: true,\n    iconStyle: {\n      marginTop: \"28px\"\n    }\n  }, React__default.createElement(\"img\", {\n    src: outgoingIcon,\n    alt: \"Ingoing traffic\",\n    title: \"Ingoing\"\n  })) : React__default.createElement(Queryable, {\n    query: \"outgoing == true\",\n    displayIconOnMouseOver: true,\n    flipped: true,\n    iconStyle: {\n      marginTop: \"28px\"\n    }\n  }, React__default.createElement(\"img\", {\n    src: ingoingIcon,\n    alt: \"Outgoing traffic\",\n    title: \"Outgoing\",\n    onClick: function onClick() {\n      var query = \"outgoing == false\";\n      setQuery(queryState ? queryState + \" and \" + query : query);\n    }\n  })), React__default.createElement(Queryable, {\n    query: \"dst.ip == \\\"\" + entry.dst.ip + \"\\\"\",\n    displayIconOnMouseOver: true,\n    flipped: false,\n    iconStyle: {\n      marginTop: \"28px\"\n    }\n  }, React__default.createElement(\"span\", {\n    className: styles$2.tcpInfo + \" \" + styles$2.ip,\n    title: \"Destination IP\"\n  }, entry.dst.ip)), React__default.createElement(\"span\", {\n    className: \"\" + styles$2.tcpInfo,\n    style: {\n      marginTop: \"18px\"\n    }\n  }, \":\"), React__default.createElement(Queryable, {\n    query: \"dst.port == \\\"\" + entry.dst.port + \"\\\"\",\n    displayIconOnMouseOver: true,\n    flipped: false\n  }, React__default.createElement(\"span\", {\n    className: styles$2.tcpInfo + \" \" + styles$2.port,\n    title: \"Destination Port\"\n  }, entry.dst.port))), React__default.createElement(\"div\", {\n    className: styles$2.timestamp\n  }, React__default.createElement(Queryable, {\n    query: \"timestamp >= datetime(\\\"\" + ((_Moment = Moment(+entry.timestamp)) === null || _Moment === void 0 ? void 0 : _Moment.utc().format('MM/DD/YYYY, h:mm:ss.SSS A')) + \"\\\")\",\n    displayIconOnMouseOver: true,\n    flipped: false\n  }, React__default.createElement(\"span\", {\n    title: \"Timestamp (UTC)\"\n  }, (_Moment2 = Moment(+entry.timestamp)) === null || _Moment2 === void 0 ? void 0 : _Moment2.utc().format('MM/DD/YYYY, h:mm:ss.SSS A'))))));\n};\n\nvar spinner = \"spinner~RjSDsBsa.svg\";\nvar entriesAtom = atom({\n  key: \"entriesAtom\",\n  \"default\": []\n});\nvar WsConnectionStatus;\n\n(function (WsConnectionStatus) {\n  WsConnectionStatus[WsConnectionStatus[\"Closed\"] = 0] = \"Closed\";\n  WsConnectionStatus[WsConnectionStatus[\"Connected\"] = 1] = \"Connected\";\n})(WsConnectionStatus || (WsConnectionStatus = {}));\n\nvar TrafficViewerApiAtom = atom({\n  key: \"trafficViewerApi\",\n  \"default\": {}\n});\n\nvar EntriesList = function EntriesList(_ref) {\n  var _scrollableRef$curren, _scrollableRef$curren2;\n\n  var listEntryREF = _ref.listEntryREF,\n      onSnapBrokenEvent = _ref.onSnapBrokenEvent,\n      isSnappedToBottom = _ref.isSnappedToBottom,\n      setIsSnappedToBottom = _ref.setIsSnappedToBottom,\n      queriedCurrent = _ref.queriedCurrent,\n      setQueriedCurrent = _ref.setQueriedCurrent,\n      queriedTotal = _ref.queriedTotal,\n      setQueriedTotal = _ref.setQueriedTotal,\n      startTime = _ref.startTime,\n      noMoreDataTop = _ref.noMoreDataTop,\n      setNoMoreDataTop = _ref.setNoMoreDataTop,\n      leftOffTop = _ref.leftOffTop,\n      setLeftOffTop = _ref.setLeftOffTop,\n      openWebSocket = _ref.openWebSocket,\n      leftOffBottom = _ref.leftOffBottom,\n      truncatedTimestamp = _ref.truncatedTimestamp,\n      setTruncatedTimestamp = _ref.setTruncatedTimestamp,\n      scrollableRef = _ref.scrollableRef;\n\n  var _useRecoilState = useRecoilState(entriesAtom),\n      entries = _useRecoilState[0],\n      setEntries = _useRecoilState[1];\n\n  var wsConnection = useRecoilValue(wsConnectionAtom);\n  var query = useRecoilValue(queryAtom);\n  var isWsConnectionClosed = wsConnection === WsConnectionStatus.Closed;\n  var trafficViewerApi = useRecoilValue(TrafficViewerApiAtom);\n\n  var _useState = useState(false),\n      loadMoreTop = _useState[0],\n      setLoadMoreTop = _useState[1];\n\n  var _useState2 = useState(false),\n      isLoadingTop = _useState2[0],\n      setIsLoadingTop = _useState2[1];\n\n  useEffect(function () {\n    var list = document.getElementById('list').firstElementChild;\n    list.addEventListener('scroll', function (e) {\n      var el = e.target;\n\n      if (el.scrollTop === 0) {\n        setLoadMoreTop(true);\n      } else {\n        setNoMoreDataTop(false);\n        setLoadMoreTop(false);\n      }\n    });\n  }, [setLoadMoreTop, setNoMoreDataTop]);\n  var memoizedEntries = useMemo(function () {\n    return entries;\n  }, [entries]);\n  var getOldEntries = useCallback(function () {\n    try {\n      setLoadMoreTop(false);\n\n      if (leftOffTop === null || leftOffTop <= 0) {\n        return Promise.resolve();\n      }\n\n      setIsLoadingTop(true);\n      debugger;\n      return Promise.resolve(trafficViewerApi.fetchEntries(leftOffTop, -1, query, 100, 3000)).then(function (data) {\n        if (!data || data.data === null || data.meta === null) {\n          setNoMoreDataTop(true);\n          setIsLoadingTop(false);\n          return;\n        }\n\n        setLeftOffTop(data.meta.leftOff);\n        var scrollTo;\n\n        if (data.meta.leftOff === 0) {\n          setNoMoreDataTop(true);\n          scrollTo = false;\n        } else {\n          scrollTo = true;\n        }\n\n        setIsLoadingTop(false);\n        var newEntries = [].concat(data.data.reverse(), entries);\n        setEntries(newEntries);\n        setQueriedCurrent(queriedCurrent + data.meta.current);\n        setQueriedTotal(data.meta.total);\n        setTruncatedTimestamp(data.meta.truncatedTimestamp);\n\n        if (scrollTo) {\n          scrollableRef.current.scrollToIndex(data.data.length - 1);\n        }\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  }, [setLoadMoreTop, setIsLoadingTop, entries, setEntries, query, setNoMoreDataTop, leftOffTop, setLeftOffTop, queriedCurrent, setQueriedCurrent, setQueriedTotal, setTruncatedTimestamp, scrollableRef]);\n  useEffect(function () {\n    if (!isWsConnectionClosed || !loadMoreTop || noMoreDataTop) return;\n    getOldEntries();\n  }, [loadMoreTop, noMoreDataTop, getOldEntries, isWsConnectionClosed]);\n  var scrollbarVisible = ((_scrollableRef$curren = scrollableRef.current) === null || _scrollableRef$curren === void 0 ? void 0 : _scrollableRef$curren.childWrapperRef.current.clientHeight) > ((_scrollableRef$curren2 = scrollableRef.current) === null || _scrollableRef$curren2 === void 0 ? void 0 : _scrollableRef$curren2.wrapperRef.current.clientHeight);\n  return React__default.createElement(React__default.Fragment, null, React__default.createElement(\"div\", {\n    className: styles$1.list\n  }, React__default.createElement(\"div\", {\n    id: \"list\",\n    ref: listEntryREF,\n    className: styles$1.list\n  }, isLoadingTop && React__default.createElement(\"div\", {\n    className: styles$1.spinnerContainer\n  }, React__default.createElement(\"img\", {\n    alt: \"spinner\",\n    src: spinner,\n    style: {\n      height: 25\n    }\n  })), noMoreDataTop && React__default.createElement(\"div\", {\n    id: \"noMoreDataTop\",\n    className: styles$1.noMoreDataAvailable\n  }, \"No more data available\"), React__default.createElement(ScrollableFeedVirtualized, {\n    ref: scrollableRef,\n    itemHeight: 48,\n    marginTop: 10,\n    onSnapBroken: onSnapBrokenEvent\n  }, false, memoizedEntries.map(function (entry) {\n    return React__default.createElement(EntryItem, {\n      key: \"entry-\" + entry.id,\n      entry: entry,\n      style: {},\n      headingMode: false\n    });\n  })), React__default.createElement(\"button\", {\n    type: \"button\",\n    title: \"Fetch old records\",\n    className: styles$1.btnOld + \" \" + (!scrollbarVisible && leftOffTop > 0 ? styles$1.showButton : styles$1.hideButton),\n    onClick: function onClick(_) {\n      getOldEntries();\n    }\n  }, React__default.createElement(\"img\", {\n    alt: \"down\",\n    src: down\n  })), React__default.createElement(\"button\", {\n    type: \"button\",\n    title: \"Snap to bottom\",\n    className: styles$1.btnLive + \" \" + (isSnappedToBottom && !isWsConnectionClosed ? styles$1.hideButton : styles$1.showButton),\n    onClick: function onClick(_) {\n      if (isWsConnectionClosed) {\n        if (query) {\n          openWebSocket(\"(\" + query + \") and leftOff(\" + leftOffBottom + \")\", false);\n        } else {\n          openWebSocket(\"leftOff(\" + leftOffBottom + \")\", false);\n        }\n      }\n\n      scrollableRef.current.jumpToBottom();\n      setIsSnappedToBottom(true);\n    }\n  }, React__default.createElement(\"img\", {\n    alt: \"down\",\n    src: down\n  }))), React__default.createElement(\"div\", {\n    className: styles$1.footer\n  }, React__default.createElement(\"div\", null, \"Displaying \", React__default.createElement(\"b\", {\n    id: \"entries-length\"\n  }, entries === null || entries === void 0 ? void 0 : entries.length), \" results out of \", React__default.createElement(\"b\", {\n    id: \"total-entries\"\n  }, queriedTotal), \" total\"), startTime !== 0 && React__default.createElement(\"div\", null, \"Started listening at \", React__default.createElement(\"span\", {\n    style: {\n      marginRight: 5,\n      fontWeight: 600,\n      fontSize: 13\n    }\n  }, Moment(truncatedTimestamp ? truncatedTimestamp : startTime).utc().format('MM/DD/YYYY, h:mm:ss.SSS A'))))));\n};\n\nvar TrafficViwerStyles = {\n  \"mainBackgroundColor\": \"white\",\n  \"headerBackgroundColor\": \"#F7F9FC\",\n  \"fontColor\": \"#0C0B1A\",\n  \"secondaryFontColor\": \"rgba(0, 0, 0, 0.5)\",\n  \"blueColor\": \"#205CF5\",\n  \"lightBlueColor\": \"#BCCEFD\",\n  \"successColor\": \"#27AE60\",\n  \"failureColor\": \"#EB5757\",\n  \"blueGray\": \"#494677\",\n  \"lightGray\": \"#8F9BB2\",\n  \"TrafficPage\": \"_2iJRc\",\n  \"TrafficPageHeader\": \"_1ozU5\",\n  \"TrafficPageStreamStatus\": \"_16baK\",\n  \"TrafficPageHeaderImage\": \"_1aHaf\",\n  \"TrafficPageHeaderText\": \"_3syIR\",\n  \"TrafficPageHeaderActions\": \"_29_nE\",\n  \"TrafficPageHeaderActionsImage\": \"_-VX8B\",\n  \"TrafficPageViewer\": \"_5hmYn\",\n  \"TrafficContent\": \"_1CnKE\",\n  \"TrafficPageContainer\": \"_2Spig\",\n  \"TrafficPageListContainer\": \"_2dgJN\",\n  \"TrafficPageDetailContainer\": \"_1aIp_\",\n  \"indicatorContainer\": \"_3dDE3\",\n  \"indicator\": \"_1j4un\",\n  \"greenIndicatorContainer\": \"_2F8Bp\",\n  \"greenIndicator\": \"_1iDzL\",\n  \"orangeIndicatorContainer\": \"_3oeSA\",\n  \"orangeIndicator\": \"_3XnXZ\",\n  \"redIndicatorContainer\": \"_2r720\",\n  \"redIndicator\": \"_2DSyW\",\n  \"connectionText\": \"_Wywit\",\n  \"playPauseIcon\": \"_IAc7l\"\n};\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar styles$6 = {\n  \"mainBackgroundColor\": \"white\",\n  \"headerBackgroundColor\": \"#F7F9FC\",\n  \"fontColor\": \"#0C0B1A\",\n  \"secondaryFontColor\": \"rgba(0, 0, 0, 0.5)\",\n  \"blueColor\": \"#205CF5\",\n  \"lightBlueColor\": \"#BCCEFD\",\n  \"successColor\": \"#27AE60\",\n  \"failureColor\": \"#EB5757\",\n  \"blueGray\": \"#494677\",\n  \"lightGray\": \"#8F9BB2\",\n  \"Entry\": \"_3Cdsc\",\n  \"header\": \"_17nPL\",\n  \"description\": \"_3kxxc\",\n  \"method\": \"_2_y0I\",\n  \"timing\": \"_2J1j1\",\n  \"headerClickable\": \"_3aNp9\",\n  \"body\": \"_2WSTX\",\n  \"bodyHeader\": \"_1aBT8\",\n  \"endpointURL\": \"_29Hpw\"\n};\nvar _excluded = [\"isSimple\"];\nvar styles$7 = {\n  \"default\": {\n    maxWidth: 300\n  },\n  wide: {\n    maxWidth: 700\n  },\n  fit: {\n    maxWidth: '100%'\n  }\n};\nvar useStyles = makeStyles(function (theme) {\n  return styles$7;\n});\n\nvar Tooltip = function Tooltip(props) {\n  var isSimple = props.isSimple,\n      _props = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var classes = useStyles(props.variant);\n  var variant = props.variant || 'default';\n  var backgroundClass = isSimple ? \"\" : \"noBackground\";\n  return React__default.createElement(Tooltip$1, Object.assign({\n    classes: {\n      tooltip: backgroundClass + \" \" + classes[variant]\n    },\n    interactive: true,\n    enterDelay: 200,\n    TransitionComponent: Fade\n  }, _props), props.children || React__default.createElement(\"div\", null));\n};\n\nvar useTabsStyles = makeStyles$1(function (theme) {\n  return createStyles({\n    root: {\n      height: 40,\n      paddingTop: 15\n    },\n    tab: {\n      display: 'inline-block',\n      textTransform: 'uppercase',\n      color: variables.blueColor,\n      cursor: 'pointer'\n    },\n    tabsAlignLeft: {\n      textAlign: 'left'\n    },\n    active: {\n      fontWeight: 400,\n      color: variables.fontColor,\n      cursor: 'unset',\n      borderBottom: \"2px solid \" + variables.fontColor,\n      paddingBottom: 6,\n      \"&.dark\": {\n        color: theme.palette.common.black,\n        borderBottom: \"2px solid \" + theme.palette.common.black\n      }\n    },\n    disabled: {\n      color: theme.palette.primary.dark,\n      cursor: 'unset'\n    },\n    highlight: {\n      color: theme.palette.primary.light\n    },\n    separator: {\n      borderRight: \"1px solid \" + theme.palette.primary.dark,\n      height: 20,\n      verticalAlign: 'middle',\n      margin: '0 20px',\n      cursor: 'unset'\n    }\n  });\n});\n\nvar Tabs = function Tabs(_ref) {\n  var _ref$classes = _ref.classes,\n      classes = _ref$classes === void 0 ? {} : _ref$classes,\n      tabs = _ref.tabs,\n      currentTab = _ref.currentTab,\n      color = _ref.color,\n      onChange = _ref.onChange,\n      leftAligned = _ref.leftAligned,\n      dark = _ref.dark;\n\n  var _classes = _extends({}, useTabsStyles(), classes);\n\n  return React__default.createElement(\"div\", {\n    className: _classes.root + \" \" + (leftAligned ? _classes.tabsAlignLeft : '')\n  }, tabs.map(function (_ref2, index) {\n    var tab = _ref2.tab,\n        disabled = _ref2.disabled,\n        disabledMessage = _ref2.disabledMessage,\n        highlight = _ref2.highlight,\n        badge = _ref2.badge;\n    var active = currentTab === tab;\n    var tabLink = React__default.createElement(\"span\", {\n      key: tab,\n      className: _classes.tab + \" \" + (active ? _classes.active : '') + \" \" + (disabled ? _classes.disabled : '') + \" \" + (highlight ? _classes.highlight : '') + \" \" + (dark ? 'dark' : ''),\n      onClick: function onClick() {\n        return !disabled && onChange(tab);\n      },\n      style: {\n        color: color\n      }\n    }, tab, React__default.isValidElement(badge) && badge);\n    return React__default.createElement(\"span\", {\n      key: tab\n    }, disabled && disabledMessage ? React__default.createElement(Tooltip, {\n      title: disabledMessage,\n      isSimple: true\n    }, tabLink) : tabLink, index < tabs.length - 1 && React__default.createElement(\"span\", {\n      className: _classes.tab + ' ' + _classes.separator,\n      key: tab + '_sepparator'\n    }));\n  }));\n};\n\nvar styles$8 = {\n  \"mainBackgroundColor\": \"white\",\n  \"headerBackgroundColor\": \"#F7F9FC\",\n  \"fontColor\": \"#0C0B1A\",\n  \"secondaryFontColor\": \"rgba(0, 0, 0, 0.5)\",\n  \"blueColor\": \"#205CF5\",\n  \"lightBlueColor\": \"#BCCEFD\",\n  \"successColor\": \"#27AE60\",\n  \"failureColor\": \"#EB5757\",\n  \"blueGray\": \"#494677\",\n  \"lightGray\": \"#8F9BB2\",\n  \"title\": \"_3M8WT\",\n  \"button\": \"_3wgaQ\",\n  \"expanded\": \"_58x2f\",\n  \"dataLine\": \"_1rqC6\",\n  \"dataKey\": \"_8g5dh\",\n  \"rulesTitleSuccess\": \"_3Moav\",\n  \"rulesMatchedSuccess\": \"_9-JFg\",\n  \"rulesMatchedFailure\": \"_10fRZ\",\n  \"dataValue\": \"_3-83d\",\n  \"collapsibleContainer\": \"_15Oq0\",\n  \"noRules\": \"_2ojaA\"\n};\nvar styles$9 = {\n  \"CollapsibleContainerHeader\": \"_BhHxF\",\n  \"CollapsibleContainerHeaderSticky\": \"_2QC3u\",\n  \"CollapsibleContainerBigger\": \"_3hWtn\",\n  \"CollapsibleContainerExpandCollapseButton\": \"_Ns-TU\",\n  \"CollapsibleContainerExpanded\": \"_2FxH-\",\n  \"CollapsibleContainerTitle\": \"_29sFR\",\n  \"CollapsibleContainerCollapsed\": \"_b6OUz\"\n};\n\nvar CollapsibleContainer = function CollapsibleContainer(_ref) {\n  var title = _ref.title,\n      children = _ref.children,\n      expanded = _ref.expanded,\n      titleClassName = _ref.titleClassName,\n      className = _ref.className,\n      _ref$stickyHeader = _ref.stickyHeader,\n      stickyHeader = _ref$stickyHeader === void 0 ? false : _ref$stickyHeader;\n  var classNames = styles$9.CollapsibleContainer + \" \" + (expanded ? \"\" + styles$9.CollapsibleContainerExpanded : \"\" + styles$9.CollapsibleContainerCollapsed) + \" \" + (className ? className : '');\n  var content = React__default.createElement(React__default.Fragment, null, React__default.createElement(\"div\", {\n    className: styles$9.CollapsibleContainerHeader + \" \" + (stickyHeader ? \"\" + styles$9.CollapsibleContainerHeaderSticky : \"\") + \"\\n                      \" + (expanded ? \"\" + styles$9.CollapsibleContainerHeaderExpanded : \"\")\n  }, React__default.isValidElement(title) ? React__default.createElement(React__default.Fragment, null, title) : React__default.createElement(React__default.Fragment, null, React__default.createElement(\"div\", {\n    className: styles$9.CollapsibleContainerTitle + \" \" + (titleClassName ? titleClassName : '')\n  }, title), React__default.createElement(\"img\", {\n    className: styles$9.CollapsibleContainerExpandCollapseButton,\n    src: expanded ? expandedImg : collapsedImg,\n    alt: \"Expand/Collapse Button\"\n  }))), expanded ? children : null);\n  return stickyHeader ? content : React__default.createElement(\"div\", {\n    className: classNames\n  }, content);\n};\n\nvar styles$a = {\n  \"FancyTextDisplayContainer\": \"_3Q3kb\",\n  \"displayIconOnMouseOver\": \"_3_6Ss\",\n  \"FancyTextDisplayIcon\": \"_30YSL\",\n  \"FancyTextDisplayContainerEllipsis\": \"_38WfO\",\n  \"FancyTextDisplayText\": \"_10gdA\",\n  \"FancyTextDisplayCopyNotifier\": \"_2KHpn\"\n};\n\nvar FancyTextDisplay = function FancyTextDisplay(_ref) {\n  var text = _ref.text,\n      className = _ref.className,\n      _ref$isPossibleToCopy = _ref.isPossibleToCopy,\n      isPossibleToCopy = _ref$isPossibleToCopy === void 0 ? true : _ref$isPossibleToCopy,\n      _ref$applyTextEllipsi = _ref.applyTextEllipsis,\n      applyTextEllipsis = _ref$applyTextEllipsi === void 0 ? true : _ref$applyTextEllipsi,\n      _ref$flipped = _ref.flipped,\n      flipped = _ref$flipped === void 0 ? false : _ref$flipped,\n      _ref$useTooltip = _ref.useTooltip,\n      useTooltip = _ref$useTooltip === void 0 ? false : _ref$useTooltip,\n      _ref$displayIconOnMou = _ref.displayIconOnMouseOver,\n      displayIconOnMouseOver = _ref$displayIconOnMou === void 0 ? false : _ref$displayIconOnMou,\n      _ref$buttonOnly = _ref.buttonOnly,\n      buttonOnly = _ref$buttonOnly === void 0 ? false : _ref$buttonOnly;\n\n  var _useState = useState(false),\n      showCopiedNotification = _useState[0],\n      setCopied = _useState[1];\n\n  var _useState2 = useState(false),\n      showTooltip = _useState2[0],\n      setShowTooltip = _useState2[1];\n\n  text = String(text);\n\n  var onCopy = function onCopy() {\n    setCopied(true);\n  };\n\n  useEffect(function () {\n    var timer;\n\n    if (showCopiedNotification) {\n      timer = setTimeout(function () {\n        setCopied(false);\n      }, 1000);\n    }\n\n    return function () {\n      return clearTimeout(timer);\n    };\n  }, [showCopiedNotification]);\n  var textElement = React__default.createElement(\"span\", {\n    className: styles$a.FancyTextDisplayText\n  }, text);\n  var copyButton = isPossibleToCopy && text ? React__default.createElement(CopyToClipboard, {\n    text: text,\n    onCopy: onCopy\n  }, React__default.createElement(\"span\", {\n    className: styles$a.FancyTextDisplayIcon,\n    title: \"Copy \\\"\" + text + \"\\\" value to clipboard\"\n  }, React__default.createElement(\"img\", {\n    src: duplicateImg,\n    alt: \"Duplicate full value\"\n  }), showCopiedNotification && React__default.createElement(\"span\", {\n    className: styles$a.FancyTextDisplayCopyNotifier\n  }, \"Copied\"))) : null;\n  return React__default.createElement(\"p\", {\n    className: styles$a.FancyTextDisplayContainer + \" \" + (className ? className : '') + \" \" + (displayIconOnMouseOver ? \" \" + styles$a.displayIconOnMouseOver + \" \" : '') + \" \" + (applyTextEllipsis ? \" \" + styles$a.FancyTextDisplayContainerEllipsis + \" \" : ''),\n    title: text,\n    onMouseOver: function onMouseOver(e) {\n      return setShowTooltip(true);\n    },\n    onMouseLeave: function onMouseLeave(e) {\n      return setShowTooltip(false);\n    }\n  }, !buttonOnly && flipped && textElement, copyButton, !buttonOnly && !flipped && textElement, useTooltip && showTooltip && React__default.createElement(\"span\", {\n    className: styles$a.FancyTextDisplayCopyNotifier\n  }, text));\n};\n\nvar Checkbox = function Checkbox(_ref) {\n  var checked = _ref.checked,\n      onToggle = _ref.onToggle;\n  return React__default.createElement(\"div\", null, React__default.createElement(\"input\", {\n    style: {\n      cursor: \"pointer\"\n    },\n    type: \"checkbox\",\n    checked: checked,\n    onChange: function onChange(event) {\n      return onToggle(event.target.checked);\n    }\n  }));\n};\n\nvar EntryViewLine = function EntryViewLine(_ref) {\n  var label = _ref.label,\n      value = _ref.value,\n      _ref$selector = _ref.selector,\n      selector = _ref$selector === void 0 ? \"\" : _ref$selector,\n      _ref$overrideQueryVal = _ref.overrideQueryValue,\n      overrideQueryValue = _ref$overrideQueryVal === void 0 ? \"\" : _ref$overrideQueryVal,\n      _ref$displayIconOnMou = _ref.displayIconOnMouseOver,\n      displayIconOnMouseOver = _ref$displayIconOnMou === void 0 ? true : _ref$displayIconOnMou,\n      _ref$useTooltip = _ref.useTooltip,\n      useTooltip = _ref$useTooltip === void 0 ? true : _ref$useTooltip;\n  var query;\n\n  if (!selector) {\n    query = \"\";\n  } else if (overrideQueryValue) {\n    query = selector + \" == \" + overrideQueryValue;\n  } else if (typeof value == \"string\") {\n    query = selector + \" == \\\"\" + JSON.stringify(value).slice(1, -1) + \"\\\"\";\n  } else {\n    query = selector + \" == \" + value;\n  }\n\n  return label && React__default.createElement(\"tr\", {\n    className: styles$8.dataLine\n  }, React__default.createElement(\"td\", {\n    className: \"\" + styles$8.dataKey\n  }, React__default.createElement(Queryable, {\n    query: query,\n    style: {\n      \"float\": \"right\",\n      height: \"18px\"\n    },\n    iconStyle: {\n      marginRight: \"20px\"\n    },\n    flipped: true,\n    useTooltip: useTooltip,\n    displayIconOnMouseOver: displayIconOnMouseOver\n  }, label)), React__default.createElement(\"td\", null, React__default.createElement(FancyTextDisplay, {\n    className: styles$8.dataValue,\n    text: value,\n    applyTextEllipsis: false,\n    flipped: true,\n    displayIconOnMouseOver: true\n  }))) || null;\n};\n\nvar EntrySectionCollapsibleTitle = function EntrySectionCollapsibleTitle(_ref2) {\n  var title = _ref2.title,\n      color = _ref2.color,\n      expanded = _ref2.expanded,\n      setExpanded = _ref2.setExpanded,\n      _ref2$query = _ref2.query,\n      query = _ref2$query === void 0 ? \"\" : _ref2$query;\n  return React__default.createElement(\"div\", {\n    className: styles$8.title\n  }, React__default.createElement(\"div\", {\n    className: styles$8.button + \" \" + (expanded ? styles$8.expanded : ''),\n    style: {\n      backgroundColor: color\n    },\n    onClick: function onClick() {\n      setExpanded(!expanded);\n    }\n  }, expanded ? '-' : '+'), React__default.createElement(Queryable, {\n    query: query,\n    useTooltip: !!query,\n    displayIconOnMouseOver: !!query\n  }, React__default.createElement(\"span\", null, title)));\n};\n\nvar EntrySectionContainer = function EntrySectionContainer(_ref3) {\n  var title = _ref3.title,\n      color = _ref3.color,\n      children = _ref3.children,\n      _ref3$query = _ref3.query,\n      query = _ref3$query === void 0 ? \"\" : _ref3$query;\n\n  var _useState = useState(true),\n      expanded = _useState[0],\n      setExpanded = _useState[1];\n\n  return React__default.createElement(CollapsibleContainer, {\n    className: styles$8.collapsibleContainer,\n    expanded: expanded,\n    title: React__default.createElement(EntrySectionCollapsibleTitle, {\n      title: title,\n      color: color,\n      expanded: expanded,\n      setExpanded: setExpanded,\n      query: query\n    })\n  }, children);\n};\n\nvar EntryBodySection = function EntryBodySection(_ref4) {\n  var title = _ref4.title,\n      color = _ref4.color,\n      content = _ref4.content,\n      encoding = _ref4.encoding,\n      contentType = _ref4.contentType,\n      selector = _ref4.selector;\n  var MAXIMUM_BYTES_TO_FORMAT = 1000000;\n  var jsonLikeFormats = ['json', 'yaml', 'yml'];\n  var xmlLikeFormats = ['xml', 'html'];\n  var protobufFormats = ['application/grpc'];\n  var supportedFormats = jsonLikeFormats.concat(xmlLikeFormats, protobufFormats);\n\n  var _useState2 = useState(true),\n      isPretty = _useState2[0],\n      setIsPretty = _useState2[1];\n\n  var _useState3 = useState(true),\n      showLineNumbers = _useState3[0],\n      setShowLineNumbers = _useState3[1];\n\n  var _useState4 = useState(true),\n      decodeBase64 = _useState4[0],\n      setDecodeBase64 = _useState4[1];\n\n  var isBase64Encoding = encoding === 'base64';\n  var supportsPrettying = supportedFormats.some(function (format) {\n    return (contentType === null || contentType === void 0 ? void 0 : contentType.indexOf(format)) > -1;\n  });\n\n  var formatTextBody = function formatTextBody(body) {\n    if (!decodeBase64) return body;\n    var chunk = body.slice(0, MAXIMUM_BYTES_TO_FORMAT);\n    var bodyBuf = isBase64Encoding ? atob(chunk) : chunk;\n\n    try {\n      if (jsonLikeFormats.some(function (format) {\n        return (contentType === null || contentType === void 0 ? void 0 : contentType.indexOf(format)) > -1;\n      })) {\n        if (!isPretty) return bodyBuf;\n        return jsonBeautify(JSON.parse(bodyBuf), null, 2, 80);\n      } else if (xmlLikeFormats.some(function (format) {\n        return (contentType === null || contentType === void 0 ? void 0 : contentType.indexOf(format)) > -1;\n      })) {\n        if (!isPretty) return bodyBuf;\n        return xmlBeautify(bodyBuf, {\n          indentation: '  ',\n          filter: function filter(node) {\n            return node.type !== 'Comment';\n          },\n          collapseContent: true,\n          lineSeparator: '\\n'\n        });\n      } else if (protobufFormats.some(function (format) {\n        return (contentType === null || contentType === void 0 ? void 0 : contentType.indexOf(format)) > -1;\n      })) {\n        var protobufDecoder = new ProtobufDecoder(bodyBuf, true);\n        var protobufDecoded = protobufDecoder.decode().toSimple();\n        if (!isPretty) return JSON.stringify(protobufDecoded);\n        return jsonBeautify(protobufDecoded, null, 2, 80);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n\n    return bodyBuf;\n  };\n\n  return React__default.createElement(React__default.Fragment, null, content && (content === null || content === void 0 ? void 0 : content.length) > 0 && React__default.createElement(EntrySectionContainer, {\n    title: title,\n    color: color,\n    query: selector + \" == r\\\".*\\\"\"\n  }, React__default.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      alignContent: 'center',\n      margin: \"5px 0\"\n    }\n  }, supportsPrettying && React__default.createElement(\"div\", {\n    style: {\n      paddingTop: 3\n    }\n  }, React__default.createElement(Checkbox, {\n    checked: isPretty,\n    onToggle: function onToggle() {\n      setIsPretty(!isPretty);\n    }\n  })), supportsPrettying && React__default.createElement(\"span\", {\n    style: {\n      marginLeft: '.2rem'\n    }\n  }, \"Pretty\"), React__default.createElement(\"div\", {\n    style: {\n      paddingTop: 3,\n      paddingLeft: supportsPrettying ? 20 : 0\n    }\n  }, React__default.createElement(Checkbox, {\n    checked: showLineNumbers,\n    onToggle: function onToggle() {\n      setShowLineNumbers(!showLineNumbers);\n    }\n  })), React__default.createElement(\"span\", {\n    style: {\n      marginLeft: '.2rem'\n    }\n  }, \"Line numbers\"), isBase64Encoding && React__default.createElement(\"div\", {\n    style: {\n      paddingTop: 3,\n      paddingLeft: 20\n    }\n  }, React__default.createElement(Checkbox, {\n    checked: decodeBase64,\n    onToggle: function onToggle() {\n      setDecodeBase64(!decodeBase64);\n    }\n  })), isBase64Encoding && React__default.createElement(\"span\", {\n    style: {\n      marginLeft: '.2rem'\n    }\n  }, \"Decode Base64\")), React__default.createElement(SyntaxHighlighter, {\n    code: formatTextBody(content),\n    showLineNumbers: showLineNumbers\n  })));\n};\n\nvar EntryTableSection = function EntryTableSection(_ref5) {\n  var title = _ref5.title,\n      color = _ref5.color,\n      arrayToIterate = _ref5.arrayToIterate;\n  var arrayToIterateSorted;\n\n  if (arrayToIterate) {\n    arrayToIterateSorted = arrayToIterate.sort(function (a, b) {\n      if (a.name > b.name) {\n        return 1;\n      }\n\n      if (a.name < b.name) {\n        return -1;\n      }\n\n      return 0;\n    });\n  }\n\n  return React__default.createElement(React__default.Fragment, null, arrayToIterate && arrayToIterate.length > 0 ? React__default.createElement(EntrySectionContainer, {\n    title: title,\n    color: color\n  }, React__default.createElement(\"table\", null, React__default.createElement(\"tbody\", {\n    id: \"tbody-\" + title\n  }, arrayToIterateSorted.map(function (_ref6, index) {\n    var name = _ref6.name,\n        value = _ref6.value,\n        selector = _ref6.selector;\n    return React__default.createElement(EntryViewLine, {\n      key: index,\n      label: name,\n      value: value,\n      selector: selector\n    });\n  })))) : React__default.createElement(\"span\", null));\n};\n\nvar EntryPolicySectionCollapsibleTitle = function EntryPolicySectionCollapsibleTitle(_ref7) {\n  var label = _ref7.label,\n      matched = _ref7.matched,\n      expanded = _ref7.expanded,\n      setExpanded = _ref7.setExpanded;\n  return React__default.createElement(\"div\", {\n    className: styles$8.title\n  }, React__default.createElement(\"span\", {\n    className: styles$8.button + \"\\n            \" + (expanded ? styles$8.expanded : ''),\n    onClick: function onClick() {\n      setExpanded(!expanded);\n    }\n  }, expanded ? '-' : '+'), React__default.createElement(\"span\", null, React__default.createElement(\"tr\", {\n    className: styles$8.dataLine\n  }, React__default.createElement(\"td\", {\n    className: styles$8.dataKey + \" \" + styles$8.rulesTitleSuccess\n  }, label), React__default.createElement(\"td\", {\n    className: styles$8.dataKey + \" \" + (matched === 'Success' ? styles$8.rulesMatchedSuccess : styles$8.rulesMatchedFailure)\n  }, matched))));\n};\n\nvar EntryPolicySectionContainer = function EntryPolicySectionContainer(_ref8) {\n  var label = _ref8.label,\n      matched = _ref8.matched,\n      children = _ref8.children;\n\n  var _useState5 = useState(false),\n      expanded = _useState5[0],\n      setExpanded = _useState5[1];\n\n  return React__default.createElement(CollapsibleContainer, {\n    className: styles$8.collapsibleContainer,\n    expanded: expanded,\n    title: React__default.createElement(EntryPolicySectionCollapsibleTitle, {\n      label: label,\n      matched: matched,\n      expanded: expanded,\n      setExpanded: setExpanded\n    })\n  }, children);\n};\n\nvar EntryTablePolicySection = function EntryTablePolicySection(_ref9) {\n  var title = _ref9.title,\n      color = _ref9.color,\n      latency = _ref9.latency,\n      arrayToIterate = _ref9.arrayToIterate;\n  return React__default.createElement(React__default.Fragment, null, arrayToIterate && arrayToIterate.length > 0 ? React__default.createElement(React__default.Fragment, null, React__default.createElement(EntrySectionContainer, {\n    title: title,\n    color: color\n  }, React__default.createElement(\"table\", null, React__default.createElement(\"tbody\", null, arrayToIterate.map(function (_ref10, index) {\n    var rule = _ref10.rule,\n        matched = _ref10.matched;\n    return React__default.createElement(EntryPolicySectionContainer, {\n      key: index,\n      label: rule.Name,\n      matched: matched && (rule.Type === 'slo' ? rule.ResponseTime >= latency : true) ? \"Success\" : \"Failure\"\n    }, React__default.createElement(React__default.Fragment, null, rule.Key && React__default.createElement(\"tr\", {\n      className: styles$8.dataValue\n    }, React__default.createElement(\"td\", null, React__default.createElement(\"b\", null, \"Key:\")), \" \", React__default.createElement(\"td\", null, rule.Key)), rule.ResponseTime !== 0 && React__default.createElement(\"tr\", {\n      className: styles$8.dataValue\n    }, React__default.createElement(\"td\", null, React__default.createElement(\"b\", null, \"Response Time:\")), \" \", React__default.createElement(\"td\", null, rule.ResponseTime)), rule.Method && React__default.createElement(\"tr\", {\n      className: styles$8.dataValue\n    }, React__default.createElement(\"td\", null, React__default.createElement(\"b\", null, \"Method:\")), \" \", React__default.createElement(\"td\", null, rule.Method)), rule.Path && React__default.createElement(\"tr\", {\n      className: styles$8.dataValue\n    }, React__default.createElement(\"td\", null, React__default.createElement(\"b\", null, \"Path:\")), \" \", React__default.createElement(\"td\", null, rule.Path)), rule.Service && React__default.createElement(\"tr\", {\n      className: styles$8.dataValue\n    }, React__default.createElement(\"td\", null, React__default.createElement(\"b\", null, \"Service:\")), \" \", React__default.createElement(\"td\", null, rule.Service)), rule.Type && React__default.createElement(\"tr\", {\n      className: styles$8.dataValue\n    }, React__default.createElement(\"td\", null, React__default.createElement(\"b\", null, \"Type:\")), \" \", React__default.createElement(\"td\", null, rule.Type)), rule.Value && React__default.createElement(\"tr\", {\n      className: styles$8.dataValue\n    }, React__default.createElement(\"td\", null, React__default.createElement(\"b\", null, \"Value:\")), \" \", React__default.createElement(\"td\", null, rule.Value))));\n  }))))) : React__default.createElement(\"span\", {\n    className: styles$8.noRules\n  }, \"No rules could be applied to this request.\"));\n};\n\nvar EntryContractSection = function EntryContractSection(_ref11) {\n  var color = _ref11.color,\n      requestReason = _ref11.requestReason,\n      responseReason = _ref11.responseReason,\n      contractContent = _ref11.contractContent;\n  return React__default.createElement(React__default.Fragment, null, requestReason && React__default.createElement(EntrySectionContainer, {\n    title: \"Request\",\n    color: color\n  }, requestReason), responseReason && React__default.createElement(EntrySectionContainer, {\n    title: \"Response\",\n    color: color\n  }, responseReason), contractContent && React__default.createElement(EntrySectionContainer, {\n    title: \"Contract\",\n    color: color\n  }, React__default.createElement(SyntaxHighlighter, {\n    code: contractContent,\n    language: \"yaml\"\n  })));\n};\n\nvar SectionTypes;\n\n(function (SectionTypes) {\n  SectionTypes[\"SectionTable\"] = \"table\";\n  SectionTypes[\"SectionBody\"] = \"body\";\n})(SectionTypes || (SectionTypes = {}));\n\nvar SectionsRepresentation = function SectionsRepresentation(_ref) {\n  var data = _ref.data,\n      color = _ref.color;\n  var sections = [];\n\n  if (data) {\n    for (var _iterator = _createForOfIteratorHelperLoose(data.entries()), _step; !(_step = _iterator()).done;) {\n      var _step$value = _step.value,\n          i = _step$value[0],\n          row = _step$value[1];\n\n      switch (row.type) {\n        case SectionTypes.SectionTable:\n          sections.push(React__default.createElement(EntryTableSection, {\n            key: i,\n            title: row.title,\n            color: color,\n            arrayToIterate: JSON.parse(row.data)\n          }));\n          break;\n\n        case SectionTypes.SectionBody:\n          sections.push(React__default.createElement(EntryBodySection, {\n            key: i,\n            title: row.title,\n            color: color,\n            content: row.data,\n            encoding: row.encoding,\n            contentType: row.mimeType,\n            selector: row.selector\n          }));\n          break;\n      }\n    }\n  }\n\n  return React__default.createElement(React__default.Fragment, null, sections);\n};\n\nvar AutoRepresentation = function AutoRepresentation(_ref2) {\n  var representation = _ref2.representation,\n      isRulesEnabled = _ref2.isRulesEnabled,\n      rulesMatched = _ref2.rulesMatched,\n      contractStatus = _ref2.contractStatus,\n      requestReason = _ref2.requestReason,\n      responseReason = _ref2.responseReason,\n      contractContent = _ref2.contractContent,\n      elapsedTime = _ref2.elapsedTime,\n      color = _ref2.color;\n  var TABS = [{\n    tab: 'Request'\n  }];\n\n  var _useState = useState(TABS[0].tab),\n      currentTab = _useState[0],\n      setCurrentTab = _useState[1];\n\n  if (!representation) {\n    return React__default.createElement(React__default.Fragment, null);\n  }\n\n  var _JSON$parse = JSON.parse(representation),\n      request = _JSON$parse.request,\n      response = _JSON$parse.response;\n\n  var responseTabIndex = 0;\n  var rulesTabIndex = 0;\n  var contractTabIndex = 0;\n\n  if (response) {\n    TABS.push({\n      tab: 'Response'\n    });\n    responseTabIndex = TABS.length - 1;\n  }\n\n  if (isRulesEnabled) {\n    TABS.push({\n      tab: 'Rules'\n    });\n    rulesTabIndex = TABS.length - 1;\n  }\n\n  if (contractStatus !== 0 && contractContent) {\n    TABS.push({\n      tab: 'Contract'\n    });\n    contractTabIndex = TABS.length - 1;\n  }\n\n  return React__default.createElement(\"div\", {\n    className: styles$6.Entry\n  }, React__default.createElement(\"div\", {\n    className: styles$6.body\n  }, React__default.createElement(\"div\", {\n    className: styles$6.bodyHeader\n  }, React__default.createElement(Tabs, {\n    tabs: TABS,\n    currentTab: currentTab,\n    color: color,\n    onChange: setCurrentTab,\n    leftAligned: true\n  })), currentTab === TABS[0].tab && React__default.createElement(React__default.Fragment, null, React__default.createElement(SectionsRepresentation, {\n    data: request,\n    color: color\n  })), response && currentTab === TABS[responseTabIndex].tab && React__default.createElement(React__default.Fragment, null, React__default.createElement(SectionsRepresentation, {\n    data: response,\n    color: color\n  })), isRulesEnabled && currentTab === TABS[rulesTabIndex].tab && React__default.createElement(React__default.Fragment, null, React__default.createElement(EntryTablePolicySection, {\n    title: 'Rule',\n    color: color,\n    latency: elapsedTime,\n    arrayToIterate: rulesMatched ? rulesMatched : []\n  })), contractStatus !== 0 && contractContent && currentTab === TABS[contractTabIndex].tab && React__default.createElement(React__default.Fragment, null, React__default.createElement(EntryContractSection, {\n    color: color,\n    requestReason: requestReason,\n    responseReason: responseReason,\n    contractContent: contractContent\n  }))));\n};\n\nvar EntryViewer = function EntryViewer(_ref3) {\n  var representation = _ref3.representation,\n      isRulesEnabled = _ref3.isRulesEnabled,\n      rulesMatched = _ref3.rulesMatched,\n      contractStatus = _ref3.contractStatus,\n      requestReason = _ref3.requestReason,\n      responseReason = _ref3.responseReason,\n      contractContent = _ref3.contractContent,\n      elapsedTime = _ref3.elapsedTime,\n      color = _ref3.color;\n  return React__default.createElement(AutoRepresentation, {\n    representation: representation,\n    isRulesEnabled: isRulesEnabled,\n    rulesMatched: rulesMatched,\n    contractStatus: contractStatus,\n    requestReason: requestReason,\n    responseReason: responseReason,\n    contractContent: contractContent,\n    elapsedTime: elapsedTime,\n    color: color\n  });\n};\n\nvar useStyles$1 = makeStyles(function () {\n  return {\n    entryTitle: {\n      display: 'flex',\n      minHeight: 20,\n      maxHeight: 46,\n      alignItems: 'center',\n      marginBottom: 4,\n      marginLeft: 6,\n      padding: 2,\n      paddingBottom: 0\n    },\n    entrySummary: {\n      display: 'flex',\n      minHeight: 36,\n      maxHeight: 46,\n      alignItems: 'center',\n      marginBottom: 4,\n      padding: 5,\n      paddingBottom: 0\n    }\n  };\n});\n\nvar formatSize = function formatSize(n) {\n  return n > 1000 ? Math.round(n / 1000) + \"KB\" : n + \" B\";\n};\n\nvar EntryTitle = function EntryTitle(_ref) {\n  var protocol = _ref.protocol,\n      data = _ref.data,\n      bodySize = _ref.bodySize,\n      elapsedTime = _ref.elapsedTime;\n  var classes = useStyles$1();\n  var response = data.response;\n  return React__default.createElement(\"div\", {\n    className: classes.entryTitle\n  }, React__default.createElement(Protocol, {\n    protocol: protocol,\n    horizontal: true\n  }), React__default.createElement(\"div\", {\n    style: {\n      right: \"30px\",\n      position: \"absolute\",\n      display: \"flex\"\n    }\n  }, response && React__default.createElement(Queryable, {\n    query: \"response.bodySize == \" + bodySize,\n    style: {\n      margin: \"0 18px\"\n    },\n    displayIconOnMouseOver: true\n  }, React__default.createElement(\"div\", {\n    style: {\n      opacity: 0.5\n    },\n    id: \"entryDetailedTitleBodySize\"\n  }, formatSize(bodySize))), response && React__default.createElement(Queryable, {\n    query: \"elapsedTime >= \" + elapsedTime,\n    style: {\n      marginRight: 18\n    },\n    displayIconOnMouseOver: true\n  }, React__default.createElement(\"div\", {\n    style: {\n      opacity: 0.5\n    },\n    id: \"entryDetailedTitleElapsedTime\"\n  }, Math.round(elapsedTime), \"ms\"))));\n};\n\nvar EntrySummary = function EntrySummary(_ref2) {\n  var entry = _ref2.entry;\n  return React__default.createElement(EntryItem, {\n    key: \"entry-\" + entry.id,\n    entry: entry,\n    style: {},\n    headingMode: true\n  });\n};\n\nvar EntryDetailed = function EntryDetailed() {\n  var focusedEntryId = useRecoilValue(focusedEntryIdAtom);\n  var trafficViewerApi = useRecoilValue(TrafficViewerApiAtom);\n\n  var _useState = useState(null),\n      entryData = _useState[0],\n      setEntryData = _useState[1];\n\n  useEffect(function () {\n    if (!focusedEntryId) return;\n    setEntryData(null);\n\n    (function () {\n      try {\n        var _temp2 = _catch(function () {\n          return Promise.resolve(trafficViewerApi.getEntry(focusedEntryId)).then(function (entryData) {\n            setEntryData(entryData);\n          });\n        }, function (error) {\n          var _error$response, _error$response$data;\n\n          if ((_error$response = error.response) !== null && _error$response !== void 0 && (_error$response$data = _error$response.data) !== null && _error$response$data !== void 0 && _error$response$data.type) {\n            toast[error.response.data.type](\"Entry[\" + focusedEntryId + \"]: \" + error.response.data.msg, {\n              position: \"bottom-right\",\n              theme: \"colored\",\n              autoClose: error.response.data.autoClose,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined\n            });\n          }\n\n          console.error(error);\n        });\n\n        return _temp2 && _temp2.then ? _temp2.then(function () {}) : void 0;\n      } catch (e) {\n        Promise.reject(e);\n      }\n    })();\n  }, [focusedEntryId]);\n  return React__default.createElement(React__default.Fragment, null, entryData && React__default.createElement(EntryTitle, {\n    protocol: entryData.protocol,\n    data: entryData.data,\n    bodySize: entryData.bodySize,\n    elapsedTime: entryData.data.elapsedTime\n  }), entryData && React__default.createElement(EntrySummary, {\n    entry: entryData.data\n  }), React__default.createElement(React__default.Fragment, null, entryData && React__default.createElement(EntryViewer, {\n    representation: entryData.representation,\n    isRulesEnabled: entryData.isRulesEnabled,\n    rulesMatched: entryData.rulesMatched,\n    contractStatus: entryData.data.contractStatus,\n    requestReason: entryData.data.contractRequestReason,\n    responseReason: entryData.data.contractResponseReason,\n    contractContent: entryData.data.contractContent,\n    elapsedTime: entryData.data.elapsedTime,\n    color: entryData.protocol.backgroundColor\n  })));\n};\n\nvar style = {\n  \"mainBackgroundColor\": \"white\",\n  \"headerBackgroundColor\": \"#F7F9FC\",\n  \"fontColor\": \"#0C0B1A\",\n  \"secondaryFontColor\": \"rgba(0, 0, 0, 0.5)\",\n  \"blueColor\": \"#205CF5\",\n  \"lightBlueColor\": \"#BCCEFD\",\n  \"successColor\": \"#27AE60\",\n  \"failureColor\": \"#EB5757\",\n  \"blueGray\": \"#494677\",\n  \"lightGray\": \"#8F9BB2\",\n  \"statusBar\": \"_1rfCV\",\n  \"podsCount\": \"_2sH6K\",\n  \"expandedStatusBar\": \"_13zi6\"\n};\nvar tappingStatusAtom = atom({\n  key: \"tappingStatusAtom\",\n  \"default\": null\n});\nvar tappingStatusDetails = selector({\n  key: 'tappingStatusDetails',\n  get: function get(_ref) {\n    var _get = _ref.get;\n\n    var tappingStatus = _get(tappingStatusAtom);\n\n    var uniqueNamespaces = Array.from(new Set(tappingStatus.map(function (pod) {\n      return pod.namespace;\n    })));\n    var amountOfPods = tappingStatus.length;\n    var amountOfTappedPods = tappingStatus.filter(function (pod) {\n      return pod.isTapped;\n    }).length;\n    var amountOfUntappedPods = amountOfPods - amountOfTappedPods;\n    return {\n      uniqueNamespaces: uniqueNamespaces,\n      amountOfPods: amountOfPods,\n      amountOfTappedPods: amountOfTappedPods,\n      amountOfUntappedPods: amountOfUntappedPods\n    };\n  }\n});\n\nvar pluralize = function pluralize(noun, amount) {\n  return \"\" + noun + (amount !== 1 ? 's' : '');\n};\n\nvar StatusBar = function StatusBar() {\n  var tappingStatus = useRecoilValue(tappingStatusAtom);\n\n  var _useState = useState(false),\n      expandedBar = _useState[0],\n      setExpandedBar = _useState[1];\n\n  var _useRecoilValue = useRecoilValue(tappingStatusDetails),\n      uniqueNamespaces = _useRecoilValue.uniqueNamespaces,\n      amountOfPods = _useRecoilValue.amountOfPods,\n      amountOfTappedPods = _useRecoilValue.amountOfTappedPods,\n      amountOfUntappedPods = _useRecoilValue.amountOfUntappedPods;\n\n  return React__default.createElement(\"div\", {\n    className: style.statusBar + \" + \" + (expandedBar ? ' expandedStatusBar' : \"\"),\n    onMouseOver: function onMouseOver() {\n      return setExpandedBar(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setExpandedBar(false);\n    }\n  }, React__default.createElement(\"div\", {\n    className: style.podsCount\n  }, (tappingStatus === null || tappingStatus === void 0 ? void 0 : tappingStatus.some(function (pod) {\n    return !pod.isTapped;\n  })) && React__default.createElement(\"img\", {\n    src: warningIcon,\n    alt: \"warning\"\n  }), \"Tapping \" + (amountOfUntappedPods > 0 ? amountOfTappedPods + \" / \" + amountOfPods : amountOfPods) + \" \" + pluralize('pod', amountOfPods) + \" in \" + pluralize('namespace', uniqueNamespaces.length) + \" \" + uniqueNamespaces.join(\", \")), expandedBar && React__default.createElement(\"div\", {\n    style: {\n      marginTop: 20\n    }\n  }, React__default.createElement(\"table\", null, React__default.createElement(\"thead\", null, React__default.createElement(\"tr\", null, React__default.createElement(\"th\", {\n    style: {\n      width: \"40%\"\n    }\n  }, \"Pod name\"), React__default.createElement(\"th\", {\n    style: {\n      width: \"40%\"\n    }\n  }, \"Namespace\"), React__default.createElement(\"th\", {\n    style: {\n      width: \"20%\",\n      textAlign: \"center\"\n    }\n  }, \"Tapping\"))), React__default.createElement(\"tbody\", null, tappingStatus.map(function (pod) {\n    return React__default.createElement(\"tr\", {\n      key: pod.name\n    }, React__default.createElement(\"td\", {\n      style: {\n        width: \"40%\"\n      }\n    }, pod.name), React__default.createElement(\"td\", {\n      style: {\n        width: \"40%\"\n      }\n    }, pod.namespace), React__default.createElement(\"td\", {\n      style: {\n        width: \"20%\",\n        textAlign: \"center\"\n      }\n    }, React__default.createElement(\"img\", {\n      style: {\n        height: 20\n      },\n      alt: \"status\",\n      src: pod.isTapped ? successIcon : failIcon\n    })));\n  })))));\n};\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nvar isObject_1 = isObject;\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\nvar _freeGlobal = freeGlobal;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = _freeGlobal || freeSelf || Function('return this')();\nvar _root = root;\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\nvar now = function () {\n  return _root.Date.now();\n};\n\nvar now_1 = now;\n/** Used to match a single whitespace character. */\n\nvar reWhitespace = /\\s/;\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\n\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n\n  return index;\n}\n\nvar _trimmedEndIndex = trimmedEndIndex;\n/** Used to match leading whitespace. */\n\nvar reTrimStart = /^\\s+/;\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\n\nfunction baseTrim(string) {\n  return string ? string.slice(0, _trimmedEndIndex(string) + 1).replace(reTrimStart, '') : string;\n}\n\nvar _baseTrim = baseTrim;\n/** Built-in value references. */\n\nvar Symbol$1 = _root.Symbol;\nvar _Symbol = Symbol$1;\n/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n/** Used to check objects for own properties. */\n\nvar hasOwnProperty = objectProto.hasOwnProperty;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar nativeObjectToString = objectProto.toString;\n/** Built-in value references. */\n\nvar symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\n\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n\n  return result;\n}\n\nvar _getRawTag = getRawTag;\n/** Used for built-in method references. */\n\nvar objectProto$1 = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar nativeObjectToString$1 = objectProto$1.toString;\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\n\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\nvar _objectToString = objectToString;\n/** `Object#toString` result references. */\n\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n/** Built-in value references. */\n\nvar symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\n\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n\n  return symToStringTag$1 && symToStringTag$1 in Object(value) ? _getRawTag(value) : _objectToString(value);\n}\n\nvar _baseGetTag = baseGetTag;\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nvar isObjectLike_1 = isObjectLike;\n/** `Object#toString` result references. */\n\nvar symbolTag = '[object Symbol]';\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike_1(value) && _baseGetTag(value) == symbolTag;\n}\n\nvar isSymbol_1 = isSymbol;\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol_1(value)) {\n    return NAN;\n  }\n\n  if (isObject_1(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject_1(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = _baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nvar toNumber_1 = toNumber;\n/** Error message constants. */\n\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber_1(wait) || 0;\n\n  if (isObject_1(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber_1(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n    return maxing ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now_1();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now_1());\n  }\n\n  function debounced() {\n    var time = now_1(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nvar debounce_1 = debounce;\n\nvar TLSWarning = function TLSWarning(_ref) {\n  var showTLSWarning = _ref.showTLSWarning,\n      setShowTLSWarning = _ref.setShowTLSWarning,\n      addressesWithTLS = _ref.addressesWithTLS,\n      setAddressesWithTLS = _ref.setAddressesWithTLS,\n      userDismissedTLSWarning = _ref.userDismissedTLSWarning,\n      setUserDismissedTLSWarning = _ref.setUserDismissedTLSWarning;\n  var trafficViewerApi = useRecoilValue(TrafficViewerApiAtom);\n  useEffect(function () {\n    (function () {\n      try {\n        var _temp2 = _catch(function () {\n          var getRecentTLSLinksFunc = trafficViewerApi !== null && trafficViewerApi !== void 0 && trafficViewerApi.getRecentTLSLinks ? trafficViewerApi === null || trafficViewerApi === void 0 ? void 0 : trafficViewerApi.getRecentTLSLinks : function () {};\n          return Promise.resolve(getRecentTLSLinksFunc()).then(function (recentTLSLinks) {\n            if ((recentTLSLinks === null || recentTLSLinks === void 0 ? void 0 : recentTLSLinks.length) > 0) {\n              setAddressesWithTLS(new Set(recentTLSLinks));\n              setShowTLSWarning(true);\n            }\n          });\n        }, function (e) {\n          console.error(e);\n        });\n\n        return _temp2 && _temp2.then ? _temp2.then(function () {}) : void 0;\n      } catch (e) {\n        Promise.reject(e);\n      }\n    })();\n  }, [setShowTLSWarning, setAddressesWithTLS, trafficViewerApi]);\n  return React__default.createElement(Snackbar, {\n    open: showTLSWarning && !userDismissedTLSWarning\n  }, React__default.createElement(MuiAlert, {\n    classes: {\n      filledWarning: 'customWarningStyle'\n    },\n    elevation: 6,\n    variant: \"filled\",\n    onClose: function onClose() {\n      return setUserDismissedTLSWarning(true);\n    },\n    severity: \"warning\"\n  }, \"Mizu is detecting TLS traffic, this type of traffic will not be displayed.\", addressesWithTLS.size > 0 && React__default.createElement(\"ul\", {\n    className: \"httpsDomains\"\n  }, \" \", Array.from(addressesWithTLS, function (address) {\n    return React__default.createElement(\"li\", null, address);\n  }), \" \")));\n};\n\nvar useLayoutStyles = makeStyles(function () {\n  return {\n    details: {\n      flex: \"0 0 50%\",\n      width: \"45vw\",\n      padding: \"12px 24px\",\n      borderRadius: 4,\n      marginTop: 15,\n      background: variables.headerBackgroundColor\n    },\n    viewer: {\n      display: \"flex\",\n      overflowY: \"auto\",\n      height: \"calc(100% - 70px)\",\n      padding: 5,\n      paddingBottom: 0,\n      overflow: \"auto\"\n    }\n  };\n});\n\nvar TrafficViewer = function TrafficViewer(_ref) {\n  var setAnalyzeStatus = _ref.setAnalyzeStatus,\n      message = _ref.message,\n      isOpen = _ref.isOpen,\n      closeWs = _ref.closeWs,\n      sendQuery = _ref.sendQuery,\n      openSocket = _ref.openSocket,\n      trafficViewerApiProp = _ref.trafficViewerApiProp;\n  var classes = useLayoutStyles();\n\n  var _useRecoilState = useRecoilState(tappingStatusAtom),\n      tappingStatus = _useRecoilState[0],\n      setTappingStatus = _useRecoilState[1];\n\n  var _useRecoilState2 = useRecoilState(entriesAtom),\n      entries = _useRecoilState2[0],\n      setEntries = _useRecoilState2[1];\n\n  var _useRecoilState3 = useRecoilState(focusedEntryIdAtom),\n      focusedEntryId = _useRecoilState3[0],\n      setFocusedEntryId = _useRecoilState3[1];\n\n  var _useRecoilState4 = useRecoilState(wsConnectionAtom),\n      wsConnection = _useRecoilState4[0],\n      setWsConnection = _useRecoilState4[1];\n\n  var setCloseWsCallback = useSetRecoilState(closeWsConnectionCallbackAtom);\n  var query = useRecoilValue(queryAtom);\n\n  var _useState = useState(\"\"),\n      queryToSend = _useState[0],\n      setQueryToSend = _useState[1];\n\n  var _useRecoilState5 = useRecoilState(TrafficViewerApiAtom),\n      setTrafficViewerApiState = _useRecoilState5[1];\n\n  var _useState2 = useState(false),\n      noMoreDataTop = _useState2[0],\n      setNoMoreDataTop = _useState2[1];\n\n  var _useState3 = useState(true),\n      isSnappedToBottom = _useState3[0],\n      setIsSnappedToBottom = _useState3[1];\n\n  var _useState4 = useState(\"#f5f5f5\"),\n      queryBackgroundColor = _useState4[0],\n      setQueryBackgroundColor = _useState4[1];\n\n  var _useState5 = useState(0),\n      queriedCurrent = _useState5[0],\n      setQueriedCurrent = _useState5[1];\n\n  var _useState6 = useState(0),\n      queriedTotal = _useState6[0],\n      setQueriedTotal = _useState6[1];\n\n  var _useState7 = useState(0),\n      leftOffBottom = _useState7[0],\n      setLeftOffBottom = _useState7[1];\n\n  var _useState8 = useState(null),\n      leftOffTop = _useState8[0],\n      setLeftOffTop = _useState8[1];\n\n  var _useState9 = useState(0),\n      truncatedTimestamp = _useState9[0],\n      setTruncatedTimestamp = _useState9[1];\n\n  var _useState10 = useState(0),\n      startTime = _useState10[0],\n      setStartTime = _useState10[1];\n\n  var scrollableRef = useRef(null);\n\n  var _useState11 = useState(false),\n      showTLSWarning = _useState11[0],\n      setShowTLSWarning = _useState11[1];\n\n  var _useState12 = useState(false),\n      userDismissedTLSWarning = _useState12[0],\n      setUserDismissedTLSWarning = _useState12[1];\n\n  var _useState13 = useState(new Set()),\n      addressesWithTLS = _useState13[0],\n      setAddressesWithTLS = _useState13[1];\n\n  var handleQueryChange = useMemo(function () {\n    return debounce_1(function (query) {\n      try {\n        return Promise.resolve(function () {\n          if (!query) {\n            setQueryBackgroundColor(\"#f5f5f5\");\n          } else {\n            return Promise.resolve(trafficViewerApiProp.validateQuery(query)).then(function (data) {\n              if (!data) {\n                return;\n              }\n\n              if (data.valid) {\n                setQueryBackgroundColor(\"#d2fad2\");\n              } else {\n                setQueryBackgroundColor(\"#fad6dc\");\n              }\n            });\n          }\n        }());\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }, 500);\n  }, []);\n  useEffect(function () {\n    handleQueryChange(query);\n  }, [query, handleQueryChange]);\n  var listEntry = useRef(null);\n\n  var openWebSocket = function openWebSocket(query, resetEntries) {\n    if (resetEntries) {\n      setFocusedEntryId(null);\n      setEntries([]);\n      setQueriedCurrent(0);\n      setLeftOffTop(null);\n      setNoMoreDataTop(false);\n    }\n\n    setQueryToSend(query);\n    openSocket();\n  };\n\n  var onmessage = useCallback(function (e) {\n    if (!(e !== null && e !== void 0 && e.data)) return;\n    var message = JSON.parse(e.data);\n\n    switch (message.messageType) {\n      case \"entry\":\n        var entry = message.data;\n        if (!focusedEntryId) setFocusedEntryId(entry.id.toString());\n        var newEntries = [].concat(entries, [entry]);\n\n        if (newEntries.length === 10001) {\n          setLeftOffTop(newEntries[0].entry.id);\n          newEntries.shift();\n          setNoMoreDataTop(false);\n        }\n\n        setEntries(newEntries);\n        break;\n\n      case \"status\":\n        setTappingStatus(message.tappingStatus);\n        break;\n\n      case \"analyzeStatus\":\n        setAnalyzeStatus(message.analyzeStatus);\n        break;\n\n      case \"outboundLink\":\n        onTLSDetected(message.Data.DstIP);\n        break;\n\n      case \"toast\":\n        toast[message.data.type](message.data.text, {\n          position: \"bottom-right\",\n          theme: \"colored\",\n          autoClose: message.data.autoClose,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n        break;\n\n      case \"queryMetadata\":\n        setQueriedCurrent(queriedCurrent + message.data.current);\n        setQueriedTotal(message.data.total);\n        setLeftOffBottom(message.data.leftOff);\n        setTruncatedTimestamp(message.data.truncatedTimestamp);\n\n        if (leftOffTop === null) {\n          setLeftOffTop(message.data.leftOff - 1);\n        }\n\n        break;\n\n      case \"startTime\":\n        setStartTime(message.data);\n        break;\n\n      default:\n        console.error(\"unsupported websocket message type, Got: \" + message.messageType);\n    }\n  }, [message]);\n  useEffect(function () {\n    onmessage(message);\n  }, [message, onmessage]);\n  useEffect(function () {\n    isOpen ? setWsConnection(WsConnectionStatus.Connected) : setWsConnection(WsConnectionStatus.Closed);\n    sendQuery(queryToSend);\n  }, [isOpen, queryToSend, sendQuery, setWsConnection]);\n  useEffect(function () {\n    (function () {\n      try {\n        setTrafficViewerApiState(trafficViewerApiProp);\n        openWebSocket(\"leftOff(-1)\", true);\n\n        var _temp3 = _catch(function () {\n          return Promise.resolve(trafficViewerApiProp.tapStatus()).then(function (tapStatusResponse) {\n            setTappingStatus(tapStatusResponse);\n\n            var _temp = function () {\n              if (setAnalyzeStatus) {\n                return Promise.resolve(trafficViewerApiProp.analyzeStatus()).then(function (analyzeStatusResponse) {\n                  setAnalyzeStatus(analyzeStatusResponse);\n                });\n              }\n            }();\n\n            if (_temp && _temp.then) return _temp.then(function () {});\n          });\n        }, function (error) {\n          console.error(error);\n        });\n\n        return _temp3 && _temp3.then ? _temp3.then(function () {}) : void 0;\n      } catch (e) {\n        Promise.reject(e);\n      }\n    })();\n  }, []);\n\n  var closeCallback = function closeCallback() {\n    wsConnection === WsConnectionStatus.Connected && closeWs();\n  };\n\n  setCloseWsCallback({\n    closeCallback: closeCallback\n  });\n\n  var toggleConnection = function toggleConnection() {\n    if (wsConnection === WsConnectionStatus.Closed) {\n      if (query) {\n        openWebSocket(\"(\" + query + \") and leftOff(-1)\", true);\n      } else {\n        openWebSocket(\"leftOff(-1)\", true);\n      }\n\n      scrollableRef.current.jumpToBottom();\n      setIsSnappedToBottom(true);\n    } else if (wsConnection === WsConnectionStatus.Connected) {\n      closeWs();\n      setWsConnection(WsConnectionStatus.Closed);\n    }\n  };\n\n  var onTLSDetected = function onTLSDetected(destAddress) {\n    addressesWithTLS.add(destAddress);\n    setAddressesWithTLS(new Set(addressesWithTLS));\n\n    if (!userDismissedTLSWarning) {\n      setShowTLSWarning(true);\n    }\n  };\n\n  var getConnectionIndicator = function getConnectionIndicator() {\n    switch (wsConnection) {\n      case WsConnectionStatus.Connected:\n        return React__default.createElement(\"div\", {\n          className: TrafficViwerStyles.indicatorContainer + \" \" + TrafficViwerStyles.greenIndicatorContainer\n        }, React__default.createElement(\"div\", {\n          className: TrafficViwerStyles.indicator + \" \" + TrafficViwerStyles.greenIndicator\n        }));\n\n      default:\n        return React__default.createElement(\"div\", {\n          className: TrafficViwerStyles.indicatorContainer + \" \" + TrafficViwerStyles.redIndicatorContainer\n        }, React__default.createElement(\"div\", {\n          className: TrafficViwerStyles.indicator + \" \" + TrafficViwerStyles.redIndicator\n        }));\n    }\n  };\n\n  var getConnectionTitle = function getConnectionTitle() {\n    switch (wsConnection) {\n      case WsConnectionStatus.Connected:\n        return \"streaming live traffic\";\n\n      default:\n        return \"streaming paused\";\n    }\n  };\n\n  var onSnapBrokenEvent = function onSnapBrokenEvent() {\n    setIsSnappedToBottom(false);\n\n    if (wsConnection === WsConnectionStatus.Connected) {\n      closeWs();\n    }\n  };\n\n  return React__default.createElement(\"div\", {\n    className: TrafficViwerStyles.TrafficPage\n  }, React__default.createElement(\"div\", {\n    className: TrafficViwerStyles.TrafficPageHeader\n  }, React__default.createElement(\"div\", {\n    className: TrafficViwerStyles.TrafficPageStreamStatus\n  }, React__default.createElement(\"img\", {\n    className: TrafficViwerStyles.playPauseIcon,\n    style: {\n      visibility: wsConnection === WsConnectionStatus.Connected ? \"visible\" : \"hidden\"\n    },\n    alt: \"pause\",\n    src: pauseIcon,\n    onClick: toggleConnection\n  }), React__default.createElement(\"img\", {\n    className: TrafficViwerStyles.playPauseIcon,\n    style: {\n      position: \"absolute\",\n      visibility: wsConnection === WsConnectionStatus.Connected ? \"hidden\" : \"visible\"\n    },\n    alt: \"play\",\n    src: playIcon,\n    onClick: toggleConnection\n  }), React__default.createElement(\"div\", {\n    className: TrafficViwerStyles.connectionText\n  }, getConnectionTitle(), getConnectionIndicator()))), React__default.createElement(\"div\", {\n    className: TrafficViwerStyles.TrafficPageContainer\n  }, React__default.createElement(\"div\", {\n    className: TrafficViwerStyles.TrafficPageListContainer\n  }, React__default.createElement(Filters, {\n    backgroundColor: queryBackgroundColor,\n    openWebSocket: openWebSocket\n  }), React__default.createElement(\"div\", {\n    className: styles$1.container\n  }, React__default.createElement(EntriesList, {\n    listEntryREF: listEntry,\n    onSnapBrokenEvent: onSnapBrokenEvent,\n    isSnappedToBottom: isSnappedToBottom,\n    setIsSnappedToBottom: setIsSnappedToBottom,\n    queriedCurrent: queriedCurrent,\n    setQueriedCurrent: setQueriedCurrent,\n    queriedTotal: queriedTotal,\n    setQueriedTotal: setQueriedTotal,\n    startTime: startTime,\n    noMoreDataTop: noMoreDataTop,\n    setNoMoreDataTop: setNoMoreDataTop,\n    leftOffTop: leftOffTop,\n    setLeftOffTop: setLeftOffTop,\n    openWebSocket: openWebSocket,\n    leftOffBottom: leftOffBottom,\n    truncatedTimestamp: truncatedTimestamp,\n    setTruncatedTimestamp: setTruncatedTimestamp,\n    scrollableRef: scrollableRef\n  }))), React__default.createElement(\"div\", {\n    className: classes.details,\n    id: \"rightSideContainer\"\n  }, focusedEntryId && React__default.createElement(EntryDetailed, null))), tappingStatus && React__default.createElement(StatusBar, null), React__default.createElement(TLSWarning, {\n    showTLSWarning: showTLSWarning,\n    setShowTLSWarning: setShowTLSWarning,\n    addressesWithTLS: addressesWithTLS,\n    setAddressesWithTLS: setAddressesWithTLS,\n    userDismissedTLSWarning: userDismissedTLSWarning,\n    setUserDismissedTLSWarning: setUserDismissedTLSWarning\n  }));\n};\n\nvar MemoiedTrafficViwer = React__default.memo(TrafficViewer);\n\nvar TrafficViewerContainer = function TrafficViewerContainer(_ref2) {\n  var setAnalyzeStatus = _ref2.setAnalyzeStatus,\n      message = _ref2.message,\n      isOpen = _ref2.isOpen,\n      closeWs = _ref2.closeWs,\n      sendQuery = _ref2.sendQuery,\n      openSocket = _ref2.openSocket,\n      trafficViewerApiProp = _ref2.trafficViewerApiProp;\n  return React__default.createElement(RecoilRoot, null, React__default.createElement(MemoiedTrafficViwer, {\n    message: message,\n    isOpen: isOpen,\n    closeWs: closeWs,\n    sendQuery: sendQuery,\n    openSocket: openSocket,\n    trafficViewerApiProp: trafficViewerApiProp,\n    setAnalyzeStatus: setAnalyzeStatus\n  }));\n};\n\nvar style$1 = {\n  \"loadingOverlayContainer\": \"_3eijD\",\n  \"loadingOverlaySpinner\": \"_bGElx\",\n  \"rotation\": \"_1jTYC\"\n};\nvar SpinnerShowDelayMs = 350;\n\nvar LoadingOverlay = function LoadingOverlay(_ref) {\n  var delay = _ref.delay;\n\n  var _useState = useState(false),\n      isVisible = _useState[0],\n      setIsVisible = _useState[1];\n\n  useEffect(function () {\n    var isRelevant = true;\n    setTimeout(function () {\n      if (isRelevant) setIsVisible(true);\n    }, delay || SpinnerShowDelayMs);\n    return function () {\n      return isRelevant = false;\n    };\n  }, [delay]);\n  return React__default.createElement(\"div\", {\n    className: style$1.loadingOverlayContainer,\n    hidden: !isVisible\n  }, React__default.createElement(\"div\", {\n    className: style$1.loadingOverlaySpinner\n  }));\n};\n\nvar _path;\n\nfunction _extends$1() {\n  _extends$1 = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends$1.apply(this, arguments);\n}\n\nfunction SvgDefaultIconDown(props) {\n  return /*#__PURE__*/createElement(\"svg\", _extends$1({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 7.237,\n    height: 7.237,\n    fill: \"#fff\"\n  }, props), _path || (_path = /*#__PURE__*/createElement(\"path\", {\n    d: \"M7.236 3.618L5.789 2.171 3.618 4.34l-2.171-2.17L0 3.618l3.618 3.618 3.618-3.618z\"\n  })));\n}\n\nvar styles$b = {\n  \"icon\": \"_1lwMT\",\n  \"list\": \"_i01OB\"\n};\nvar _excluded$1 = [\"label\", \"value\", \"onChangecb\", \"transformDisplay\", \"ellipsis\", \"multiple\", \"labelOnTop\", \"children\", \"className\", \"labelClassName\", \"trimItemsWhenMultiple\"];\nvar ALL_KEY = 'All';\nvar menuProps = {\n  anchorOrigin: {\n    vertical: \"bottom\",\n    horizontal: \"left\"\n  },\n  transformOrigin: {\n    vertical: \"top\",\n    horizontal: \"left\"\n  },\n  getContentAnchorEl: null\n};\nvar classes = {\n  icon: styles$b.icon,\n  selectMenu: styles$b.list\n};\nvar defaultProps = {\n  MenuProps: menuProps,\n  IconComponent: SvgDefaultIconDown\n};\n\nvar Select = function Select(_ref) {\n  var label = _ref.label,\n      value = _ref.value,\n      onChangecb = _ref.onChangecb,\n      transformDisplay = _ref.transformDisplay,\n      _ref$ellipsis = _ref.ellipsis,\n      ellipsis = _ref$ellipsis === void 0 ? true : _ref$ellipsis,\n      multiple = _ref.multiple,\n      _ref$labelOnTop = _ref.labelOnTop,\n      labelOnTop = _ref$labelOnTop === void 0 ? false : _ref$labelOnTop,\n      children = _ref.children,\n      className = _ref.className,\n      labelClassName = _ref.labelClassName,\n      trimItemsWhenMultiple = _ref.trimItemsWhenMultiple,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n\n  var _value = value;\n\n  var _onChange = function _onChange(_, item) {\n    var value = item.props.value;\n    value === ALL_KEY ? onChangecb(ALL_KEY) : onChangecb(value);\n  };\n\n  if (multiple && (!_value || _value.length === 0)) _value = [ALL_KEY];\n  var transformItem = transformDisplay ? transformDisplay : function (i) {\n    return i;\n  };\n  var renderValue = multiple ? function (item) {\n    return React__default.createElement(\"span\", {\n      className: ellipsis ? 'ellipsis' : ''\n    }, trimItemsWhenMultiple && item.length > 1 ? transformItem(item[item.length - 1] + \" (+\" + (item.length - 1) + \")\") : item === null || item === void 0 ? void 0 : item.map(transformItem).join(\",\"));\n  } : null;\n  return React__default.createElement(\"div\", {\n    className: \"select \" + (labelOnTop ? 'labelOnTop' : '') + \" \" + (className ? className : '')\n  }, label && React__default.createElement(\"div\", {\n    className: \"selectLabel \" + (labelClassName ? labelClassName : '')\n  }, label), React__default.createElement(Select$1, Object.assign({}, Object.assign({}, defaultProps, props, {\n    classes: classes,\n    value: _value,\n    renderValue: renderValue,\n    multiple: multiple,\n    onChange: _onChange\n  })), multiple && React__default.createElement(MenuItem, {\n    key: ALL_KEY,\n    value: ALL_KEY\n  }, transformItem(ALL_KEY)), children));\n};\n\nvar index = {\n  __proto__: null,\n  LoadingOverlay: LoadingOverlay,\n  Select: Select,\n  Tabs: Tabs,\n  Tooltip: Tooltip\n};\nexport default TrafficViewerContainer;\nexport { index as UI };","map":{"version":3,"mappings":"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","names":["_iteratorSymbol","Symbol","iterator","_asyncIteratorSymbol","asyncIterator","_catch","body","recover","result","e","then","Lowlight","registerLanguage","python","xml","json","yaml","protobuf","javascript","actionscript","wasm","handlebars","SyntaxHighlighter","code","showLineNumbers","_ref$showLineNumbers","language","_ref$language","markers","split","map","item","i","line","className","React","style","fontSize","value","queryAtom","atom","key","useKeyPress","eventConfigs","callback","node","callbackRef","useRef","useLayoutEffect","current","handleKeyPress","useCallback","event","some","eventConfig","Object","keys","every","nameKey","stopPropagation","preventDefault","useEffect","targetNode","document","addEventListener","removeEventListener","dictionary","ctrlEnter","metaKey","ctrlKey","enter","wsConnectionAtom","closeWsConnectionCallbackAtom","Filters","backgroundColor","openWebSocket","styles","container","QueryForm","modalStyle","position","top","left","transform","width","bgcolor","borderRadius","boxShadow","outline","p","color","formRef","useRecoilState","query","setQuery","closeWsConnectionObj","useRecoilValue","useState","openModal","setOpenModal","handleOpenModal","handleCloseModal","handleChange","target","trim","handleSubmit","shortcutsKeyboard","Fragment","ref","onSubmit","Grid","spacing","xs","maxHeight","overflowY","CodeEditor","placeholder","onChange","padding","fontFamily","Button","type","variant","margin","variables","blueColor","fontWeight","textTransform","title","minWidth","onClick","MenuBookIcon","Modal","open","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","overflow","Fade","Box","sx","Typography","id","component","textAlign","Divider","divider1","orientation","flexItem","src","filterUIExample1","alt","filterUIExample2","divider2","fontStyle","href","Queryable","iconStyle","useTooltip","_ref$useTooltip","displayIconOnMouseOver","_ref$displayIconOnMou","flipped","_ref$flipped","children","showAddedNotification","setAdded","showTooltip","setShowTooltip","queryState","onCopy","timer","setTimeout","clearTimeout","addButton","CopyToClipboard","text","QueryableStyle","QueryableIcon","AddCircleIcon","QueryableAddNotifier","QueryableContainer","onMouseOver","onMouseLeave","QueryableTooltip","StatusCodeClassification","StatusCode","statusCode","classification","getClassification","marginTop","paddingLeft","base","NEUTRAL","SUCCESS","FAILURE","Protocol","protocol","horizontal","macro","rel","referenceLink","foregroundColor","abbr","longName","marginRight","zIndex","vertical","Summary","method","summary","miscStyles","whiteSpace","right","focusedEntryIdAtom","EntryItem","entry","headingMode","focusedEntryId","setFocusedEntryId","isSelected","toString","status","numberOfRules","rules","ingoingIcon","outgoingIcon","ingoingIconSuccess","outgoingIconSuccess","ingoingIconFailure","outgoingIconFailure","ingoingIconNeutral","outgoingIconNeutral","additionalRulesProperties","ruleSuccess","rule","latency","ruleSuccessRow","ruleFailureRow","ruleSuccessRowSelected","ruleFailureRowSelected","contractEnabled","contractText","contractStatus","isStatusCodeEnabled","proto","name","endpointServiceContainer","row","rowSelected","border","resolvedName","SwapHorizIcon","marginLeft","dst","ruleNumberText","ruleNumberTextSuccess","ruleNumberTextFailure","separatorRight","separatorLeft","ip","tcpInfo","port","isOutgoing","timestamp","Moment","_Moment","utc","format","_Moment2","entriesAtom","WsConnectionStatus","TrafficViewerApiAtom","EntriesList","listEntryREF","onSnapBrokenEvent","isSnappedToBottom","setIsSnappedToBottom","queriedCurrent","setQueriedCurrent","queriedTotal","setQueriedTotal","startTime","noMoreDataTop","setNoMoreDataTop","leftOffTop","setLeftOffTop","leftOffBottom","truncatedTimestamp","setTruncatedTimestamp","scrollableRef","entries","setEntries","wsConnection","isWsConnectionClosed","Closed","trafficViewerApi","loadMoreTop","setLoadMoreTop","isLoadingTop","setIsLoadingTop","list","getElementById","firstElementChild","el","scrollTop","memoizedEntries","useMemo","getOldEntries","fetchEntries","data","meta","leftOff","scrollTo","newEntries","reverse","total","scrollToIndex","length","scrollbarVisible","childWrapperRef","clientHeight","_scrollableRef$curren2","wrapperRef","spinnerContainer","spinner","height","noMoreDataAvailable","ScrollableFeedVirtualized","itemHeight","onSnapBroken","btnOld","showButton","hideButton","_","down","btnLive","jumpToBottom","footer","maxWidth","wide","fit","useStyles","makeStyles","theme","Tooltip","props","isSimple","_props","classes","backgroundClass","MUITooltip","tooltip","interactive","enterDelay","TransitionComponent","useTabsStyles","createStyles","root","paddingTop","tab","display","cursor","tabsAlignLeft","active","fontColor","borderBottom","paddingBottom","palette","common","black","disabled","primary","dark","highlight","light","separator","borderRight","verticalAlign","Tabs","_ref$classes","tabs","currentTab","leftAligned","_classes","index","disabledMessage","badge","tabLink","isValidElement","CollapsibleContainer","expanded","titleClassName","stickyHeader","_ref$stickyHeader","classNames","CollapsibleContainerExpanded","CollapsibleContainerCollapsed","content","CollapsibleContainerHeader","CollapsibleContainerHeaderSticky","CollapsibleContainerHeaderExpanded","CollapsibleContainerTitle","CollapsibleContainerExpandCollapseButton","expandedImg","collapsedImg","FancyTextDisplay","isPossibleToCopy","_ref$isPossibleToCopy","applyTextEllipsis","_ref$applyTextEllipsi","buttonOnly","_ref$buttonOnly","showCopiedNotification","setCopied","String","textElement","FancyTextDisplayText","copyButton","FancyTextDisplayIcon","duplicateImg","FancyTextDisplayCopyNotifier","FancyTextDisplayContainer","FancyTextDisplayContainerEllipsis","Checkbox","checked","onToggle","EntryViewLine","label","selector","_ref$selector","overrideQueryValue","_ref$overrideQueryVal","JSON","stringify","slice","dataLine","dataKey","dataValue","EntrySectionCollapsibleTitle","setExpanded","_ref2$query","button","EntrySectionContainer","_ref3$query","collapsibleContainer","EntryBodySection","encoding","contentType","MAXIMUM_BYTES_TO_FORMAT","jsonLikeFormats","xmlLikeFormats","protobufFormats","supportedFormats","concat","isPretty","setIsPretty","setShowLineNumbers","decodeBase64","setDecodeBase64","isBase64Encoding","supportsPrettying","indexOf","formatTextBody","chunk","bodyBuf","atob","jsonBeautify","parse","xmlBeautify","indentation","filter","collapseContent","lineSeparator","protobufDecoder","ProtobufDecoder","protobufDecoded","decode","toSimple","error","console","alignItems","alignContent","EntryTableSection","arrayToIterate","arrayToIterateSorted","sort","a","b","EntryPolicySectionCollapsibleTitle","matched","rulesTitleSuccess","rulesMatchedSuccess","rulesMatchedFailure","EntryPolicySectionContainer","EntryTablePolicySection","Name","Type","ResponseTime","Key","Method","Path","Service","Value","noRules","EntryContractSection","requestReason","responseReason","contractContent","SectionTypes","SectionsRepresentation","sections","SectionTable","push","SectionBody","mimeType","AutoRepresentation","representation","isRulesEnabled","rulesMatched","elapsedTime","TABS","setCurrentTab","request","response","responseTabIndex","rulesTabIndex","contractTabIndex","Entry","bodyHeader","EntryViewer","entryTitle","minHeight","marginBottom","entrySummary","formatSize","n","Math","round","EntryTitle","bodySize","opacity","EntrySummary","EntryDetailed","entryData","setEntryData","getEntry","_error$response","_error$response$data","toast","msg","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Promise","contractRequestReason","contractResponseReason","tappingStatusAtom","tappingStatusDetails","get","tappingStatus","uniqueNamespaces","Array","from","Set","pod","namespace","amountOfPods","amountOfTappedPods","isTapped","amountOfUntappedPods","pluralize","noun","amount","StatusBar","expandedBar","setExpandedBar","statusBar","podsCount","warningIcon","join","successIcon","failIcon","isObject","freeGlobal","global","freeSelf","self","Function","now","Date","reWhitespace","trimmedEndIndex","string","test","charAt","reTrimStart","baseTrim","replace","objectProto","prototype","hasOwnProperty","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","call","tag","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","isObjectLike","symbolTag","isSymbol","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","toNumber","other","valueOf","isBinary","FUNC_ERROR_TEXT","nativeMax","max","nativeMin","min","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","TypeError","invokeFunc","time","args","thisArg","apply","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","arguments","TLSWarning","showTLSWarning","setShowTLSWarning","addressesWithTLS","setAddressesWithTLS","userDismissedTLSWarning","setUserDismissedTLSWarning","getRecentTLSLinksFunc","getRecentTLSLinks","recentTLSLinks","Snackbar","MuiAlert","filledWarning","elevation","severity","size","address","useLayoutStyles","details","flex","background","headerBackgroundColor","viewer","TrafficViewer","setAnalyzeStatus","message","isOpen","closeWs","sendQuery","openSocket","trafficViewerApiProp","setTappingStatus","websocketConnectionAtom","setWsConnection","setCloseWsCallback","useSetRecoilState","queryToSend","setQueryToSend","trafficViewerApiAtom","trafficViewerApiState","queryBackgroundColor","setQueryBackgroundColor","setLeftOffBottom","setStartTime","handleQueryChange","validateQuery","valid","listEntry","resetEntries","onmessage","messageType","shift","analyzeStatus","onTLSDetected","Data","DstIP","Connected","setTrafficViewerApiState","tapStatus","tapStatusResponse","analyzeStatusResponse","closeCallback","toggleConnection","destAddress","add","getConnectionIndicator","TrafficViwerStyles","indicatorContainer","greenIndicatorContainer","indicator","greenIndicator","redIndicatorContainer","redIndicator","getConnectionTitle","TrafficPage","TrafficPageHeader","TrafficPageStreamStatus","playPauseIcon","visibility","pauseIcon","playIcon","connectionText","TrafficPageContainer","TrafficPageListContainer","MemoiedTrafficViwer","memo","TrafficViewerContainer","RecoilRoot","SpinnerShowDelayMs","LoadingOverlay","delay","isVisible","setIsVisible","isRelevant","loadingOverlayContainer","hidden","loadingOverlaySpinner","ALL_KEY","menuProps","anchorOrigin","transformOrigin","getContentAnchorEl","icon","selectMenu","defaultProps","MenuProps","IconComponent","DefaultIconDown","Select","onChangecb","transformDisplay","ellipsis","_ref$ellipsis","multiple","labelOnTop","_ref$labelOnTop","labelClassName","trimItemsWhenMultiple","_value","_onChange","transformItem","renderValue","MUISelect","assign","MenuItem"],"sources":["../node_modules/babel-plugin-transform-async-to-promises/helpers.mjs","../src/components/UI/SyntaxHighlighter/index.tsx","../src/recoil/query/atom.ts","../src/hooks/useKeyPress.ts","../src/configs/shortcutsKeyboard.ts","../src/recoil/wsConnection/atom.ts","../src/components/TrafficViewer/Filters.tsx","../src/components/UI/Queryable.tsx","../src/components/UI/StatusCode.tsx","../src/components/UI/Protocol.tsx","../src/components/UI/Summary.tsx","../src/recoil/focusedEntryId/atom.ts","../src/components/TrafficViewer/EntryListItem/EntryListItem.tsx","../src/recoil/entries/atom.ts","../src/recoil/wsConnection/index.ts","../src/recoil/TrafficViewerApi/atom.ts","../src/components/TrafficViewer/EntriesList.tsx","../src/components/UI/Tooltip.tsx","../src/components/UI/Tabs.tsx","../src/components/UI/CollapsibleContainer.tsx","../src/components/UI/FancyTextDisplay.tsx","../src/components/UI/Checkbox.tsx","../src/components/TrafficViewer/EntryDetailed/EntrySections.tsx","../src/components/TrafficViewer/EntryDetailed/EntryViewer.tsx","../src/components/TrafficViewer/EntryDetailed.tsx","../src/recoil/tappingStatus/atom.ts","../src/recoil/tappingStatus/details.ts","../src/components/UI/StatusBar.tsx","../node_modules/lodash/isObject.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/_root.js","../node_modules/lodash/now.js","../node_modules/lodash/_trimmedEndIndex.js","../node_modules/lodash/_baseTrim.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/toNumber.js","../node_modules/lodash/debounce.js","../src/components/TLSWarning/TLSWarning.tsx","../src/components/TrafficViewer/TrafficViewer.tsx","../src/components/UI/LoadingOverlay.tsx","../src/components/UI/Select.tsx"],"sourcesContent":["// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import React from 'react';\nimport Lowlight from 'react-lowlight'\nimport 'highlight.js/styles/atom-one-light.css'\nimport './index.scss';\n\nimport xml from 'highlight.js/lib/languages/xml'\nimport json from 'highlight.js/lib/languages/json'\nimport protobuf from 'highlight.js/lib/languages/protobuf'\nimport javascript from 'highlight.js/lib/languages/javascript'\nimport actionscript from 'highlight.js/lib/languages/actionscript'\nimport wasm from 'highlight.js/lib/languages/wasm'\nimport handlebars from 'highlight.js/lib/languages/handlebars'\nimport yaml from 'highlight.js/lib/languages/yaml'\nimport python from 'highlight.js/lib/languages/python'\n\nLowlight.registerLanguage('python', python);\nLowlight.registerLanguage('xml', xml);\nLowlight.registerLanguage('json', json);\nLowlight.registerLanguage('yaml', yaml);\nLowlight.registerLanguage('protobuf', protobuf);\nLowlight.registerLanguage('javascript', javascript);\nLowlight.registerLanguage('actionscript', actionscript);\nLowlight.registerLanguage('wasm', wasm);\nLowlight.registerLanguage('handlebars', handlebars);\n\ninterface Props {\n    code: string;\n    showLineNumbers?: boolean;\n    language?: string;\n}\n\nexport const SyntaxHighlighter: React.FC<Props> = ({\n        code,\n        showLineNumbers = false,\n        language = null\n    }) => {\n    const markers = showLineNumbers ? code.split(\"\\n\").map((item, i) => {\n        return {\n            line: i + 1,\n            className: 'hljs-marker-line'\n        }\n    }) : [];\n\n    return <div style={{fontSize: \".75rem\"}}><Lowlight language={language ? language : \"\"} value={code} markers={markers}/></div>;\n};\n\nexport default SyntaxHighlighter;\n","import { atom } from \"recoil\";\n\nconst queryAtom = atom({\n    key: \"queryAtom\",\n    default: \"\"\n});\n\nexport default queryAtom;\n","import { useCallback, useEffect, useLayoutEffect, useRef } from 'react';\n\nconst useKeyPress = (eventConfigs, callback, node = null) => {\n  // implement the callback ref pattern\n  const callbackRef = useRef(callback);\n  useLayoutEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  // handle what happens on key press\n  const handleKeyPress = useCallback(\n    (event) => {\n      \n      // check if one of the key is part of the ones we want\n      if (eventConfigs.some((eventConfig) => Object.keys(eventConfig).every(nameKey => eventConfig[nameKey] === event[nameKey]))) {\n        event.stopPropagation()\n        event.preventDefault();\n        callbackRef.current(event);\n      }\n    },\n    [eventConfigs]\n  );\n\n  useEffect(() => {\n    // target is either the provided node or the document\n    const targetNode = node || document;\n    // attach the event listener\n    targetNode &&\n      targetNode.addEventListener(\"keydown\", handleKeyPress);\n\n    // remove the event listener\n    return () =>\n      targetNode &&\n        targetNode.removeEventListener(\"keydown\", handleKeyPress);\n  }, [handleKeyPress, node]);\n};\n\nexport default useKeyPress;","const dictionary = {\n    ctrlEnter : [{metaKey : true, code:\"Enter\"}, {ctrlKey:true, code:\"Enter\"}], // support Ctrl/command\n    enter : [{code:\"Enter\"}]\n};\n\n\nexport default dictionary;","import { atom } from \"recoil\";\n\nconst wsConnectionAtom = atom({\n    key: \"wsConnectionAtom\",\n    default: 0\n});\n\nexport const closeWsConnectionCallbackAtom = atom({\n    key: \"closeWsConnectionCallbackAtom\",\n    default:  {}\n})\n\nexport default wsConnectionAtom;\n","import React, {useRef, useState} from \"react\";\nimport styles from '../style/Filters.module.sass';\nimport {Button, Grid, Modal, Box, Typography, Backdrop, Fade, Divider} from \"@material-ui/core\";\nimport CodeEditor from '@uiw/react-textarea-code-editor';\nimport MenuBookIcon from '@material-ui/icons/MenuBook';\nimport {SyntaxHighlighter} from \"../UI/SyntaxHighlighter/index\";\nimport filterUIExample1 from \"assets/filter-ui-example-1.png\"\nimport filterUIExample2 from \"assets/filter-ui-example-2.png\"\nimport variables from '../../variables.module.scss';\nimport {useRecoilState, useRecoilValue} from \"recoil\";\nimport queryAtom from \"../../recoil/query\";\nimport useKeyPress from \"../../hooks/useKeyPress\"\nimport shortcutsKeyboard from \"../../configs/shortcutsKeyboard\"\nimport { closeWsConnectionCallbackAtom } from \"../../recoil/wsConnection/atom\";\n\n\ninterface FiltersProps {\n    backgroundColor: string\n    openWebSocket: (query: string, resetEntries: boolean) => void;\n}\n\nexport const Filters: React.FC<FiltersProps> = ({backgroundColor, openWebSocket}) => {\n    return <div className={styles.container}>\n        <QueryForm\n            backgroundColor={backgroundColor}\n            openWebSocket={openWebSocket}\n        />\n    </div>;\n};\n\ninterface QueryFormProps {\n    backgroundColor: string\n    openWebSocket: (query: string, resetEntries: boolean) => void;\n}\n\nexport const modalStyle = {\n    position: 'absolute',\n    top: '10%',\n    left: '50%',\n    transform: 'translate(-50%, 0%)',\n    width: '80vw',\n    bgcolor: 'background.paper',\n    borderRadius: '5px',\n    boxShadow: 24,\n    outline: \"none\",\n    p: 4,\n    color: '#000',\n};\n\nexport const QueryForm: React.FC<QueryFormProps> = ({backgroundColor, openWebSocket}) => {\n\n    const formRef = useRef<HTMLFormElement>(null);\n    const [query, setQuery] = useRecoilState(queryAtom);\n    const closeWsConnectionObj = useRecoilValue(closeWsConnectionCallbackAtom)\n\n    const [openModal, setOpenModal] = useState(false);\n\n    const handleOpenModal = () => setOpenModal(true);\n    const handleCloseModal = () => setOpenModal(false);\n\n    const handleChange = async (e) => {\n        setQuery(e.target.value.trim());\n    }\n\n    const handleSubmit = (e) => {\n        //closeWsConnectionObj.closeCallback()\n        if (query) {\n            openWebSocket(`(${query}) and leftOff(-1)`, true);\n        } else {\n            openWebSocket(`leftOff(-1)`, true);\n        }\n        e.preventDefault();\n    }\n\n    useKeyPress(shortcutsKeyboard.ctrlEnter, handleSubmit, formRef.current);\n\n    return <React.Fragment>\n        <form\n            ref={formRef}\n            onSubmit={handleSubmit}\n            style={{\n                width: '100%',\n            }}\n        >\n            <Grid container spacing={2}>\n                <Grid\n                    item\n                    xs={8}\n                    style={{\n                        maxHeight: '25vh',\n                        overflowY: 'auto',\n                    }}\n                >\n                    <label>\n                        <CodeEditor\n                            value={query}\n                            language=\"py\"\n                            placeholder=\"Mizu Filter Syntax\"\n                            onChange={handleChange}\n                            padding={8}\n                            style={{\n                                fontSize: 14,\n                                backgroundColor: `${backgroundColor}`,\n                                fontFamily: 'ui-monospace,SFMono-Regular,SF Mono,Consolas,Liberation Mono,Menlo,monospace',\n                            }}\n                        />\n                    </label>\n                </Grid>\n                <Grid item xs={4}>\n                    <Button\n                        type=\"submit\"\n                        variant=\"contained\"\n                        style={{\n                            margin: \"2px 0px 0px 0px\",\n                            backgroundColor: variables.blueColor,\n                            fontWeight: 600,\n                            borderRadius: \"4px\",\n                            color: \"#fff\",\n                            textTransform: \"none\",\n                        }}\n                    >\n                        Apply\n                    </Button>\n                    <Button\n                        title=\"Open Filtering Guide (Cheatsheet)\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        style={{\n                            margin: \"2px 0px 0px 10px\",\n                            minWidth: \"26px\",\n                            backgroundColor: variables.blueColor,\n                            fontWeight: 600,\n                            borderRadius: \"4px\",\n                            color: \"#fff\",\n                            textTransform: \"none\",\n                        }}\n                        onClick={handleOpenModal}\n                    >\n                        <MenuBookIcon fontSize=\"inherit\"></MenuBookIcon>\n                    </Button>\n                </Grid>\n            </Grid>\n        </form>\n\n        <Modal\n            aria-labelledby=\"transition-modal-title\"\n            aria-describedby=\"transition-modal-description\"\n            open={openModal}\n            onClose={handleCloseModal}\n            closeAfterTransition\n            BackdropComponent={Backdrop}\n            BackdropProps={{\n                timeout: 500,\n            }}\n            style={{overflow: 'auto'}}\n        >\n            <Fade in={openModal}>\n                <Box sx={modalStyle}>\n                    <Typography id=\"modal-modal-title\" variant=\"h5\" component=\"h2\" style={{textAlign: 'center'}}>\n                        Filtering Guide (Cheatsheet)\n                    </Typography>\n                    <Typography component={'span'} id=\"modal-modal-description\">\n                        <p>Mizu has a rich filtering syntax that let's you query the results both flexibly and efficiently.</p>\n                        <p>Here are some examples that you can try;</p>\n                    </Typography>\n                    <Grid container>\n                        <Grid item xs style={{margin: \"10px\"}}>\n                            <Typography id=\"modal-modal-description\">\n                                This is a simple query that matches to HTTP packets with request path \"/catalogue\":\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`http and request.path == \"/catalogue\"`}\n                                language=\"python\"\n                            />\n                            <Typography id=\"modal-modal-description\">\n                                The same query can be negated for HTTP path and written like this:\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`http and request.path != \"/catalogue\"`}\n                                language=\"python\"\n                            />\n                            <Typography id=\"modal-modal-description\">\n                                The syntax supports regular expressions. Here is a query that matches the HTTP requests that send JSON to a server:\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`http and request.headers[\"Accept\"] == r\"application/json.*\"`}\n                                language=\"python\"\n                            />\n                            <Typography id=\"modal-modal-description\">\n                                Here is another query that matches HTTP responses with status code 4xx:\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`http and response.status == r\"4.*\"`}\n                                language=\"python\"\n                            />\n                            <Typography id=\"modal-modal-description\">\n                                The same exact query can be as integer comparison:\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`http and response.status >= 400`}\n                                language=\"python\"\n                            />\n                            <Typography id=\"modal-modal-description\">\n                                The results can be queried based on their timestamps:\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`timestamp < datetime(\"10/28/2021, 9:13:02.905 PM\")`}\n                                language=\"python\"\n                            />\n                        </Grid>\n                        <Divider className={styles.divider1} orientation=\"vertical\" flexItem />\n                        <Grid item xs style={{margin: \"10px\"}}>\n                            <Typography id=\"modal-modal-description\">\n                                Since Mizu supports various protocols like gRPC, AMQP, Kafka and Redis. It's possible to write complex queries that match multiple protocols like this:\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`(http and request.method == \"PUT\") or (amqp and request.queue.startsWith(\"test\"))\\n or (kafka and response.payload.errorCode == 2) or (redis and request.key == \"example\")\\n or (grpc and request.headers[\":path\"] == r\".*foo.*\")`}\n                                language=\"python\"\n                            />\n                            <Typography id=\"modal-modal-description\">\n                                By clicking the plus icon that appears beside the queryable UI elements on hovering in both left-pane and right-pane, you can automatically select a field and update the query:\n                            </Typography>\n                            <img\n                                src={filterUIExample1}\n                                width={600}\n                                alt=\"Clicking to UI elements (left-pane)\"\n                                title=\"Clicking to UI elements (left-pane)\"\n                            />\n                            <Typography id=\"modal-modal-description\">\n                                Such that; clicking this icon in left-pane, would append the query below:\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`and dst.name == \"carts.sock-shop\"`}\n                                language=\"python\"\n                            />\n                            <Typography id=\"modal-modal-description\">\n                                Another queriable UI element example, this time from the right-pane:\n                            </Typography>\n                            <img\n                                src={filterUIExample2}\n                                width={300}\n                                alt=\"Clicking to UI elements (right-pane)\"\n                                title=\"Clicking to UI elements (right-pane)\"\n                            />\n                            <Typography id=\"modal-modal-description\">\n                                A query that compares one selector to another is also a valid query:\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`http and (request.query[\"x\"] == response.headers[\"y\"]\\n or response.content.text.contains(request.query[\"x\"]))`}\n                                language=\"python\"\n                            />\n                        </Grid>\n                        <Divider className={styles.divider2} orientation=\"vertical\" flexItem />\n                        <Grid item xs style={{margin: \"10px\"}}>\n                            <Typography id=\"modal-modal-description\">\n                                There are a few helper methods included the in the filter language* to help building queries more easily.\n                            </Typography>\n                            <br></br>\n                            <Typography id=\"modal-modal-description\">\n                                true if the given selector's value starts with (similarly <code style={{fontSize: \"14px\"}}>endsWith</code>, <code style={{fontSize: \"14px\"}}>contains</code>) the string:\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`request.path.startsWith(\"something\")`}\n                                language=\"python\"\n                            />\n                            <Typography id=\"modal-modal-description\">\n                                a field that contains a JSON encoded string can be filtered based a JSONPath:\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`response.content.text.json().some.path == \"somevalue\"`}\n                                language=\"python\"\n                            />\n                            <Typography id=\"modal-modal-description\">\n                                fields that contain sensitive information can be redacted:\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`and redact(\"request.path\", \"src.name\")`}\n                                language=\"python\"\n                            />\n                            <Typography id=\"modal-modal-description\">\n                                returns the UNIX timestamp which is the equivalent of the time that's provided by the string. Invalid input evaluates to false:\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`timestamp >= datetime(\"10/19/2021, 6:29:02.593 PM\")`}\n                                language=\"python\"\n                            />\n                            <Typography id=\"modal-modal-description\">\n                                limits the number of records that are streamed back as a result of a query. Always evaluates to true:\n                            </Typography>\n                            <SyntaxHighlighter\n                                showLineNumbers={false}\n                                code={`and limit(100)`}\n                                language=\"python\"\n                            />\n                        </Grid>\n                    </Grid>\n                    <br></br>\n                    <Typography id=\"modal-modal-description\" style={{fontSize: 12, fontStyle: 'italic'}}>\n                        *The filtering functionality is provided through <b>Basenine</b> database server. Please refer to <a href=\"https://github.com/up9inc/basenine/wiki/BFL-Syntax-Reference\"><b>BFL Syntax Reference</b></a> for more information.\n                    </Typography>\n                </Box>\n            </Fade>\n        </Modal>\n    </React.Fragment>\n}\n","import React, { useEffect, useState } from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport QueryableStyle from './style/Queryable.module.sass';\nimport {useRecoilState} from \"recoil\";\nimport queryAtom from \"../../recoil/query\";\n\ninterface Props {\n    query: string,\n    style?: object,\n    iconStyle?: object,\n    className?: string,\n    useTooltip?: boolean,\n    displayIconOnMouseOver?: boolean,\n    flipped?: boolean,\n}\n\nconst Queryable: React.FC<Props> = ({query, style, iconStyle, className, useTooltip= true, displayIconOnMouseOver = false, flipped = false, children}) => {\n    const [showAddedNotification, setAdded] = useState(false);\n    const [showTooltip, setShowTooltip] = useState(false);\n    const [queryState, setQuery] = useRecoilState(queryAtom);\n\n    const onCopy = () => {\n        setAdded(true)\n    };\n\n    useEffect(() => {\n        let timer;\n        if (showAddedNotification) {\n            setQuery(queryState ? `${queryState} and ${query}` : query);\n            timer = setTimeout(() => {\n                setAdded(false);\n            }, 1000);\n        }\n        return () => clearTimeout(timer);\n\n    // eslint-disable-next-line\n    }, [showAddedNotification, query, setQuery]);\n\n    const addButton = query ? <CopyToClipboard text={query} onCopy={onCopy}>\n                    <span\n                        className={QueryableStyle.QueryableIcon}\n                        title={`Add \"${query}\" to the filter`}\n                        style={iconStyle}>\n                        <AddCircleIcon fontSize=\"small\" color=\"inherit\"/>\n                        {showAddedNotification && <span className={QueryableStyle.QueryableAddNotifier}>Added</span>}\n                    </span>\n\t\t\t\t</CopyToClipboard> : null;\n\n    return (\n        <div className={`${QueryableStyle.QueryableContainer} ${QueryableStyle.displayIconOnMouseOver} ${className ? className : ''} ${displayIconOnMouseOver ? QueryableStyle.displayIconOnMouseOver : ''}`} \n            style={style} onMouseOver={ e => setShowTooltip(true)} onMouseLeave={ e => setShowTooltip(false)}>\n                {flipped && addButton}\n                {children}\n                {!flipped && addButton}\n                {useTooltip && showTooltip && <span className={QueryableStyle.QueryableTooltip}>{query}</span>}\n        </div>\n    );\n};\n\nexport default Queryable;\n","import React from \"react\";\nimport styles from './style/StatusCode.module.sass';\nimport Queryable from \"./Queryable\";\n\nexport enum StatusCodeClassification {\n    SUCCESS = \"success\",\n    FAILURE = \"failure\",\n    NEUTRAL = \"neutral\"\n}\n\ninterface EntryProps {\n    statusCode: number\n}\n\nconst StatusCode: React.FC<EntryProps> = ({statusCode}) => {\n\n    const classification = getClassification(statusCode)\n\n    return <Queryable\n        query={`response.status == ${statusCode}`}\n        displayIconOnMouseOver={true}\n        flipped={true}\n        iconStyle={{marginTop: \"40px\", paddingLeft: \"10px\"}}\n    >\n        <span\n            title=\"Status Code\"\n            className={`${styles[classification]} ${styles.base}`}\n        >\n            {statusCode}\n        </span>\n    </Queryable>\n};\n\nexport function getClassification(statusCode: number): string {\n    let classification = StatusCodeClassification.NEUTRAL;\n\n    // 1 - 16 HTTP/2 (gRPC) status codes\n    // 2xx - 5xx HTTP/1.x status codes\n    if ((statusCode >= 200 && statusCode <= 399) || statusCode === 0) {\n        classification = StatusCodeClassification.SUCCESS;\n    } else if (statusCode >= 400 || (statusCode >= 1 && statusCode <= 16)) {\n        classification = StatusCodeClassification.FAILURE;\n    }\n\n    return classification\n}\n\nexport default StatusCode;\n","import React from \"react\";\nimport styles from './style/Protocol.module.sass';\nimport Queryable from \"./Queryable\";\n\nexport interface ProtocolInterface {\n    name: string\n    longName: string\n    abbr: string\n    macro: string\n    backgroundColor: string\n    foregroundColor: string\n    fontSize: number\n    referenceLink: string\n    ports: string[]\n    inbound_ports: string\n}\n\ninterface ProtocolProps {\n    protocol: ProtocolInterface\n    horizontal: boolean\n}\n\nconst Protocol: React.FC<ProtocolProps> = ({protocol, horizontal}) => {\n    if (horizontal) {\n        return <Queryable\n            query={protocol.macro}\n            displayIconOnMouseOver={true}\n        >\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href={protocol.referenceLink}>\n                <span\n                    className={`${styles.base} ${styles.horizontal}`}\n                    style={{\n                        backgroundColor: protocol.backgroundColor,\n                        color: protocol.foregroundColor,\n                        fontSize: 13,\n                    }}\n                    title={protocol.abbr}\n                >\n                    {protocol.longName}\n                </span>\n            </a>\n        </Queryable>\n    } else {\n        return <Queryable\n            query={protocol.macro}\n            displayIconOnMouseOver={true}\n            flipped={false}\n            iconStyle={{marginTop: \"52px\", marginRight: \"10px\", zIndex: 1000}}\n        >\n            <span\n                className={`${styles.base} ${styles.vertical}`}\n                style={{\n                    backgroundColor: protocol.backgroundColor,\n                    color: protocol.foregroundColor,\n                    fontSize: protocol.fontSize,\n                    marginRight: \"-20px\",\n                }}\n                title={protocol.longName}\n            >\n                {protocol.abbr}\n            </span>\n        </Queryable>\n    }\n};\n\nexport default Protocol;\n","import miscStyles from \"./style/misc.module.sass\";\nimport React from \"react\";\nimport styles from './style/Summary.module.sass';\nimport Queryable from \"./Queryable\";\n\ninterface SummaryProps {\n    method: string\n    summary: string\n}\n\nexport const Summary: React.FC<SummaryProps> = ({method, summary}) => {\n\n    return <div className={styles.container}>\n        {method && <Queryable\n            query={`method == \"${method}\"`}\n            className={`${miscStyles.protocol} ${miscStyles.method}`}\n            displayIconOnMouseOver={true}\n            style={{whiteSpace: \"nowrap\"}}\n            flipped={true}\n            iconStyle={{zIndex:\"5\",position:\"relative\",right:\"22px\"}}\n        >\n            <span>\n                {method}\n            </span>\n        </Queryable>}\n        {summary && <Queryable\n            query={`summary == \"${summary}\"`}\n            displayIconOnMouseOver={true}\n            flipped={true}\n            iconStyle={{zIndex:\"5\",position:\"relative\",right:\"14px\"}}\n        >\n            <div\n                className={`${styles.summary}`}\n            >\n                {summary}\n            </div>\n        </Queryable>}\n    </div>\n};\n","import { atom } from \"recoil\";\n\nconst focusedEntryIdAtom = atom({\n    key: \"focusedEntryIdAtom\",\n    default: null\n});\n\nexport default focusedEntryIdAtom;\n","import React from \"react\";\nimport Moment from 'moment';\nimport SwapHorizIcon from '@material-ui/icons/SwapHoriz';\nimport styles from './EntryListItem.module.sass';\nimport StatusCode, {getClassification, StatusCodeClassification} from \"../../UI/StatusCode\";\nimport Protocol, {ProtocolInterface} from \"../../UI/Protocol\"\nimport {Summary} from \"../../UI/Summary\";\nimport Queryable from \"../../UI/Queryable\";\nimport ingoingIconSuccess from \"assets/ingoing-traffic-success.svg\"\nimport ingoingIconFailure from \"assets/ingoing-traffic-failure.svg\"\nimport ingoingIconNeutral from \"assets/ingoing-traffic-neutral.svg\"\nimport outgoingIconSuccess from \"assets/outgoing-traffic-success.svg\"\nimport outgoingIconFailure from \"assets/outgoing-traffic-failure.svg\"\nimport outgoingIconNeutral from \"assets/outgoing-traffic-neutral.svg\"\nimport {useRecoilState} from \"recoil\";\nimport focusedEntryIdAtom from \"../../../recoil/focusedEntryId\";\nimport queryAtom from \"../../../recoil/query\";\n\ninterface TCPInterface {\n    ip: string\n    port: string\n    name: string\n}\n\ninterface Entry {\n    proto: ProtocolInterface,\n    method?: string,\n    summary: string,\n    id: number,\n    status?: number;\n    timestamp: Date;\n    src: TCPInterface,\n    dst: TCPInterface,\n    isOutgoing?: boolean;\n    latency: number;\n    rules: Rules;\n    contractStatus: number,\n}\n\ninterface Rules {\n    status: boolean;\n    latency: number;\n    numberOfRules: number;\n}\n\ninterface EntryProps {\n    entry: Entry;\n    style: object;\n    headingMode: boolean;\n}\n\nexport const EntryItem: React.FC<EntryProps> = ({entry, style, headingMode}) => {\n\n    const [focusedEntryId, setFocusedEntryId] = useRecoilState(focusedEntryIdAtom);\n    const [queryState, setQuery] = useRecoilState(queryAtom);\n    const isSelected = focusedEntryId === entry.id.toString();\n\n    const classification = getClassification(entry.status)\n    const numberOfRules = entry.rules.numberOfRules\n    let ingoingIcon;\n    let outgoingIcon;\n    switch(classification) {\n        case StatusCodeClassification.SUCCESS: {\n            ingoingIcon = ingoingIconSuccess;\n            outgoingIcon = outgoingIconSuccess;\n            break;\n        }\n        case StatusCodeClassification.FAILURE: {\n            ingoingIcon = ingoingIconFailure;\n            outgoingIcon = outgoingIconFailure;\n            break;\n        }\n        case StatusCodeClassification.NEUTRAL: {\n            ingoingIcon = ingoingIconNeutral;\n            outgoingIcon = outgoingIconNeutral;\n            break;\n        }\n    }\n    let additionalRulesProperties = \"\";\n    let ruleSuccess = true;\n    let rule = 'latency' in entry.rules\n    if (rule) {\n        if (entry.rules.latency !== -1) {\n            if (entry.rules.latency >= entry.latency || !('latency' in entry)) {\n                additionalRulesProperties = styles.ruleSuccessRow\n                ruleSuccess = true\n            } else {\n                additionalRulesProperties = styles.ruleFailureRow\n                ruleSuccess = false\n            }\n            if (isSelected) {\n                additionalRulesProperties += ` ${entry.rules.latency >= entry.latency ? styles.ruleSuccessRowSelected : styles.ruleFailureRowSelected}`\n            }\n        } else {\n            if (entry.rules.status) {\n                additionalRulesProperties = styles.ruleSuccessRow\n                ruleSuccess = true\n            } else {\n                additionalRulesProperties = styles.ruleFailureRow\n                ruleSuccess = false\n            }\n            if (isSelected) {\n                additionalRulesProperties += ` ${entry.rules.status ? styles.ruleSuccessRowSelected : styles.ruleFailureRowSelected}`\n            }\n        }\n    }\n\n    let contractEnabled = true;\n    let contractText = \"\";\n    switch (entry.contractStatus) {\n        case 0:\n            contractEnabled = false;\n            break;\n        case 1:\n            additionalRulesProperties = styles.ruleSuccessRow\n            ruleSuccess = true\n            contractText = \"No Breaches\"\n            break;\n        case 2:\n            additionalRulesProperties = styles.ruleFailureRow\n            ruleSuccess = false\n            contractText = \"Breach\"\n            break;\n        default:\n            break;\n    }\n\n\n    const isStatusCodeEnabled = ((entry.proto.name === \"http\" && \"status\" in entry) || entry.status !== 0);\n    let endpointServiceContainer = \"10px\";\n    if (!isStatusCodeEnabled) endpointServiceContainer = \"20px\";\n\n    return <React.Fragment>\n        <div\n            id={`entry-${entry.id.toString()}`}\n            className={`${styles.row}\n            ${isSelected && !rule && !contractEnabled ? styles.rowSelected : additionalRulesProperties}`}\n            onClick={() => {\n                if (!setFocusedEntryId) return;\n                setFocusedEntryId(entry.id.toString());\n            }}\n            style={{\n                border: isSelected && !headingMode ? `1px ${entry.proto.backgroundColor} solid` : \"1px transparent solid\",\n                position: !headingMode ? \"absolute\" : \"unset\",\n                top: style['top'],\n                marginTop: !headingMode ? style['marginTop'] : \"10px\",\n                width: !headingMode ? \"calc(100% - 25px)\" : \"calc(100% - 18px)\",\n            }}\n        >\n            {!headingMode ? <Protocol\n                protocol={entry.proto}\n                horizontal={false}\n            /> : null}\n            {isStatusCodeEnabled && <div>\n                <StatusCode statusCode={entry.status}/>\n            </div>}\n            <div className={styles.endpointServiceContainer} style={{paddingLeft: endpointServiceContainer}}>\n                <Summary method={entry.method} summary={entry.summary}/>\n                <div className={styles.resolvedName}>\n                    <Queryable\n                        query={`src.name == \"${entry.src.name}\"`}\n                        displayIconOnMouseOver={true}\n                        flipped={true}\n                        style={{marginTop: \"-4px\", overflow: \"visible\"}}\n                        iconStyle={!headingMode ? {marginTop: \"4px\", right: \"16px\", position: \"relative\"} :\n                        entry.proto.name === \"http\" ? {marginTop: \"4px\", left: \"calc(50vw + 41px)\", position: \"absolute\"} :\n                        {marginTop: \"4px\", left: \"calc(50vw - 9px)\", position: \"absolute\"}}\n                    >\n                        <span\n                            title=\"Source Name\"\n                        >\n                            {entry.src.name ? entry.src.name : \"[Unresolved]\"}\n                        </span>\n                    </Queryable>\n                    <SwapHorizIcon style={{color: entry.proto.backgroundColor, marginTop: \"-2px\",marginLeft:\"5px\",marginRight:\"5px\"}}></SwapHorizIcon>\n                    <Queryable\n                        query={`dst.name == \"${entry.dst.name}\"`}\n                        displayIconOnMouseOver={true}\n                        flipped={true}\n                        style={{marginTop: \"-4px\"}}\n                        iconStyle={{marginTop: \"4px\", marginLeft: \"-2px\",right: \"11px\", position: \"relative\"}}\n                    >\n                        <span\n                            title=\"Destination Name\">\n                            {entry.dst.name ? entry.dst.name : \"[Unresolved]\"}\n                        </span>\n                    </Queryable>\n                </div>\n            </div>\n            {\n                rule ?\n                    <div className={`${styles.ruleNumberText} ${ruleSuccess ? styles.ruleNumberTextSuccess : styles.ruleNumberTextFailure} ${rule && contractEnabled ? styles.separatorRight : \"\"}`}>\n                        {`Rules (${numberOfRules})`}\n                    </div>\n                : \"\"\n            }\n            {\n                contractEnabled ?\n                    <div className={`${styles.ruleNumberText} ${ruleSuccess ? styles.ruleNumberTextSuccess : styles.ruleNumberTextFailure} ${rule && contractEnabled ? styles.separatorLeft : \"\"}`}>\n                        {contractText}\n                    </div>\n                : \"\"\n            }\n            <div className={styles.separatorRight}>\n                <Queryable\n                        query={`src.ip == \"${entry.src.ip}\"`}\n                        displayIconOnMouseOver={true}\n                        flipped={true}\n                        iconStyle={{marginRight: \"16px\"}}\n                >\n                    <span\n                        className={`${styles.tcpInfo} ${styles.ip}`}\n                        title=\"Source IP\"\n                    >\n                        {entry.src.ip}\n                    </span>\n                </Queryable>\n\t\t\t\t<span className={`${styles.tcpInfo}`} style={{marginTop: \"18px\"}}>{entry.src.port ? \":\" : \"\"}</span>\n                <Queryable\n                        query={`src.port == \"${entry.src.port}\"`}\n                        displayIconOnMouseOver={true}\n                        flipped={true}\n                        iconStyle={{marginTop: \"28px\"}}\n                >\n                    <span\n                        className={`${styles.tcpInfo} ${styles.port}`}\n                        title=\"Source Port\"\n                    >\n                        {entry.src.port}\n                    </span>\n                </Queryable>\n                {entry.isOutgoing ?\n                    <Queryable\n                            query={`outgoing == true`}\n                            displayIconOnMouseOver={true}\n                            flipped={true}\n                            iconStyle={{marginTop: \"28px\"}}\n                    >\n                        <img\n                            src={outgoingIcon}\n                            alt=\"Ingoing traffic\"\n                            title=\"Ingoing\"\n                        />\n                    </Queryable>\n                    :\n                    <Queryable\n                            query={`outgoing == true`}\n                            displayIconOnMouseOver={true}\n                            flipped={true}\n                            iconStyle={{marginTop: \"28px\"}}\n                    >\n                        <img\n                            src={ingoingIcon}\n                            alt=\"Outgoing traffic\"\n                            title=\"Outgoing\"\n                            onClick={() => {\n                                const query = `outgoing == false`;\n                                setQuery(queryState ? `${queryState} and ${query}` : query);\n                            }}\n                        />\n                    </Queryable>\n                }\n                <Queryable\n                        query={`dst.ip == \"${entry.dst.ip}\"`}\n                        displayIconOnMouseOver={true}\n                        flipped={false}\n                        iconStyle={{marginTop: \"28px\"}}\n                >\n                    <span\n                        className={`${styles.tcpInfo} ${styles.ip}`}\n                        title=\"Destination IP\"\n                    >\n                        {entry.dst.ip}\n                    </span>\n                </Queryable>\n                <span className={`${styles.tcpInfo}`} style={{marginTop: \"18px\"}}>:</span>\n                <Queryable\n                        query={`dst.port == \"${entry.dst.port}\"`}\n                        displayIconOnMouseOver={true}\n                        flipped={false}\n                >\n                    <span\n                        className={`${styles.tcpInfo} ${styles.port}`}\n                        title=\"Destination Port\"\n                    >\n                        {entry.dst.port}\n                    </span>\n                </Queryable>\n            </div>\n            <div className={styles.timestamp}>\n                <Queryable\n                        query={`timestamp >= datetime(\"${Moment(+entry.timestamp)?.utc().format('MM/DD/YYYY, h:mm:ss.SSS A')}\")`}\n                        displayIconOnMouseOver={true}\n                        flipped={false}\n                >\n                    <span\n                        title=\"Timestamp (UTC)\"\n                    >\n                        {Moment(+entry.timestamp)?.utc().format('MM/DD/YYYY, h:mm:ss.SSS A')}\n                    </span>\n                </Queryable>\n            </div>\n        </div>\n    </React.Fragment>\n\n}\n","import { atom } from \"recoil\";\n\nconst entriesAtom = atom({\n    key: \"entriesAtom\",\n    default: []\n});\n\nexport default entriesAtom;\n","import atom from \"./atom\";\n\nenum WsConnectionStatus {\n    Closed,\n    Connected,\n}\n\nexport {WsConnectionStatus};\n\nexport default atom\n","import { atom } from \"recoil\";\n\nconst TrafficViewerApiAtom = atom({\n    key: \"trafficViewerApi\",\n    default: {}\n});\n\nexport default TrafficViewerApiAtom;\n","import React, {useCallback, useEffect, useMemo, useState} from \"react\";\nimport styles from '../style/EntriesList.module.sass';\nimport ScrollableFeedVirtualized from \"react-scrollable-feed-virtualized\";\nimport Moment from 'moment';\nimport {EntryItem} from \"./EntryListItem/EntryListItem\";\nimport down from \"assets/downImg.svg\";\nimport spinner from '../assets/spinner.svg';\n\nimport {RecoilState, useRecoilState, useRecoilValue} from \"recoil\";\nimport entriesAtom from \"../../recoil/entries\";\nimport wsConnectionAtom, {WsConnectionStatus} from \"../../recoil/wsConnection\";\nimport queryAtom from \"../../recoil/query\";\nimport { closeWsConnectionCallbackAtom } from \"../../recoil/wsConnection/atom\";\nimport TrafficViewerApiAtom from \"../../recoil/TrafficViewerApi\";\nimport ITrafficViewerApi from \"./ITrafficViewerApi\";\n\ninterface EntriesListProps {\n    listEntryREF: any;\n    onSnapBrokenEvent: () => void;\n    isSnappedToBottom: boolean;\n    setIsSnappedToBottom: any;\n    queriedCurrent: number;\n    setQueriedCurrent: any;\n    queriedTotal: number;\n    setQueriedTotal: any;\n    startTime: number;\n    noMoreDataTop: boolean;\n    setNoMoreDataTop: (flag: boolean) => void;\n    leftOffTop: number;\n    setLeftOffTop: (leftOffTop: number) => void;\n    openWebSocket: (query: string, resetEntries: boolean) => void;\n    leftOffBottom: number;\n    truncatedTimestamp: number;\n    setTruncatedTimestamp: any;\n    scrollableRef: any;\n}\n\nexport const EntriesList: React.FC<EntriesListProps> = ({listEntryREF, onSnapBrokenEvent, isSnappedToBottom, setIsSnappedToBottom, queriedCurrent, setQueriedCurrent, queriedTotal, setQueriedTotal, startTime, noMoreDataTop, setNoMoreDataTop, leftOffTop, setLeftOffTop, openWebSocket, leftOffBottom, truncatedTimestamp, setTruncatedTimestamp, scrollableRef}) => {\n\n    const [entries, setEntries] = useRecoilState(entriesAtom);\n    const wsConnection = useRecoilValue(wsConnectionAtom);\n    const query = useRecoilValue(queryAtom);\n    const isWsConnectionClosed = wsConnection === WsConnectionStatus.Closed;\n    const trafficViewerApi = useRecoilValue(TrafficViewerApiAtom as RecoilState<ITrafficViewerApi>)\n\n    const [loadMoreTop, setLoadMoreTop] = useState(false);\n    const [isLoadingTop, setIsLoadingTop] = useState(false);\n    //const {closeCallback} = useRecoilValue(closeWsConnectionCallbackAtom)\n\n    useEffect(() => {\n        const list = document.getElementById('list').firstElementChild;\n        list.addEventListener('scroll', (e) => {\n            const el: any = e.target;\n            if(el.scrollTop === 0) {\n                setLoadMoreTop(true);\n            } else {\n                setNoMoreDataTop(false);\n                setLoadMoreTop(false);\n            }\n        });\n    }, [setLoadMoreTop, setNoMoreDataTop]);\n\n    const memoizedEntries = useMemo(() => {\n        return entries;\n    },[entries]);\n\n    const getOldEntries = useCallback(async () => {\n        setLoadMoreTop(false);\n        if (leftOffTop === null || leftOffTop <= 0) {\n            return;\n        }\n        setIsLoadingTop(true);\n        debugger;\n        const data = await trafficViewerApi.fetchEntries(leftOffTop, -1, query, 100, 3000);\n        if (!data || data.data === null || data.meta === null) {\n            setNoMoreDataTop(true);\n            setIsLoadingTop(false);\n            return;\n        }\n        setLeftOffTop(data.meta.leftOff);\n\n        let scrollTo: boolean;\n        if (data.meta.leftOff === 0) {\n            setNoMoreDataTop(true);\n            scrollTo = false;\n        } else {\n            scrollTo = true;\n        }\n        setIsLoadingTop(false);\n\n        const newEntries = [...data.data.reverse(), ...entries];\n        setEntries(newEntries);\n\n        setQueriedCurrent(queriedCurrent + data.meta.current);\n        setQueriedTotal(data.meta.total);\n        setTruncatedTimestamp(data.meta.truncatedTimestamp);\n\n        if (scrollTo) {\n            scrollableRef.current.scrollToIndex(data.data.length - 1);\n        }\n    },[setLoadMoreTop, setIsLoadingTop, entries, setEntries, query, setNoMoreDataTop, leftOffTop, setLeftOffTop, queriedCurrent, setQueriedCurrent, setQueriedTotal, setTruncatedTimestamp, scrollableRef]);\n\n    useEffect(() => {\n        if(!isWsConnectionClosed || !loadMoreTop || noMoreDataTop) return;\n        getOldEntries();\n    }, [loadMoreTop, noMoreDataTop, getOldEntries, isWsConnectionClosed]);\n\n    const scrollbarVisible = scrollableRef.current?.childWrapperRef.current.clientHeight > scrollableRef.current?.wrapperRef.current.clientHeight;\n\n    return <React.Fragment>\n            <div className={styles.list}>\n                <div id=\"list\" ref={listEntryREF} className={styles.list}>\n                    {isLoadingTop && <div className={styles.spinnerContainer}>\n                        <img alt=\"spinner\" src={spinner} style={{height: 25}}/>\n                    </div>}\n                    {noMoreDataTop && <div id=\"noMoreDataTop\" className={styles.noMoreDataAvailable}>No more data available</div>}\n                    <ScrollableFeedVirtualized ref={scrollableRef} itemHeight={48} marginTop={10} onSnapBroken={onSnapBrokenEvent}>\n                        {false /* It's because the first child is ignored by ScrollableFeedVirtualized */}\n                        {memoizedEntries.map(entry => <EntryItem\n                            key={`entry-${entry.id}`}\n                            entry={entry}\n                            style={{}}\n                            headingMode={false}\n                        />)}\n                    </ScrollableFeedVirtualized>\n                    <button type=\"button\"\n                        title=\"Fetch old records\"\n                        className={`${styles.btnOld} ${!scrollbarVisible && leftOffTop > 0 ? styles.showButton : styles.hideButton}`}\n                        onClick={(_) => {\n                            //closeCallback()\n                            getOldEntries();\n                        }}>\n                        <img alt=\"down\" src={down} />\n                    </button>\n                    <button type=\"button\"\n                        title=\"Snap to bottom\"\n                        className={`${styles.btnLive} ${isSnappedToBottom && !isWsConnectionClosed ? styles.hideButton : styles.showButton}`}\n                        onClick={(_) => {\n                            if (isWsConnectionClosed) {\n                                if (query) {\n                                    openWebSocket(`(${query}) and leftOff(${leftOffBottom})`, false);\n                                } else {\n                                    openWebSocket(`leftOff(${leftOffBottom})`, false);\n                                }\n                            }\n                            scrollableRef.current.jumpToBottom();\n                            setIsSnappedToBottom(true);\n                        }}>\n                        <img alt=\"down\" src={down} />\n                    </button>\n                </div>\n\n                <div className={styles.footer}>\n                    <div>Displaying <b id=\"entries-length\">{entries?.length}</b> results out of <b id=\"total-entries\">{queriedTotal}</b> total</div>\n                    {startTime !== 0 && <div>Started listening at <span style={{marginRight: 5, fontWeight: 600, fontSize: 13}}>{Moment(truncatedTimestamp ? truncatedTimestamp : startTime).utc().format('MM/DD/YYYY, h:mm:ss.SSS A')}</span></div>}\n                </div>\n            </div>\n    </React.Fragment>;\n};\n","import {Tooltip as MUITooltip, Fade, TooltipProps as MUITooltipProps, makeStyles} from \"@material-ui/core\";\nimport React from \"react\";\n\nexport interface TooltipProps extends MUITooltipProps {\n    variant?: 'default' | 'wide' | 'fit';\n    isSimple?: boolean;\n    classes?: any;\n}\n\nexport type TooltipPlacement = 'bottom-end' | 'bottom-start' | 'bottom' | 'left-end' | 'left-start' | 'left' | 'right-end' | 'right-start' | 'right' | 'top-end' | 'top-start' | 'top';\n\nconst styles = {\n    default: {\n        maxWidth: 300\n    },\n    wide: {\n        maxWidth: 700\n    },\n    fit: {\n        maxWidth: '100%'\n    }\n};\n\nconst useStyles = makeStyles((theme) => styles);\n\nconst Tooltip: React.FC<TooltipProps> = (props) => {\n\n    const {isSimple, ..._props} = props;\n\n    const classes = useStyles(props.variant);\n\n    const variant = props.variant || 'default';\n\n    const backgroundClass = isSimple ? \"\" : \"noBackground\"\n\n    return (\n        <MUITooltip\n            classes={{tooltip: `${backgroundClass} ` + classes[variant]}}\n            interactive={true}\n            enterDelay={200}\n            TransitionComponent={Fade}\n            {..._props}\n        >\n            {props.children || <div/>}\n        </MUITooltip>\n    );\n};\n\nexport default Tooltip;","import Tooltip from \"./Tooltip\";\nimport React from \"react\";\nimport { makeStyles, Theme,createStyles } from '@material-ui/core/styles';\nimport variables from '../../variables.module.scss';\n\ninterface Tab {\n    tab: string,\n    disabled?: boolean,\n    disabledMessage?: string,\n    highlight?: boolean,\n    badge?: any,\n}\n\ninterface Props {\n    classes?: any,\n    tabs: Tab[],\n    currentTab: string,\n    color: string,\n    onChange: (string) => void,\n    leftAligned?: boolean,\n    dark?: boolean,\n}\n\nconst useTabsStyles = makeStyles((theme : Theme) => createStyles({\n    root: {\n        height: 40,\n        paddingTop: 15\n    },\n\n    tab: {\n        display: 'inline-block',\n        textTransform: 'uppercase',\n        color: variables.blueColor,\n        cursor: 'pointer',\n    },\n\n    tabsAlignLeft: {\n        textAlign: 'left'\n    },\n\n    active: {\n        fontWeight: 400,\n        color: variables.fontColor,\n        cursor: 'unset',\n        borderBottom: \"2px solid \" + variables.fontColor,\n        paddingBottom: 6,\n\n        \"&.dark\": {\n            color: theme.palette.common.black,\n            borderBottom: \"2px solid \" + theme.palette.common.black,\n        }\n    },\n\n    disabled: {\n        color: theme.palette.primary.dark,\n        cursor: 'unset'\n    },\n\n    highlight: {\n        color: theme.palette.primary.light,\n    },\n\n    separator: {\n        borderRight: \"1px solid \" + theme.palette.primary.dark,\n        height: 20,\n        verticalAlign: 'middle',\n        margin: '0 20px',\n        cursor: 'unset',\n    }\n}));\n\n\nconst Tabs: React.FC<Props> = ({classes={}, tabs, currentTab, color, onChange, leftAligned, dark}) => {\n    const _classes = {...useTabsStyles(), ...classes};\n    return <div className={`${_classes.root} ${leftAligned ? _classes.tabsAlignLeft : ''}`}>\n        {tabs.map(({tab, disabled, disabledMessage, highlight, badge}, index) => {\n            const active = currentTab === tab;\n            const tabLink = <span\n                key={tab}\n                className={`${_classes.tab} ${active ? _classes.active : ''} ${disabled ? _classes.disabled : ''} ${highlight ? _classes.highlight : ''} ${dark ? 'dark' : ''}`}\n                onClick={() => !disabled && onChange(tab)}\n                style={{color: color}}\n            >\n                {tab}\n\n                {React.isValidElement(badge) && badge}\n            </span>;\n\n            return <span key={tab}>\n                {disabled && disabledMessage ? <Tooltip title={disabledMessage} isSimple>{tabLink}</Tooltip> : tabLink}\n                {index < tabs.length - 1 && <span className={_classes.tab + ' ' + _classes.separator} key={tab + '_sepparator'}></span>}\n            </span>;\n        })}\n    </div>;\n}\n\nexport default Tabs;\n","import React from \"react\";\nimport collapsedImg from \"assets/collapsed.svg\";\nimport expandedImg from \"assets/expanded.svg\";\nimport styles from \"./style/CollapsibleContainer.module.sass\";\n\ninterface Props {\n    title: string | React.ReactNode,\n    expanded: boolean,\n    titleClassName?: string,\n    className?: string,\n    stickyHeader?: boolean,\n}\n\nconst CollapsibleContainer: React.FC<Props> = ({title, children, expanded, titleClassName, className, stickyHeader = false}) => {\n    const classNames = `${styles.CollapsibleContainer} ${expanded ? `${styles.CollapsibleContainerExpanded}` : `${styles.CollapsibleContainerCollapsed}`} ${className ? className : ''}`;\n\n    // This is needed to achieve the sticky header feature.\n    // It is needed an un-contained component for the css to work properly.\n    const content = <React.Fragment>\n        <div\n            className={`${styles.CollapsibleContainerHeader} ${stickyHeader ? `${styles.CollapsibleContainerHeaderSticky}` : \"\"}\n                      ${expanded ? `${styles.CollapsibleContainerHeaderExpanded}` : \"\"}`}>\n            {\n                React.isValidElement(title)?\n                    <React.Fragment>{title}</React.Fragment> :\n                    <React.Fragment>\n                        <div className={`${styles.CollapsibleContainerTitle} ${titleClassName ? titleClassName : ''}`}>{title}</div>\n                        <img\n                            className={styles.CollapsibleContainerExpandCollapseButton}\n                            src={expanded ? expandedImg : collapsedImg}\n                            alt=\"Expand/Collapse Button\"\n                        />\n                    </React.Fragment>\n            }\n        </div>\n        {expanded ? children : null}\n    </React.Fragment>;\n\n    return stickyHeader ? content : <div className={classNames}>{content}</div>;\n};\n\nexport default CollapsibleContainer;\n","import React, { useEffect, useState } from 'react';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport duplicateImg from \"assets/duplicate.svg\";\nimport styles from './style/FancyTextDisplay.module.sass';\n\ninterface Props {\n    text: string | number,\n    className?: string,\n    isPossibleToCopy?: boolean,\n    applyTextEllipsis?: boolean,\n    flipped?: boolean,\n    useTooltip?: boolean,\n    displayIconOnMouseOver?: boolean,\n    buttonOnly?: boolean,\n}\n\nconst FancyTextDisplay: React.FC<Props> = ({text, className, isPossibleToCopy = true, applyTextEllipsis = true, flipped = false, useTooltip= false, displayIconOnMouseOver = false, buttonOnly = false}) => {\n    const [showCopiedNotification, setCopied] = useState(false);\n    const [showTooltip, setShowTooltip] = useState(false);\n    text = String(text);\n\n    const onCopy = () => {\n        setCopied(true)\n    };\n\n    useEffect(() => {\n        let timer;\n        if (showCopiedNotification) {\n            timer = setTimeout(() => {\n                setCopied(false);\n            }, 1000);\n        }\n        return () => clearTimeout(timer);\n    }, [showCopiedNotification]);\n\n    const textElement = <span className={styles.FancyTextDisplayText}>{text}</span>;\n\n    const copyButton = isPossibleToCopy && text ? <CopyToClipboard text={text} onCopy={onCopy}>\n                    <span\n                        className={styles.FancyTextDisplayIcon}\n                        title={`Copy \"${text}\" value to clipboard`}\n                    >\n                        <img src={duplicateImg} alt=\"Duplicate full value\"/>\n                        {showCopiedNotification && <span className={styles.FancyTextDisplayCopyNotifier}>Copied</span>}\n                    </span>\n\t\t\t\t</CopyToClipboard> : null;\n\n    return (\n        <p\n            className={`${styles.FancyTextDisplayContainer} ${className ? className : ''} ${displayIconOnMouseOver ? ` ${styles.displayIconOnMouseOver} ` : ''} ${applyTextEllipsis ? ` ${styles.FancyTextDisplayContainerEllipsis} `: ''}`}\n            title={text}\n            onMouseOver={ e => setShowTooltip(true)}\n            onMouseLeave={ e => setShowTooltip(false)}\n        >\n            {!buttonOnly && flipped && textElement}\n            {copyButton}\n            {!buttonOnly && !flipped && textElement}\n            {useTooltip && showTooltip && <span className={styles.FancyTextDisplayCopyNotifier}>{text}</span>}\n        </p>\n    );\n};\n\nexport default FancyTextDisplay;\n","import React from \"react\";\n\nexport interface Props {\n    checked: boolean;\n    onToggle: (checked:boolean) => any;\n}\n\nconst Checkbox: React.FC<Props> = ({checked, onToggle}) => {\n\n    return (\n        <div>\n            <input style={{cursor: \"pointer\"}} type=\"checkbox\" checked={checked} onChange={(event) => onToggle(event.target.checked)}/>\n        </div>\n    );\n};\n\nexport default Checkbox;\n","import styles from \"./EntrySections.module.sass\";\nimport React, {useState} from \"react\";\nimport {SyntaxHighlighter} from \"../../UI/SyntaxHighlighter/index\";\nimport CollapsibleContainer from \"../../UI/CollapsibleContainer\";\nimport FancyTextDisplay from \"../../UI/FancyTextDisplay\";\nimport Queryable from \"../../UI/Queryable\";\nimport Checkbox from \"../../UI/Checkbox\";\nimport ProtobufDecoder from \"protobuf-decoder\";\nimport {default as jsonBeautify} from \"json-beautify\";\nimport {default as xmlBeautify} from \"xml-formatter\";\n\ninterface EntryViewLineProps {\n    label: string;\n    value: number | string;\n    selector?: string;\n    overrideQueryValue?: string;\n    displayIconOnMouseOver?: boolean;\n    useTooltip?: boolean;\n}\n\nconst EntryViewLine: React.FC<EntryViewLineProps> = ({label, value, selector = \"\", overrideQueryValue = \"\", displayIconOnMouseOver = true, useTooltip = true}) => {\n    let query: string;\n    if (!selector) {\n        query = \"\";\n    } else if (overrideQueryValue) {\n        query = `${selector} == ${overrideQueryValue}`;\n    } else if (typeof(value) == \"string\") {\n        query = `${selector} == \"${JSON.stringify(value).slice(1, -1)}\"`;\n    } else {\n        query = `${selector} == ${value}`;\n    }\n    return (label && <tr className={styles.dataLine}>\n                    <td className={`${styles.dataKey}`}>\n                        <Queryable\n                            query={query}\n                            style={{float: \"right\", height: \"18px\"}}\n                            iconStyle={{marginRight: \"20px\"}}\n                            flipped={true}\n                            useTooltip={useTooltip}\n                            displayIconOnMouseOver={displayIconOnMouseOver}\n                        >\n                            {label}\n                        </Queryable>\n                    </td>\n                <td>\n                    <FancyTextDisplay\n                        className={styles.dataValue}\n                        text={value}\n                        applyTextEllipsis={false}\n                        flipped={true}\n                        displayIconOnMouseOver={true}\n                    />\n                </td>\n            </tr>) || null;\n}\n\n\ninterface EntrySectionCollapsibleTitleProps {\n    title: string,\n    color: string,\n    expanded: boolean,\n    setExpanded: any,\n    query?: string,\n}\n\nconst EntrySectionCollapsibleTitle: React.FC<EntrySectionCollapsibleTitleProps> = ({title, color, expanded, setExpanded, query = \"\"}) => {\n    return <div className={styles.title}>\n        <div\n            className={`${styles.button} ${expanded ? styles.expanded : ''}`}\n            style={{backgroundColor: color}}\n            onClick={() => {\n                setExpanded(!expanded)\n            }}\n        >\n            {expanded ? '-' : '+'}\n        </div>\n        <Queryable\n            query={query}\n            useTooltip={!!query}\n            displayIconOnMouseOver={!!query}\n        >\n            <span>{title}</span>\n        </Queryable>\n    </div>\n}\n\ninterface EntrySectionContainerProps {\n    title: string,\n    color: string,\n    query?: string,\n}\n\nexport const EntrySectionContainer: React.FC<EntrySectionContainerProps> = ({title, color, children, query = \"\"}) => {\n    const [expanded, setExpanded] = useState(true);\n    return <CollapsibleContainer\n        className={styles.collapsibleContainer}\n        expanded={expanded}\n        title={<EntrySectionCollapsibleTitle title={title} color={color} expanded={expanded} setExpanded={setExpanded} query={query}/>}\n    >\n        {children}\n    </CollapsibleContainer>\n}\n\ninterface EntryBodySectionProps {\n    title: string,\n    content: any,\n    color: string,\n    encoding?: string,\n    contentType?: string,\n    selector?: string,\n}\n\nexport const EntryBodySection: React.FC<EntryBodySectionProps> = ({\n    title,\n    color,\n    content,\n    encoding,\n    contentType,\n    selector,\n}) => {\n    const MAXIMUM_BYTES_TO_FORMAT = 1000000; // The maximum of chars to highlight in body, in case the response can be megabytes\n    const jsonLikeFormats = ['json', 'yaml', 'yml'];\n    const xmlLikeFormats = ['xml', 'html'];\n    const protobufFormats = ['application/grpc'];\n    const supportedFormats = jsonLikeFormats.concat(xmlLikeFormats, protobufFormats);\n\n    const [isPretty, setIsPretty] = useState(true);\n    const [showLineNumbers, setShowLineNumbers] = useState(true);\n    const [decodeBase64, setDecodeBase64] = useState(true);\n\n    const isBase64Encoding = encoding === 'base64';\n    const supportsPrettying = supportedFormats.some(format => contentType?.indexOf(format) > -1);\n\n    const formatTextBody = (body: any): string => {\n        if (!decodeBase64) return body;\n\n        const chunk = body.slice(0, MAXIMUM_BYTES_TO_FORMAT);\n        const bodyBuf = isBase64Encoding ? atob(chunk) : chunk;\n\n        try {\n            if (jsonLikeFormats.some(format => contentType?.indexOf(format) > -1)) {\n                if (!isPretty) return bodyBuf;\n                return jsonBeautify(JSON.parse(bodyBuf), null, 2, 80);\n            }  else if (xmlLikeFormats.some(format => contentType?.indexOf(format) > -1)) {\n                if (!isPretty) return bodyBuf;\n                return xmlBeautify(bodyBuf, {\n                    indentation: '  ',\n                    filter: (node) => node.type !== 'Comment',\n                    collapseContent: true,\n                    lineSeparator: '\\n'\n                });\n            } else if (protobufFormats.some(format => contentType?.indexOf(format) > -1)) {\n                // Replace all non printable characters (ASCII)\n                const protobufDecoder = new ProtobufDecoder(bodyBuf, true);\n                const protobufDecoded = protobufDecoder.decode().toSimple();\n                if (!isPretty) return JSON.stringify(protobufDecoded);\n                return jsonBeautify(protobufDecoded, null, 2, 80);\n            }\n        } catch (error) {\n            console.error(error);\n        }\n        return bodyBuf;\n    }\n\n    return <React.Fragment>\n        {content && content?.length > 0 && <EntrySectionContainer\n                                                title={title}\n                                                color={color}\n                                                query={`${selector} == r\".*\"`}\n                                            >\n            <div style={{display: 'flex', alignItems: 'center', alignContent: 'center', margin: \"5px 0\"}}>\n                {supportsPrettying && <div style={{paddingTop: 3}}>\n                    <Checkbox checked={isPretty} onToggle={() => {setIsPretty(!isPretty)}}/>\n                </div>}\n                {supportsPrettying && <span style={{marginLeft: '.2rem'}}>Pretty</span>}\n\n                <div style={{paddingTop: 3, paddingLeft: supportsPrettying ? 20 : 0}}>\n                    <Checkbox checked={showLineNumbers} onToggle={() => {setShowLineNumbers(!showLineNumbers)}}/>\n                </div>\n                <span style={{marginLeft: '.2rem'}}>Line numbers</span>\n\n                {isBase64Encoding && <div style={{paddingTop: 3, paddingLeft: 20}}>\n                    <Checkbox checked={decodeBase64} onToggle={() => {setDecodeBase64(!decodeBase64)}}/>\n                </div>}\n                {isBase64Encoding && <span style={{marginLeft: '.2rem'}}>Decode Base64</span>}\n            </div>\n\n            <SyntaxHighlighter\n                code={formatTextBody(content)}\n                showLineNumbers={showLineNumbers}\n            />\n        </EntrySectionContainer>}\n    </React.Fragment>\n}\n\ninterface EntrySectionProps {\n    title: string,\n    color: string,\n    arrayToIterate: any[],\n}\n\nexport const EntryTableSection: React.FC<EntrySectionProps> = ({title, color, arrayToIterate}) => {\n    let arrayToIterateSorted: any[];\n    if (arrayToIterate) {\n        arrayToIterateSorted = arrayToIterate.sort((a, b) => {\n            if (a.name > b.name) {\n                return 1;\n            }\n\n            if (a.name < b.name) {\n                return -1;\n            }\n\n            return 0;\n        });\n    }\n    return <React.Fragment>\n        {\n            arrayToIterate && arrayToIterate.length > 0 ?\n                <EntrySectionContainer title={title} color={color}>\n                    <table>\n                        <tbody id={`tbody-${title}`}>\n                            {arrayToIterateSorted.map(({name, value, selector}, index) => <EntryViewLine\n                                key={index}\n                                label={name}\n                                value={value}\n                                selector={selector}\n                            />)}\n                        </tbody>\n                    </table>\n                </EntrySectionContainer> : <span/>\n        }\n    </React.Fragment>\n}\n\ninterface EntryPolicySectionProps {\n    title: string,\n    color: string,\n    latency?: number,\n    arrayToIterate: any[],\n}\n\ninterface EntryPolicySectionCollapsibleTitleProps {\n    label: string;\n    matched: string;\n    expanded: boolean;\n    setExpanded: any;\n}\n\nconst EntryPolicySectionCollapsibleTitle: React.FC<EntryPolicySectionCollapsibleTitleProps> = ({label, matched, expanded, setExpanded}) => {\n    return <div className={styles.title}>\n        <span\n            className={`${styles.button}\n            ${expanded ? styles.expanded : ''}`}\n            onClick={() => {\n                setExpanded(!expanded)\n            }}\n        >\n            {expanded ? '-' : '+'}\n        </span>\n        <span>\n            <tr className={styles.dataLine}>\n            <td className={`${styles.dataKey} ${styles.rulesTitleSuccess}`}>{label}</td>\n            <td className={`${styles.dataKey} ${matched === 'Success' ? styles.rulesMatchedSuccess : styles.rulesMatchedFailure}`}>{matched}</td>\n            </tr>\n        </span>\n    </div>\n}\n\ninterface EntryPolicySectionContainerProps {\n    label: string;\n    matched: string;\n    children?: any;\n}\n\nexport const EntryPolicySectionContainer: React.FC<EntryPolicySectionContainerProps> = ({label, matched, children}) => {\n    const [expanded, setExpanded] = useState(false);\n    return <CollapsibleContainer\n        className={styles.collapsibleContainer}\n        expanded={expanded}\n        title={<EntryPolicySectionCollapsibleTitle label={label} matched={matched} expanded={expanded} setExpanded={setExpanded}/>}\n    >\n        {children}\n    </CollapsibleContainer>\n}\n\nexport const EntryTablePolicySection: React.FC<EntryPolicySectionProps> = ({title, color, latency, arrayToIterate}) => {\n    return <React.Fragment>\n        {\n            arrayToIterate && arrayToIterate.length > 0 ?\n                <React.Fragment>\n                <EntrySectionContainer title={title} color={color}>\n                    <table>\n                        <tbody>\n                            {arrayToIterate.map(({rule, matched}, index) => {\n                                    return (\n                                        <EntryPolicySectionContainer key={index} label={rule.Name} matched={matched && (rule.Type === 'slo' ? rule.ResponseTime >= latency : true)? \"Success\" : \"Failure\"}>\n                                            {\n                                                <React.Fragment>\n                                                    {\n                                                        rule.Key &&\n                                                        <tr className={styles.dataValue}><td><b>Key:</b></td> <td>{rule.Key}</td></tr>\n                                                    }\n                                                    {\n                                                        rule.ResponseTime !== 0 &&\n                                                        <tr className={styles.dataValue}><td><b>Response Time:</b></td> <td>{rule.ResponseTime}</td></tr>\n                                                    }\n                                                    {\n                                                        rule.Method &&\n                                                        <tr className={styles.dataValue}><td><b>Method:</b></td> <td>{rule.Method}</td></tr>\n                                                    }\n                                                    {\n                                                        rule.Path &&\n                                                        <tr className={styles.dataValue}><td><b>Path:</b></td> <td>{rule.Path}</td></tr>\n                                                    }\n                                                    {\n                                                        rule.Service &&\n                                                        <tr className={styles.dataValue}><td><b>Service:</b></td> <td>{rule.Service}</td></tr>\n                                                    }\n                                                    {\n                                                        rule.Type &&\n                                                        <tr className={styles.dataValue}><td><b>Type:</b></td> <td>{rule.Type}</td></tr>\n                                                    }\n                                                    {\n                                                        rule.Value &&\n                                                        <tr className={styles.dataValue}><td><b>Value:</b></td> <td>{rule.Value}</td></tr>\n                                                    }\n                                                </React.Fragment>\n                                            }\n                                        </EntryPolicySectionContainer>\n                                    )\n                                }\n                            )\n                            }\n                        </tbody>\n                    </table>\n                </EntrySectionContainer>\n                </React.Fragment> : <span className={styles.noRules}>No rules could be applied to this request.</span>\n        }\n    </React.Fragment>\n}\n\ninterface EntryContractSectionProps {\n    color: string,\n    requestReason: string,\n    responseReason: string,\n    contractContent: string,\n}\n\nexport const EntryContractSection: React.FC<EntryContractSectionProps> = ({color, requestReason, responseReason, contractContent}) => {\n    return <React.Fragment>\n        {requestReason && <EntrySectionContainer title=\"Request\" color={color}>\n            {requestReason}\n        </EntrySectionContainer>}\n        {responseReason && <EntrySectionContainer title=\"Response\" color={color}>\n            {responseReason}\n        </EntrySectionContainer>}\n        {contractContent && <EntrySectionContainer title=\"Contract\" color={color}>\n            <SyntaxHighlighter\n                code={contractContent}\n                language={\"yaml\"}\n            />\n        </EntrySectionContainer>}\n    </React.Fragment>\n}\n","import React, {useState} from 'react';\nimport styles from './EntryViewer.module.sass';\nimport Tabs from \"../../UI/Tabs\";\nimport {EntryTableSection, EntryBodySection, EntryTablePolicySection, EntryContractSection} from \"./EntrySections\";\n\nenum SectionTypes {\n    SectionTable = \"table\",\n    SectionBody = \"body\",\n}\n\nconst SectionsRepresentation: React.FC<any> = ({data, color}) => {\n    const sections = []\n\n    if (data) {\n        for (const [i, row] of data.entries()) {\n            switch (row.type) {\n                case SectionTypes.SectionTable:\n                    sections.push(\n                        <EntryTableSection key={i} title={row.title} color={color} arrayToIterate={JSON.parse(row.data)}/>\n                    )\n                    break;\n                case SectionTypes.SectionBody:\n                    sections.push(\n                        <EntryBodySection key={i} title={row.title} color={color} content={row.data} encoding={row.encoding} contentType={row.mimeType} selector={row.selector}/>\n                    )\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n\n    return <React.Fragment>{sections}</React.Fragment>;\n}\n\nconst AutoRepresentation: React.FC<any> = ({representation, isRulesEnabled, rulesMatched, contractStatus, requestReason, responseReason, contractContent, elapsedTime, color}) => {\n    var TABS = [\n        {\n            tab: 'Request'\n        }\n    ];\n    const [currentTab, setCurrentTab] = useState(TABS[0].tab);\n\n    // Don't fail even if `representation` is an empty string\n    if (!representation) {\n        return <React.Fragment></React.Fragment>;\n    }\n\n    const {request, response} = JSON.parse(representation);\n\n    let responseTabIndex = 0;\n    let rulesTabIndex = 0;\n    let contractTabIndex = 0;\n\n    if (response) {\n        TABS.push(\n            {\n                tab: 'Response',\n            }\n        );\n        responseTabIndex = TABS.length - 1;\n    }\n\n    if (isRulesEnabled) {\n        TABS.push(\n            {\n                tab: 'Rules',\n            }\n        );\n        rulesTabIndex = TABS.length - 1;\n    }\n\n    if (contractStatus !== 0 && contractContent) {\n        TABS.push(\n            {\n                tab: 'Contract',\n            }\n        );\n        contractTabIndex = TABS.length - 1;\n    }\n\n    return <div className={styles.Entry}>\n        {<div className={styles.body}>\n            <div className={styles.bodyHeader}>\n                <Tabs tabs={TABS} currentTab={currentTab} color={color} onChange={setCurrentTab} leftAligned/>\n            </div>\n            {currentTab === TABS[0].tab && <React.Fragment>\n                <SectionsRepresentation data={request} color={color}/>\n            </React.Fragment>}\n            {response && currentTab === TABS[responseTabIndex].tab && <React.Fragment>\n                <SectionsRepresentation data={response} color={color}/>\n            </React.Fragment>}\n            {isRulesEnabled && currentTab === TABS[rulesTabIndex].tab && <React.Fragment>\n                <EntryTablePolicySection title={'Rule'} color={color} latency={elapsedTime} arrayToIterate={rulesMatched ? rulesMatched : []}/>\n            </React.Fragment>}\n            {contractStatus !== 0 && contractContent && currentTab === TABS[contractTabIndex].tab && <React.Fragment>\n                <EntryContractSection color={color} requestReason={requestReason} responseReason={responseReason} contractContent={contractContent}/>\n            </React.Fragment>}\n        </div>}\n    </div>;\n}\n\ninterface Props {\n    representation: any;\n    isRulesEnabled: boolean;\n    rulesMatched: any;\n    contractStatus: number;\n    requestReason: string;\n    responseReason: string;\n    contractContent: string;\n    color: string;\n    elapsedTime: number;\n}\n\nconst EntryViewer: React.FC<Props> = ({representation, isRulesEnabled, rulesMatched, contractStatus, requestReason, responseReason, contractContent, elapsedTime, color}) => {\n    return <AutoRepresentation\n        representation={representation}\n        isRulesEnabled={isRulesEnabled}\n        rulesMatched={rulesMatched}\n        contractStatus={contractStatus}\n        requestReason={requestReason}\n        responseReason={responseReason}\n        contractContent={contractContent}\n        elapsedTime={elapsedTime}\n        color={color}\n    />\n};\n\nexport default EntryViewer;\n","import React, {useEffect, useState} from \"react\";\nimport EntryViewer from \"./EntryDetailed/EntryViewer\";\nimport {EntryItem} from \"./EntryListItem/EntryListItem\";\nimport {makeStyles} from \"@material-ui/core\";\nimport Protocol from \"../UI/Protocol\"\nimport Queryable from \"../UI/Queryable\";\nimport {toast} from \"react-toastify\";\nimport {RecoilState, useRecoilState, useRecoilValue} from \"recoil\";\nimport focusedEntryIdAtom from \"../../recoil/focusedEntryId\";\nimport trafficViewerApi from \"../../recoil/TrafficViewerApi\";\nimport ITrafficViewerApi from \"../TrafficViewer/ITrafficViewerApi\";\nimport TrafficViewerApiAtom from \"../../recoil/TrafficViewerApi/atom\";\n\nconst useStyles = makeStyles(() => ({\n    entryTitle: {\n        display: 'flex',\n        minHeight: 20,\n        maxHeight: 46,\n        alignItems: 'center',\n        marginBottom: 4,\n        marginLeft: 6,\n        padding: 2,\n        paddingBottom: 0\n    },\n    entrySummary: {\n        display: 'flex',\n        minHeight: 36,\n        maxHeight: 46,\n        alignItems: 'center',\n        marginBottom: 4,\n        padding: 5,\n        paddingBottom: 0\n    }\n}));\n\nexport const formatSize = (n: number) => n > 1000 ? `${Math.round(n / 1000)}KB` : `${n} B`;\n\nconst EntryTitle: React.FC<any> = ({protocol, data, bodySize, elapsedTime}) => {\n    const classes = useStyles();\n    const response = data.response;\n\n    return <div className={classes.entryTitle}>\n        <Protocol protocol={protocol} horizontal={true}/>\n        <div style={{right: \"30px\", position: \"absolute\", display: \"flex\"}}>\n            {response && <Queryable\n                query={`response.bodySize == ${bodySize}`}\n                style={{margin: \"0 18px\"}}\n                displayIconOnMouseOver={true}\n            >\n                <div\n                    style={{opacity: 0.5}}\n                    id=\"entryDetailedTitleBodySize\"\n                >\n                    {formatSize(bodySize)}\n                </div>\n            </Queryable>}\n            {response && <Queryable\n                query={`elapsedTime >= ${elapsedTime}`}\n                style={{marginRight: 18}}\n                displayIconOnMouseOver={true}\n            >\n                <div\n                    style={{opacity: 0.5}}\n                    id=\"entryDetailedTitleElapsedTime\"\n                >\n                    {Math.round(elapsedTime)}ms\n                </div>\n            </Queryable>}\n        </div>\n    </div>;\n};\n\nconst EntrySummary: React.FC<any> = ({entry}) => {\n    return <EntryItem\n        key={`entry-${entry.id}`}\n        entry={entry}\n        style={{}}\n        headingMode={true}\n    />;\n};\n\n\n\nexport const EntryDetailed = () => {\n\n    const focusedEntryId = useRecoilValue(focusedEntryIdAtom);\n    const trafficViewerApi = useRecoilValue(TrafficViewerApiAtom as RecoilState<ITrafficViewerApi>)\n\n    const [entryData, setEntryData] = useState(null);\n\n    useEffect(() => {\n        if (!focusedEntryId) return;\n        setEntryData(null);\n        (async () => {\n            try {\n                const entryData = await trafficViewerApi.getEntry(focusedEntryId);\n                setEntryData(entryData);\n            } catch (error) {\n                if (error.response?.data?.type) {\n                    toast[error.response.data.type](`Entry[${focusedEntryId}]: ${error.response.data.msg}`, {\n                        position: \"bottom-right\",\n                        theme: \"colored\",\n                        autoClose: error.response.data.autoClose,\n                        hideProgressBar: false,\n                        closeOnClick: true,\n                        pauseOnHover: true,\n                        draggable: true,\n                        progress: undefined,\n                    });\n                }\n                console.error(error);\n            }\n        })();\n        // eslint-disable-next-line\n    }, [focusedEntryId]);\n\n    return <React.Fragment>\n        {entryData && <EntryTitle\n            protocol={entryData.protocol}\n            data={entryData.data}\n            bodySize={entryData.bodySize}\n            elapsedTime={entryData.data.elapsedTime}\n        />}\n        {entryData && <EntrySummary entry={entryData.data}/>}\n        <React.Fragment>\n            {entryData && <EntryViewer\n                representation={entryData.representation}\n                isRulesEnabled={entryData.isRulesEnabled}\n                rulesMatched={entryData.rulesMatched}\n                contractStatus={entryData.data.contractStatus}\n                requestReason={entryData.data.contractRequestReason}\n                responseReason={entryData.data.contractResponseReason}\n                contractContent={entryData.data.contractContent}\n                elapsedTime={entryData.data.elapsedTime}\n                color={entryData.protocol.backgroundColor}\n            />}\n        </React.Fragment>\n    </React.Fragment>\n};\n","import { atom } from \"recoil\";\nimport {TappingStatusPod} from \"./index\";\n\nconst tappingStatusAtom = atom({\n    key: \"tappingStatusAtom\",\n    default: null as TappingStatusPod[]\n});\n\nexport default tappingStatusAtom;\n","import {selector} from \"recoil\";\nimport tappingStatusAtom from \"./atom\";\n\nconst tappingStatusDetails = selector({\n    key: 'tappingStatusDetails',\n    get: ({get}) => {\n        const tappingStatus = get(tappingStatusAtom);\n        const uniqueNamespaces = Array.from(new Set(tappingStatus.map(pod => pod.namespace)));\n        const amountOfPods = tappingStatus.length;\n        const amountOfTappedPods = tappingStatus.filter(pod => pod.isTapped).length;\n        const amountOfUntappedPods = amountOfPods - amountOfTappedPods;\n\n        return {\n            uniqueNamespaces,\n            amountOfPods,\n            amountOfTappedPods,\n            amountOfUntappedPods,\n        };\n    },\n});\n\nexport default tappingStatusDetails;\n","import style from './style/StatusBar.module.sass';\nimport React, {useState} from \"react\";\nimport warningIcon from 'assets/warning_icon.svg';\nimport failIcon from 'assets/failed.svg';\nimport successIcon from 'assets/success.svg';\nimport {useRecoilValue} from \"recoil\";\nimport tappingStatusAtom, {tappingStatusDetails} from \"../../recoil/tappingStatus\";\n\nconst pluralize = (noun: string, amount: number) => {\n    return `${noun}${amount !== 1 ? 's' : ''}`\n}\n\nexport const StatusBar = () => {\n\n    const tappingStatus = useRecoilValue(tappingStatusAtom);\n    const [expandedBar, setExpandedBar] = useState(false);\n    const {uniqueNamespaces, amountOfPods, amountOfTappedPods, amountOfUntappedPods} = useRecoilValue(tappingStatusDetails);\n\n    return <div className={`${style.statusBar} + ${(expandedBar ? ' expandedStatusBar' : \"\")}`} onMouseOver={() => setExpandedBar(true)} onMouseLeave={() => setExpandedBar(false)}>\n        <div className={style.podsCount}>\n            {tappingStatus?.some(pod => !pod.isTapped) && <img src={warningIcon} alt=\"warning\"/>}\n            {`Tapping ${amountOfUntappedPods > 0 ? amountOfTappedPods + \" / \" + amountOfPods : amountOfPods} ${pluralize('pod', amountOfPods)} in ${pluralize('namespace', uniqueNamespaces.length)} ${uniqueNamespaces.join(\", \")}`}\n            </div>\n        {expandedBar && <div style={{marginTop: 20}}>\n            <table>\n                <thead>\n                    <tr>\n                        <th style={{width: \"40%\"}}>Pod name</th>\n                        <th style={{width: \"40%\"}}>Namespace</th>\n                        <th style={{width: \"20%\", textAlign: \"center\"}}>Tapping</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {tappingStatus.map(pod => <tr key={pod.name}>\n                        <td style={{width: \"40%\"}}>{pod.name}</td>\n                        <td style={{width: \"40%\"}}>{pod.namespace}</td>\n                        <td style={{width: \"20%\", textAlign: \"center\"}}><img style={{height: 20}} alt=\"status\" src={pod.isTapped ? successIcon : failIcon}/></td>\n                    </tr>)}\n                </tbody>\n            </table>\n        </div>}\n    </div>;\n}\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","import {Snackbar} from \"@material-ui/core\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport React, {useEffect} from \"react\";\nimport { RecoilState, useRecoilValue } from \"recoil\";\nimport TrafficViewerApiAtom from \"../../recoil/TrafficViewerApi/atom\";\nimport ITrafficViewerApi from \"../TrafficViewer/ITrafficViewerApi\";\nimport './TLSWarning.sass';\n\ninterface TLSWarningProps {\n    showTLSWarning: boolean\n    setShowTLSWarning: (show: boolean) => void\n    addressesWithTLS: Set<string>\n    setAddressesWithTLS: (addresses: Set<string>) => void\n    userDismissedTLSWarning: boolean\n    setUserDismissedTLSWarning: (flag: boolean) => void\n}\n\nexport const TLSWarning: React.FC<TLSWarningProps>  = ({showTLSWarning, setShowTLSWarning, addressesWithTLS, setAddressesWithTLS, userDismissedTLSWarning, setUserDismissedTLSWarning}) => {\n\n    const trafficViewerApi = useRecoilValue(TrafficViewerApiAtom as RecoilState<ITrafficViewerApi>)\n    useEffect(() => {\n        (async () => {\n            try {\n                const getRecentTLSLinksFunc = trafficViewerApi?.getRecentTLSLinks ? trafficViewerApi?.getRecentTLSLinks : function(){}\n                const recentTLSLinks = await getRecentTLSLinksFunc();\n                if (recentTLSLinks?.length > 0) {\n                    setAddressesWithTLS(new Set(recentTLSLinks));\n                    setShowTLSWarning(true);\n                }\n            } catch (e) {\n                console.error(e);\n            }\n        })();\n    }, [setShowTLSWarning, setAddressesWithTLS,trafficViewerApi]);\n\n    return (<Snackbar open={showTLSWarning && !userDismissedTLSWarning}>\n        <MuiAlert classes={{filledWarning: 'customWarningStyle'}} elevation={6} variant=\"filled\"\n                  onClose={() => setUserDismissedTLSWarning(true)} severity=\"warning\">\n            Mizu is detecting TLS traffic, this type of traffic will not be displayed.\n            {addressesWithTLS.size > 0 &&\n            <ul className=\"httpsDomains\"> {Array.from(addressesWithTLS, address => <li>{address}</li>)} </ul>}\n        </MuiAlert>\n    </Snackbar>);\n}\n","import React, { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { Filters } from \"./Filters\";\nimport { EntriesList } from \"./EntriesList\";\nimport { makeStyles } from \"@material-ui/core\";\nimport TrafficViwerStyles from \"./TrafficViewer.module.sass\";\nimport styles from '../style/EntriesList.module.sass';\nimport {EntryDetailed} from \"./EntryDetailed\";\nimport playIcon from 'assets/run.svg';\nimport pauseIcon from 'assets/pause.svg';\nimport variables from '../../variables.module.scss';\nimport {StatusBar} from \"../UI/StatusBar\";\nimport { toast } from 'react-toastify';\nimport debounce from 'lodash/debounce';\nimport { RecoilRoot, RecoilState, useRecoilState, useRecoilValue, useSetRecoilState} from \"recoil\";\nimport tappingStatusAtom from \"../../recoil/tappingStatus\";\nimport entriesAtom from \"../../recoil/entries\";\nimport focusedEntryIdAtom from \"../../recoil/focusedEntryId\";\nimport websocketConnectionAtom, {WsConnectionStatus} from \"../../recoil/wsConnection\";\nimport queryAtom from \"../../recoil/query\";\nimport {TLSWarning} from \"../TLSWarning/TLSWarning\";\nimport { closeWsConnectionCallbackAtom } from \"../../recoil/wsConnection/atom\";\nimport trafficViewerApiAtom from \"../../recoil/TrafficViewerApi\"\nimport ITrafficViewerApi from \"./ITrafficViewerApi\";\n\n\nconst useLayoutStyles = makeStyles(() => ({\n  details: {\n    flex: \"0 0 50%\",\n    width: \"45vw\",\n    padding: \"12px 24px\",\n    borderRadius: 4,\n    marginTop: 15,\n    background: variables.headerBackgroundColor,\n  },\n\n  viewer: {\n    display: \"flex\",\n    overflowY: \"auto\",\n    height: \"calc(100% - 70px)\",\n    padding: 5,\n    paddingBottom: 0,\n    overflow: \"auto\",\n  },\n}));\n\ninterface TrafficViewerProps {\n  setAnalyzeStatus?: (status: any) => void;\n  api? :any\n  message :{}\n  error? :{}\n  isOpen : boolean\n  closeWs : () => void\n  sendQuery : (query : string) => void\n  openSocket : () => void\n  trafficViewerApiProp : ITrafficViewerApi\n}\n\nconst TrafficViewer: React.FC<TrafficViewerProps> = ({setAnalyzeStatus, message, error, isOpen, closeWs, sendQuery, openSocket, trafficViewerApiProp}) => {\n    const classes = useLayoutStyles();\n    const [tappingStatus, setTappingStatus] = useRecoilState(tappingStatusAtom);\n    const [entries, setEntries] = useRecoilState(entriesAtom);\n    const [focusedEntryId, setFocusedEntryId] = useRecoilState(focusedEntryIdAtom);\n    const [wsConnection, setWsConnection] = useRecoilState(websocketConnectionAtom);\n    const setCloseWsCallback = useSetRecoilState(closeWsConnectionCallbackAtom)\n    const query = useRecoilValue(queryAtom);\n    const [queryToSend, setQueryToSend] = useState(\"\")\n    const [trafficViewerApiState, setTrafficViewerApiState] = useRecoilState(trafficViewerApiAtom as RecoilState<ITrafficViewerApi>)\n    \n\n    const [noMoreDataTop, setNoMoreDataTop] = useState(false);\n    const [isSnappedToBottom, setIsSnappedToBottom] = useState(true);\n\n    const [queryBackgroundColor, setQueryBackgroundColor] = useState(\"#f5f5f5\");\n\n    const [queriedCurrent, setQueriedCurrent] = useState(0);\n    const [queriedTotal, setQueriedTotal] = useState(0);\n    const [leftOffBottom, setLeftOffBottom] = useState(0);\n    const [leftOffTop, setLeftOffTop] = useState(null);\n    const [truncatedTimestamp, setTruncatedTimestamp] = useState(0);\n\n    const [startTime, setStartTime] = useState(0);\n    const scrollableRef = useRef(null);\n\n    const [showTLSWarning, setShowTLSWarning] = useState(false);\n    const [userDismissedTLSWarning, setUserDismissedTLSWarning] = useState(false);\n    const [addressesWithTLS, setAddressesWithTLS] = useState(new Set<string>());\n\n    const handleQueryChange = useMemo(\n      () =>\n        debounce(async (query: string) => {\n          if (!query) {\n            setQueryBackgroundColor(\"#f5f5f5\");\n          } else {\n            const data = await trafficViewerApiProp.validateQuery(query);\n            if (!data) {\n              return;\n            }\n            if (data.valid) {\n              setQueryBackgroundColor(\"#d2fad2\");\n            } else {\n              setQueryBackgroundColor(\"#fad6dc\");\n            }\n          }\n        }, 500),\n      []\n    ) as (query: string) => void;\n\n    useEffect(() => {\n        handleQueryChange(query);\n    }, [query, handleQueryChange]);\n    \n\n    const listEntry = useRef(null);\n    const openWebSocket = (query: string, resetEntries: boolean) => {\n        if (resetEntries) {\n            setFocusedEntryId(null);\n            setEntries([]);\n            setQueriedCurrent(0);\n            setLeftOffTop(null);\n            setNoMoreDataTop(false);\n        }\n        setQueryToSend(query)\n        openSocket();\n    }\n\n    const onmessage = useCallback((e) => {\n      if (!e?.data) return;\n      const message = JSON.parse(e.data);\n      switch (message.messageType) {\n        case \"entry\":\n          const entry = message.data;\n          if (!focusedEntryId) setFocusedEntryId(entry.id.toString());\n          const newEntries = [...entries, entry];\n          if (newEntries.length === 10001) {\n            setLeftOffTop(newEntries[0].entry.id);\n            newEntries.shift();\n            setNoMoreDataTop(false);\n          }\n          setEntries(newEntries);\n          break;\n        case \"status\":\n          setTappingStatus(message.tappingStatus);\n          break;\n        case \"analyzeStatus\":\n          setAnalyzeStatus(message.analyzeStatus);\n          break;\n        case \"outboundLink\":\n          onTLSDetected(message.Data.DstIP);\n          break;\n        case \"toast\":\n          toast[message.data.type](message.data.text, {\n            position: \"bottom-right\",\n            theme: \"colored\",\n            autoClose: message.data.autoClose,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n          });\n          break;\n        case \"queryMetadata\":\n          setQueriedCurrent(queriedCurrent + message.data.current);\n          setQueriedTotal(message.data.total);\n          setLeftOffBottom(message.data.leftOff);\n          setTruncatedTimestamp(message.data.truncatedTimestamp);\n          if (leftOffTop === null) {\n            setLeftOffTop(message.data.leftOff - 1);\n          }\n          break;\n        case \"startTime\":\n          setStartTime(message.data);\n          break;\n        default:\n          console.error(\n            `unsupported websocket message type, Got: ${message.messageType}`\n          );\n      }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[message]);\n\n    useEffect(() =>{\n      onmessage(message)\n    },[message, onmessage])\n\n\n    useEffect(()=>{\n      isOpen ? setWsConnection(WsConnectionStatus.Connected) : setWsConnection(WsConnectionStatus.Closed)\n      sendQuery(queryToSend)\n    },[isOpen, queryToSend, sendQuery, setWsConnection])\n\n    \n\n    // const onerror = (event) => {\n    //     console.error(\"WebSocket error:\", event);\n    //     if (query) {\n    //         openWebSocket(`(${query}) and leftOff(${leftOffBottom})`, false);\n    //     } else {\n    //         openWebSocket(`leftOff(${leftOffBottom})`, false);\n    //     }\n    // }\n\n    useEffect(() => {(async () => {\n        setTrafficViewerApiState(trafficViewerApiProp)\n        openWebSocket(\"leftOff(-1)\", true);\n        try{\n            const tapStatusResponse = await trafficViewerApiProp.tapStatus();\n            setTappingStatus(tapStatusResponse);\n            if(setAnalyzeStatus) {\n                const analyzeStatusResponse = await trafficViewerApiProp.analyzeStatus();\n                setAnalyzeStatus(analyzeStatusResponse);\n            }\n        } catch (error) {\n            console.error(error);\n        }\n      })()\n    // eslint-disable-next-line\n    }, []);\n\n\n    const closeCallback = () => {wsConnection === WsConnectionStatus.Connected && closeWs()}\n    setCloseWsCallback({closeCallback : closeCallback})\n\n    const toggleConnection = () => {  \n      if (wsConnection === WsConnectionStatus.Closed) {\n          \n          if (query) {\n              openWebSocket(`(${query}) and leftOff(-1)`, true);\n          } else {\n              openWebSocket(`leftOff(-1)`, true);\n          }\n          scrollableRef.current.jumpToBottom();\n          setIsSnappedToBottom(true);\n      }\n      else if(wsConnection === WsConnectionStatus.Connected)\n        {\n          closeWs()\n          setWsConnection(WsConnectionStatus.Closed);\n        }\n    }\n\n    const onTLSDetected = (destAddress: string) => {\n        addressesWithTLS.add(destAddress);\n        setAddressesWithTLS(new Set(addressesWithTLS));\n\n        if (!userDismissedTLSWarning) {\n            setShowTLSWarning(true);\n        }\n    };\n\n    const getConnectionIndicator = () => {\n        switch (wsConnection) {\n            case WsConnectionStatus.Connected:\n                return <div className={`${TrafficViwerStyles.indicatorContainer} ${TrafficViwerStyles.greenIndicatorContainer}`}>\n                <div className={`${TrafficViwerStyles.indicator} ${TrafficViwerStyles.greenIndicator}`} />\n              </div>\n            default:\n                return <div className={`${TrafficViwerStyles.indicatorContainer} ${TrafficViwerStyles.redIndicatorContainer}`}>\n                <div className={`${TrafficViwerStyles.indicator} ${TrafficViwerStyles.redIndicator}`} />\n              </div>\n        }\n    }\n\n    const getConnectionTitle = () => {\n        switch (wsConnection) {\n            case WsConnectionStatus.Connected:\n                return \"streaming live traffic\"\n            default:\n                return \"streaming paused\";\n        }\n    }\n\n    const onSnapBrokenEvent = () => {\n        setIsSnappedToBottom(false);\n        if (wsConnection === WsConnectionStatus.Connected) {\n          closeWs()\n        }\n    }\n\n\n\n\n  return (\n    <div className={TrafficViwerStyles.TrafficPage}>\n      <div className={TrafficViwerStyles.TrafficPageHeader}>\n        <div className={TrafficViwerStyles.TrafficPageStreamStatus}>\n          <img className={TrafficViwerStyles.playPauseIcon} style={{ visibility: wsConnection === WsConnectionStatus.Connected ? \"visible\" : \"hidden\" }} alt=\"pause\"\n            src={pauseIcon} onClick={toggleConnection} />\n          <img className={TrafficViwerStyles.playPauseIcon} style={{ position: \"absolute\", visibility: wsConnection === WsConnectionStatus.Connected ? \"hidden\" : \"visible\" }} alt=\"play\"\n            src={playIcon} onClick={toggleConnection} />\n          <div className={TrafficViwerStyles.connectionText}>\n            {getConnectionTitle()}\n            {getConnectionIndicator()}\n          </div>\n        </div>\n      </div>\n      {<div className={TrafficViwerStyles.TrafficPageContainer}>\n        <div className={TrafficViwerStyles.TrafficPageListContainer}>\n          <Filters\n            backgroundColor={queryBackgroundColor}\n            openWebSocket={openWebSocket}\n            \n          />\n          <div className={styles.container}>\n            <EntriesList\n              listEntryREF={listEntry}\n              onSnapBrokenEvent={onSnapBrokenEvent}\n              isSnappedToBottom={isSnappedToBottom}\n              setIsSnappedToBottom={setIsSnappedToBottom}\n              queriedCurrent={queriedCurrent}\n              setQueriedCurrent={setQueriedCurrent}\n              queriedTotal={queriedTotal}\n              setQueriedTotal={setQueriedTotal}\n              startTime={startTime}\n              noMoreDataTop={noMoreDataTop}\n              setNoMoreDataTop={setNoMoreDataTop}\n              leftOffTop={leftOffTop}\n              setLeftOffTop={setLeftOffTop}\n              openWebSocket={openWebSocket}\n              leftOffBottom={leftOffBottom}\n              truncatedTimestamp={truncatedTimestamp}\n              setTruncatedTimestamp={setTruncatedTimestamp}\n              scrollableRef={scrollableRef}\n            />\n          </div>\n        </div>\n        <div className={classes.details} id=\"rightSideContainer\">\n          {focusedEntryId && <EntryDetailed />}\n        </div>\n      </div>}\n      {tappingStatus && <StatusBar />}\n       <TLSWarning showTLSWarning={showTLSWarning}\n                   setShowTLSWarning={setShowTLSWarning}\n                   addressesWithTLS={addressesWithTLS}\n                   setAddressesWithTLS={setAddressesWithTLS}\n                   userDismissedTLSWarning={userDismissedTLSWarning}\n                   setUserDismissedTLSWarning={setUserDismissedTLSWarning} />\n    </div>\n  );\n};\n\nconst MemoiedTrafficViwer =  React.memo(TrafficViewer)\nconst TrafficViewerContainer : React.FC<TrafficViewerProps> = ({setAnalyzeStatus, message, isOpen, closeWs, sendQuery, openSocket, trafficViewerApiProp}) => \n{\n  return <RecoilRoot>\n    <MemoiedTrafficViwer message={message} isOpen={isOpen} closeWs={closeWs} sendQuery={sendQuery } openSocket={ openSocket}\n                       trafficViewerApiProp={trafficViewerApiProp} setAnalyzeStatus={setAnalyzeStatus}/>\n  </RecoilRoot>\n}\n\n\nexport default TrafficViewerContainer \n","import React, {useEffect, useState} from \"react\";\nimport style from '../style/LoadingOverlay.module.sass';\n\nconst SpinnerShowDelayMs = 350;\n\ninterface LoadingOverlayProps {\n    delay?: number\n}\n\nconst LoadingOverlay: React.FC<LoadingOverlayProps> = ({delay}) => {\n\n    const [isVisible, setIsVisible] = useState(false);\n\n    // @ts-ignore\n    useEffect(() => {\n        let isRelevant = true;\n\n        setTimeout(() => {\n            if(isRelevant)\n                setIsVisible(true);\n        }, delay || SpinnerShowDelayMs);\n\n        return () => isRelevant = false;\n    }, [delay]);\n\n    return <div className={style.loadingOverlayContainer} hidden={!isVisible}>\n        <div className={style.loadingOverlaySpinner}/>\n    </div>\n};\n\nexport default LoadingOverlay;\n","import {ReactComponent as DefaultIconDown} from './assets/default_icon_down.svg';\nimport {MenuItem, Select as MUISelect} from '@material-ui/core';\nimport React from 'react';\nimport {SelectProps as MUISelectProps} from '@material-ui/core/Select/Select';\nimport styles from './style/Select.module.sass';\n\nexport const ALL_KEY= 'All';\n\nconst menuProps: any = {\n    anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"left\"\n    },\n    transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"left\"\n    },\n    getContentAnchorEl: null\n};\n\n// icons styles are not overwritten from the Props, only as a separate object\nconst classes = {icon: styles.icon, selectMenu: styles.list};\n\nconst defaultProps = {\n    MenuProps: menuProps,\n    IconComponent: DefaultIconDown\n};\n\nexport interface SelectProps extends MUISelectProps {\n    onChangecb: (arg0: string) => void;\n    value: string | string[];\n    ellipsis?: boolean;\n    labelOnTop?: boolean;\n    className?: string;\n    labelClassName?: string;\n    trimItemsWhenMultiple?: boolean;\n    transformDisplay?: (arg0: string) => string;\n}\n\nexport const Select: React.FC<SelectProps> = ({\n                                                  label,\n                                                  value,\n                                                  onChangecb,\n                                                  transformDisplay,\n                                                  ellipsis = true,\n                                                  multiple,\n                                                  labelOnTop = false,\n                                                  children,\n                                                  className,\n                                                  labelClassName,\n                                                  trimItemsWhenMultiple,\n                                                  ...props\n                                              }) => {\n    let _value = value;\n\n    const _onChange = (_: any, item: { props: { value: any; }; }) => {\n        const value = item.props.value;\n        value === ALL_KEY ? onChangecb(ALL_KEY) : onChangecb(value);\n    }\n\n    if (multiple && (!_value || _value.length === 0)) _value = [ALL_KEY];\n\n    const transformItem: (i: string) => string = transformDisplay ? transformDisplay : i => i;\n\n    const renderValue = multiple\n        ? (item: any[]) => <span className={ellipsis ? 'ellipsis' : ''}>{\n            trimItemsWhenMultiple && item.length > 1 ?\n                transformItem(`${item[item.length-1]} (+${item.length - 1})`):\n                item?.map(transformItem).join(\",\")\n        }</span>\n        : null;\n\n    return <div className={`select ${labelOnTop ? 'labelOnTop' : ''} ${className ? className : ''}`}>\n        {label && <div className={`selectLabel ${labelClassName ? labelClassName : ''}`}>{label}</div>}\n        <MUISelect\n            {...Object.assign({}, defaultProps, props, {\n                classes,\n                value: _value,\n                renderValue,\n                multiple,\n                onChange: _onChange,\n            })}\n        >\n            {multiple && <MenuItem key={ALL_KEY} value={ALL_KEY}>{transformItem(ALL_KEY)}</MenuItem>}\n            {children}\n        </MUISelect>\n    </div>\n}\n"]},"metadata":{},"sourceType":"module"}